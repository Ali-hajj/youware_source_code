import{r as Po,a as qo,g as Ko}from"./vendor-DavUf6mE.js";import{r as X,c as qs,f as le,s as Xs,e as Ls,a as ei,i as ti,p as ai,b as si,d as ri,g as ni,h as di,j as Tt,k as oi,R as Rr}from"./utils-CxwQJQ8o.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const d of n)if(d.type==="childList")for(const o of d.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const d={};return n.integrity&&(d.integrity=n.integrity),n.referrerPolicy&&(d.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?d.credentials="include":n.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function r(n){if(n.ep)return;n.ep=!0;const d=s(n);fetch(n.href,d)}})();var ys={exports:{}},ta={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dr;function ii(){if(Dr)return ta;Dr=1;var e=Po(),a=Symbol.for("react.element"),s=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,n=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function o(c,l,i){var u,m={},N=null,x=null;i!==void 0&&(N=""+i),l.key!==void 0&&(N=""+l.key),l.ref!==void 0&&(x=l.ref);for(u in l)r.call(l,u)&&!d.hasOwnProperty(u)&&(m[u]=l[u]);if(c&&c.defaultProps)for(u in l=c.defaultProps,l)m[u]===void 0&&(m[u]=l[u]);return{$$typeof:a,type:c,key:N,ref:x,props:m,_owner:n.current}}return ta.Fragment=s,ta.jsx=o,ta.jsxs=o,ta}var Ar;function ci(){return Ar||(Ar=1,ys.exports=ii()),ys.exports}var t=ci(),Ja={},Br;function li(){if(Br)return Ja;Br=1;var e=qo();return Ja.createRoot=e.createRoot,Ja.hydrateRoot=e.hydrateRoot,Ja}var ui=li();/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mi=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),vi=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,s,r)=>r?r.toUpperCase():s.toLowerCase()),Wr=e=>{const a=vi(e);return a.charAt(0).toUpperCase()+a.slice(1)},Xn=(...e)=>e.filter((a,s,r)=>!!a&&a.trim()!==""&&r.indexOf(a)===s).join(" ").trim(),yi=e=>{for(const a in e)if(a.startsWith("aria-")||a==="role"||a==="title")return!0};/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var bi={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pi=X.forwardRef(({color:e="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:n="",children:d,iconNode:o,...c},l)=>X.createElement("svg",{ref:l,...bi,width:a,height:a,stroke:e,strokeWidth:r?Number(s)*24/Number(a):s,className:Xn("lucide",n),...!d&&!yi(c)&&{"aria-hidden":"true"},...c},[...o.map(([i,u])=>X.createElement(i,u)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=(e,a)=>{const s=X.forwardRef(({className:r,...n},d)=>X.createElement(pi,{ref:d,iconNode:a,className:Xn(`lucide-${mi(Wr(e))}`,`lucide-${e}`,r),...n}));return s.displayName=Wr(e),s};/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hi=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],Ks=ee("archive",hi);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wi=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],Tr=ee("building",wi);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],Js=ee("calculator",Ni);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ji=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],bt=ee("calendar",ji);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xi=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Rs=ee("chart-column",xi);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],fi=ee("chart-pie",gi);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ei=ee("check",Mi);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hi=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Vi=ee("chevron-down",Hi);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xi=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Li=ee("chevron-left",Xi);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ji=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ln=ee("chevron-right",Ji);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ri=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Jn=ee("circle-alert",Ri);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Rn=ee("circle-check-big",Di);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ai=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Bi=ee("circle-check",Ai);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wi=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Dn=ee("circle-x",Wi);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ki=ee("clock",Ti);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fi=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Ds=ee("copy",Fi);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zi=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],er=ee("dollar-sign",Zi);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],St=ee("download",Si);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],As=ee("external-link",_i);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oi=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],Qi=ee("file-spreadsheet",Oi);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ii=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],_t=ee("file-text",Ii);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gi=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Ba=ee("funnel",Gi);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ui=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Ci=ee("globe",Ui);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yi=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],kr=ee("key-round",Yi);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],rs=ee("mail",zi);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $i=[["path",{d:"M5 12h14",key:"1ays0h"}]],Fr=ee("minus",$i);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],An=ee("palette",Pi);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qi=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ue=ee("plus",qi);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ki=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Bn=ee("printer",Ki);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ec=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],bs=ee("refresh-ccw",ec);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tc=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],ac=ee("rotate-ccw",tc);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sc=[["path",{d:"M4 11a9 9 0 0 1 9 9",key:"pv89mb"}],["path",{d:"M4 4a16 16 0 0 1 16 16",key:"k0647b"}],["circle",{cx:"5",cy:"19",r:"1",key:"bfqh0e"}]],Zr=ee("rss",sc);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rc=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Wn=ee("save",rc);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nc=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],dc=ee("search",nc);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oc=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ic=ee("settings",oc);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],lc=ee("share-2",cc);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uc=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Sr=ee("shield",uc);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mc=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],_r=ee("square-check-big",mc);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vc=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],sa=ee("square-pen",vc);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yc=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Or=ee("square",yc);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bc=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ft=ee("trash-2",bc);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],hc=ee("trending-down",pc);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wc=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Nc=ee("trending-up",wc);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jc=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],tr=ee("upload",jc);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xc=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],gc=ee("user-plus",xc);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fc=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],da=ee("users",fc);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mc=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ot=ee("x",Mc),Wa={youware:{base:"",name:"Same-Origin Backend"},youwareLegacy:{base:"https://backend.youware.com",name:"Youware Backend (Legacy)"},hostinger:{base:"https://your-domain.com",name:"Hostinger VPS"},local:{base:"http://localhost:3000",name:"Local Development"}},Qr="youware",Ir=typeof window<"u"&&window?.ywConfig?.apiBase||typeof window<"u"&&window?.ywConfig?.backend?.baseUrl;Ir&&(Wa.runtime={base:Ir,name:"Runtime Config"});const Ec=typeof window<"u"?new URLSearchParams(window.location.search):null,Gr=Ec?.get("apiBase");Gr&&(Wa.query={base:Gr,name:"Query Override"});const Hc=()=>{const e=["query","runtime",Qr];for(const a of e){const s=Wa[a];if(s)return s}return console.warn(`âš ï¸ Unknown API environment: ${Qr}. Falling back to same-origin API.`),Wa.youware},Vc=e=>e||"",Tn=Hc(),Xc=Vc(Tn.base),yt={...Tn,base:Xc};console.log(`ðŸ”§ API Environment: ${yt.name} (${yt.base||"same-origin"})`);const Te=e=>yt.base?`${yt.base}${e}`:e,je={events:Te("/api/events"),eventsById:e=>Te(`/api/events/${e}`),eventsBulk:Te("/api/events/bulk"),eventsExport:Te("/api/events/export"),authLogin:Te("/api/auth/login"),authLogout:Te("/api/auth/logout"),authMe:Te("/api/auth/me"),users:Te("/api/users"),usersById:e=>Te(`/api/users/${e}`),licenses:Te("/api/licenses"),licensesById:e=>Te(`/api/licenses/${e}`),licensesCheck:Te("/api/licenses/check"),licensesGenerate:Te("/api/licenses/generate"),licensesPreviewSerial:Te("/api/licenses/preview-serial")},kt=()=>navigator.userAgent.includes("HeadlessChrome")||navigator.userAgent.includes("PhantomJS")||typeof window<"u"&&window.navigator.webdriver===!0,Lc={"x-project-id":"X-Project-Id","x-encrypted-yw-id":"X-Encrypted-Yw-ID","x-is-login":"X-Is-Login","x-yw-env":"X-Yw-Env"},Jc=e=>typeof e=="string"||typeof e=="number"||typeof e=="boolean",ar=e=>!!e&&typeof e=="object"&&!Array.isArray(e),oa=e=>{if(Jc(e))return e;if(Array.isArray(e)){for(const a of e){const s=oa(a);if(s!==void 0)return s}return}if(ar(e))for(const a of Object.values(e)){const s=oa(a);if(s!==void 0)return s}},Rc=(e,a)=>{if(!ar(e))return;if(a in e)return e[a];const s=a.toLowerCase(),r=Object.keys(e).find(n=>n.toLowerCase()===s);return r?e[r]:void 0},Ra=(e,a)=>{for(const s of a){let r=e,n=!0;for(const o of s)if(r=Rc(r,o),r===void 0){n=!1;break}if(!n)continue;const d=oa(r);if(d!==void 0)return d}},Nt=(e,a)=>{if(!e||typeof e!="object"&&!Array.isArray(e))return;const s=new Set,r=[e];for(;r.length>0;){const n=r.pop();if(!(!n||typeof n!="object")&&!s.has(n)){if(s.add(n),Array.isArray(n)){for(const d of n)r.push(d);continue}for(const[d,o]of Object.entries(n)){const c=d.toLowerCase();if(a.every(l=>c.includes(l))){const l=oa(o);if(l!==void 0)return l}o&&typeof o=="object"&&r.push(o)}}}},Dc=e=>{if(!ar(e))return{};const a={};for(const[s,r]of Object.entries(e)){const n=Lc[s.toLowerCase()];if(!n)continue;const d=oa(r);d!==void 0&&(a[n]=String(d))}return a},Ac=()=>{const e=globalThis?.ywSdk;if(!e)return{};const a=[()=>e.getHeaders?.(),()=>e.getRequestHeaders?.(),()=>e.headers,()=>e.getAuthHeaders?.()];for(const s of a)try{const r=s?.();if(!r||r instanceof Promise)continue;const n=Dc(r);if(Object.keys(n).length>0)return n}catch{}return{}},Bc=()=>{const e=new Set,a=[],s=N=>{!N||e.has(N)||(e.add(N),a.push(N))},r=N=>{try{return N()}catch{return}};s(r(()=>globalThis?.ywConfig)),s(r(()=>globalThis?.yw?.config)),s(r(()=>globalThis?.__ywConfig));const n=(()=>{try{if(typeof window<"u"&&window.parent&&window.parent!==window)return window.parent}catch{}return null})();n&&(s(r(()=>n.ywConfig)),s(r(()=>n.yw?.config)),s(r(()=>n.__ywConfig)));let d=null;for(;a.length>0&&!d;){const N=a.shift();N&&typeof N=="object"&&(d=N)}if(!d)return{};const o={},c=(N,x)=>{x!==void 0&&(o[N]=String(x))},l=[["encrypted_yw_id"],["encryptedYwId"],["owner_yw_id"],["ownerYwId"],["project","encrypted_yw_id"],["project","encryptedYwId"],["project","owner_yw_id"],["project","ownerYwId"],["workspace","owner_yw_id"],["workspace","ownerYwId"]],i=[["project_id"],["projectId"],["project","id"],["project","project_id"],["project","projectId"],["workspace","project_id"],["workspace","projectId"],["workspace","project","id"]],u=[["is_login"],["isLogin"],["auth","is_login"],["auth","isLogin"],["user","is_login"],["user","isLogin"],["session","is_login"],["session","isLogin"]],m=[["yw_env"],["ywEnv"],["env"],["environment"],["project","env"],["project","environment"],["workspace","env"],["workspace","environment"]];return c("X-Encrypted-Yw-ID",Ra(d,l)??Nt(d,["encrypted","yw"])??Nt(d,["owner","yw"])),c("X-Project-Id",Ra(d,i)??Nt(d,["project","id"])),c("X-Is-Login",Ra(d,u)??Nt(d,["is","login"])??Nt(d,["logged","in"])),c("X-Yw-Env",Ra(d,m)??Nt(d,["yw","env"])??Nt(d,["environment"])),o},Wc=()=>{const e=Bc(),a=Ac();for(const[s,r]of Object.entries(a))e[s]||(e[s]=r);return e},Ur=e=>{const a=e.trim();if(!(!a||a==="undefined"||a==="null"))return a};let Bs=null;const Tc=e=>{Bs=e},kc=e=>{const a=new Headers(e),s=Bs?Bs():null;s&&a.set("Authorization",`Bearer ${s}`);const r=Wc();for(const[n,d]of Object.entries(r)){if(n.toLowerCase()==="authorization")continue;const o=Ur(String(d));if(!o)continue;const c=a.get(n);c&&Ur(c)||a.set(n,o)}return a},Me=async(e,a={},s=3)=>{let r=null;for(let n=1;n<=s;n++)try{console.log(`ðŸ”„ API call attempt ${n}/${s} to:`,e);const d=kc(a.headers),o=await fetch(e,{...a,headers:d,signal:AbortSignal.timeout(1e4)});return console.log(`ðŸ“¡ Response received (attempt ${n}):`,{status:o.status,statusText:o.statusText,url:o.url,ok:o.ok}),o}catch(d){if(r=d instanceof Error?d:new Error("Unknown error"),console.warn(`âš ï¸ API call failed (attempt ${n}/${s}):`,{targetUrl:e,error:r.message,willRetry:n<s}),n<s){const o=Math.pow(2,n-1)*1e3;console.log(`â±ï¸ Waiting ${o}ms before retry...`),await new Promise(c=>setTimeout(c,o))}}throw new Error(`API call failed after ${s} attempts: ${r?.message||"Unknown error"}`)},Fc=[{id:"restaurant",name:"Restaurant",type:"restaurant",color:"#10b981",icon:"ðŸ½ï¸"},{id:"bar",name:"Bar",type:"bar",color:"#f59e0b",icon:"ðŸº"},{id:"banquet",name:"Banquet Hall",type:"banquet",color:"#6366f1",icon:"ðŸŽ‰"}],Cr={storeName:"My Restaurant",storeEmail:"Mikeakanan@gmail.com",storePhone:"313.938.6666",storeAddress:"0000 Street Name, Farmington Hills Mi 48336",applicationTitle:"Event Manager",applicationSubtitle:"Professional Hospitality Event Management",logo:"/assets/default-logo.png",themeColor:"#f59e0b",backgroundColor:"#0f172a",textColor:"#ffffff",highlightTextColor:"#f59e0b",dbHost:"",dbUser:"",dbPassword:"",dbName:""},Zc=[{id:"1",name:"Red",color:"#ef4444"},{id:"2",name:"Orange",color:"#f97316"},{id:"3",name:"Amber",color:"#f59e0b"},{id:"4",name:"Yellow",color:"#eab308"},{id:"5",name:"Lime",color:"#84cc16"},{id:"6",name:"Green",color:"#22c55e"},{id:"7",name:"Emerald",color:"#10b981"},{id:"8",name:"Teal",color:"#14b8a6"},{id:"9",name:"Cyan",color:"#06b6d4"},{id:"10",name:"Sky",color:"#0ea5e9"},{id:"11",name:"Blue",color:"#3b82f6"},{id:"12",name:"Indigo",color:"#6366f1"},{id:"13",name:"Violet",color:"#8b5cf6"},{id:"14",name:"Purple",color:"#a855f7"},{id:"15",name:"Fuchsia",color:"#d946ef"},{id:"16",name:"Pink",color:"#ec4899"},{id:"17",name:"Rose",color:"#f43f5e"},{id:"18",name:"White",color:"#ffffff"},{id:"19",name:"Black",color:"#000000"},{id:"20",name:"Dark Navy",color:"#1e3a8a"}],Je=qs((e,a)=>({events:[],filters:{},selectedEvent:null,isEventDialogOpen:!1,venues:Fc,settings:Cr,colorPresets:Zc,addMultipleEvents:async s=>{const r=je.eventsBulk;if(kt()){const o=Date.now(),c=s.map((l,i)=>({...l,id:`event-${o}-${i}-${Math.random().toString(36).substr(2,9)}`,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}));console.log("ðŸ–¼ï¸ Screenshot environment detected - using in-memory events only."),e(l=>({events:[...l.events,...c]}));return}const n=await Me(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({events:s})});if(!n.ok){const o=await n.text().catch(()=>"Could not read error response");throw new Error(`Failed to import events: ${o}`)}const d=await n.json();e({events:d.events??[]})},addEvent:async s=>{const r=je.events;if(kt()){const o={...s,id:`event-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};console.log("ðŸ–¼ï¸ Screenshot environment detected - skipping network request."),e(c=>({events:[...c.events,o]}));return}const n=await Me(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!n.ok){const o=await n.text().catch(()=>"Could not read error response");throw new Error(`Failed to create event: ${o}`)}const d=await n.json();d.event&&e(o=>({events:[...o.events,d.event]}))},updateEvent:async(s,r)=>{const n=je.eventsById(s);if(kt()){console.log("ðŸ–¼ï¸ Screenshot environment detected - skipping network request."),e(c=>({events:c.events.map(l=>l.id===s?{...l,...r,updatedAt:new Date().toISOString()}:l)}));return}const d=await Me(n,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!d.ok){const c=await d.text().catch(()=>"Could not read error response");throw new Error(`Failed to update event: ${c}`)}const o=await d.json();o.event&&e(c=>({events:c.events.map(l=>l.id===s?o.event:l)}))},deleteEvent:async s=>{const r=je.eventsById(s);if(kt()){console.log("ðŸ–¼ï¸ Screenshot environment detected - skipping network request."),e(d=>({events:d.events.filter(o=>o.id!==s)}));return}const n=await Me(r,{method:"DELETE"});if(!n.ok){const d=await n.text().catch(()=>"Could not read error response");throw new Error(`Failed to delete event: ${d}`)}e(d=>({events:d.events.filter(o=>o.id!==s)}))},clearAllEvents:async()=>{const s=je.events;if(kt()){console.log("ðŸ–¼ï¸ Screenshot environment detected - skipping network request."),e({events:[]});return}const r=await Me(s,{method:"DELETE"});if(!r.ok){const n=await r.text().catch(()=>"Could not read error response");throw new Error(`Failed to clear events: ${n}`)}e({events:[]})},loadEventsFromDatabase:async()=>{const s=je.events;if(kt()){console.log("ðŸ–¼ï¸ Screenshot environment detected - skipping network request.");return}console.log("ðŸ“¥ Loading events from database..."),console.log("ðŸ”— API URL:",s),console.log("ðŸ”‘ Using API base:",yt.base||"same-origin");const r=await Me(s);if(console.log("ðŸ“¡ Response status:",r.status),console.log("ðŸ“¡ Response ok:",r.ok),console.log("ðŸ“¡ Response URL:",r.url),!r.ok){const o=await r.text().catch(()=>"Could not read error response");throw console.error("âŒ Failed to load events:",o),console.error("âŒ Response status:",r.status,r.statusText),new Error(`Failed to load events: ${o}`)}const n=await r.json();console.log(`âœ… Loaded ${n.events?.length||0} events from database:`,n.events);const d=a().events;console.log("ðŸ”„ Previous events count:",d.length),e({events:n.events||[]}),console.log("ðŸ”„ New events count after set:",a().events.length),console.log("ðŸ”„ Store state updated with events:",a().events)},setFilters:s=>{e(r=>({filters:{...r.filters,...s}}))},setSelectedEvent:s=>{e({selectedEvent:s})},setEventDialogOpen:s=>{e({isEventDialogOpen:s})},addVenue:s=>{const r={...s,id:`venue-${Date.now()}-${Math.random().toString(36).substr(2,9)}`};e(n=>({venues:[...n.venues,r]}))},updateVenue:(s,r)=>{e(n=>({venues:n.venues.map(d=>d.id===s?{...d,...r}:d)}))},deleteVenue:s=>{e(r=>({venues:r.venues.filter(n=>n.id!==s)}))},updateSettings:s=>{e(r=>({settings:{...r.settings,...s}}))},resetToDefaults:()=>{e({settings:{...Cr}})},uploadLogo:async s=>{try{const r=new FileReader;r.onload=n=>{const d=n.target?.result;e(o=>({settings:{...o.settings,logo:d}}))},r.readAsDataURL(s)}catch(r){console.error("Error uploading logo:",r)}},getFilteredEvents:()=>{const{events:s,filters:r}=a();return s.filter(n=>{if(r.venue&&n.venue!==r.venue&&n.venueId!==r.venue||r.status&&n.status!==r.status||r.paymentStatus&&n.paymentStatus!==r.paymentStatus)return!1;if(r.searchQuery){const d=r.searchQuery.toLowerCase(),o=i=>i.replace(/[\s\-\(\)\.]/g,""),c=o(d),l=o(n.contact.phone);return n.title.toLowerCase().includes(d)||n.contact.name.toLowerCase().includes(d)||n.contact.phone.includes(d)||l.includes(c)||n.contact.email.toLowerCase().includes(d)}return!0})},getEventStats:()=>a().getFilteredEvents().reduce((r,n)=>{r[n.status]++,r[n.paymentStatus]++;const d=n.pricing?.total||0,o=n.pricing?.amountPaid||0,c=n.pricing?.remainingBalance||0;return n.paymentStatus==="paid"?r.totalRevenue+=d:(r.totalRevenue+=o,r.totalOutstanding+=c),r},{confirmed:0,pending:0,cancelled:0,closed:0,paid:0,unpaid:0,totalRevenue:0,totalOutstanding:0}),getEventsForDate:s=>a().getFilteredEvents().filter(n=>n.date===s),getVenueById:s=>a().venues.find(n=>n.id===s),getEventColor:s=>s.color?s.color:a().getVenueById(s.venueId||s.venue)?.color||"#6b7280"}));typeof window<"u"&&Je.getState().loadEventsFromDatabase().catch(e=>{console.warn("âš ï¸ Failed to load events:",e)});const Sc={confirmed:"bg-blue-50 text-blue-700 border-blue-200",pending:"bg-amber-50 text-amber-700 border-amber-200",cancelled:"bg-red-50 text-red-700 border-red-200",closed:"bg-slate-50 text-slate-700 border-slate-200"},Yr=e=>{const[a,s]=e.split(":").map(Number),r=a>=12?"PM":"AM";return`${a===0?12:a>12?a-12:a}:${s.toString().padStart(2,"0")} ${r}`},kn=({event:e,compact:a=!1,onClick:s,showFullDetails:r=!1})=>{const{getEventColor:n,getVenueById:d}=Je(),o=Yr(e.startTime),c=Yr(e.endTime),l=n(e),i=d(e.venueId||e.venue),u=m=>{m.stopPropagation(),s?.()};return a?t.jsxs("div",{className:`
          px-2 py-1 rounded text-xs cursor-pointer hover:shadow-sm transition-all border-2
          ${e.status==="cancelled"?"opacity-60":""}
          ${e.status==="closed"?"opacity-80":""}
        `,style:{backgroundColor:`${l}15`,borderColor:l,color:"#1f2937"},onClick:u,"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnRDYXJkLnRzeEA0Nzo2",children:[t.jsx("div",{className:"flex items-center gap-1 mb-0.5","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnRDYXJkLnRzeEA2MDo4","data-yw-s":!0,children:t.jsxs("span",{className:`font-medium truncate ${e.status==="closed"?"line-through":""}`,"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnRDYXJkLnRzeEA2MToxMA","data-yw-s":!0,children:[e.title,t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnRDYXJkLnRzeEA2MjoyNQ","data-yw-t":!0,"data-yw-auto":!0,children:" ("}),o,t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnRDYXJkLnRzeEA2MjozOA","data-yw-t":!0,"data-yw-auto":!0,children:" - "}),c,t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnRDYXJkLnRzeEA2Mjo1MA","data-yw-t":!0,"data-yw-auto":!0,children:")"}),e.status==="cancelled"&&" (Cancelled)"]})}),t.jsx("div",{className:"opacity-70 text-xs mt-0.5","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnRDYXJkLnRzeEA2Njo4","data-yw-s":!0,children:t.jsxs("div",{className:"font-medium","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnRDYXJkLnRzeEA2NzoxMA","data-yw-s":!0,children:[e.contact.name,t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnRDYXJkLnRzeEA2Nzo1OQ","data-yw-t":!0,"data-yw-auto":!0,children:" ("}),e.contact.phone,t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnRDYXJkLnRzeEA2Nzo4Mg","data-yw-t":!0,"data-yw-auto":!0,children:")"})]})})]}):t.jsxs("div",{className:`
        bg-white rounded-lg shadow-lg border border-slate-200 p-4 cursor-pointer 
        hover:shadow-xl hover:border-slate-300 hover:scale-[1.02] transition-all duration-200
        ${e.status==="cancelled"?"opacity-60":""}
        ${e.status==="closed"?"opacity-80":""}
      `,onClick:u,"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnRDYXJkLnRzeEA3NDo0","data-yw-s":!0,children:[t.jsxs("div",{className:"flex items-start justify-between mb-3","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnRDYXJkLnRzeEA4NDo2","data-yw-s":!0,children:[t.jsxs("div",{className:"flex items-center gap-2","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnRDYXJkLnRzeEA4NTo4","data-yw-s":!0,children:[t.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:l},"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnRDYXJkLnRzeEA4NjoxMA"}),t.jsx("span",{className:"text-lg","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnRDYXJkLnRzeEA5MDoxMA","data-yw-s":!0,children:i?.icon||"ðŸ“…"}),t.jsxs("h3",{className:`font-semibold text-gray-900 ${e.status==="closed"?"line-through":""}`,"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnRDYXJkLnRzeEA5MToxMA","data-yw-s":!0,children:[e.title,e.status==="cancelled"&&" (Cancelled)"]})]}),t.jsxs("div",{className:"flex gap-2","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnRDYXJkLnRzeEA5Njo4","data-yw-s":!0,children:[t.jsx("span",{className:`px-2 py-1 rounded-md text-xs font-medium border ${Sc[e.status]}`,"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnRDYXJkLnRzeEA5NzoxMA","data-yw-s":!0,children:e.status}),t.jsx("span",{className:`px-2 py-1 rounded-md text-xs font-medium border ${e.paymentStatus==="paid"?"bg-green-50 text-green-700 border-green-200":"bg-orange-50 text-orange-700 border-orange-200"}`,"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnRDYXJkLnRzeEAxMDA6MTA","data-yw-s":!0,children:e.paymentStatus})]})]}),t.jsxs("div",{className:"text-sm text-gray-600 mb-2","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnRDYXJkLnRzeEAxMTE6Ng","data-yw-s":!0,children:[o,t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnRDYXJkLnRzeEAxMTI6MTk","data-yw-t":!0,"data-yw-auto":!0,children:" â€“ "}),c]}),t.jsxs("div",{className:"text-sm text-gray-600 space-y-1","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnRDYXJkLnRzeEAxMTY6Ng","data-yw-s":!0,children:[t.jsx("div",{className:"font-medium","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnRDYXJkLnRzeEAxMTc6OA","data-yw-s":!0,children:e.contact.name}),t.jsx("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnRDYXJkLnRzeEAxMTg6OA","data-yw-s":!0,children:e.contact.phone}),r&&e.contact.email&&t.jsx("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnRDYXJkLnRzeEAxMjA6MTA","data-yw-s":!0,children:e.contact.email}),e.createdBy&&t.jsxs("div",{className:"text-xs text-gray-500","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnRDYXJkLnRzeEAxMjM6MTA","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnRDYXJkLnRzeEAxMjM6NDk","data-yw-t":!0,"data-yw-auto":!0,children:"Added by "}),t.jsx("span",{className:"font-medium text-gray-700","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnRDYXJkLnRzeEAxMjQ6MjE","data-yw-s":!0,children:e.createdBy.displayName||e.createdBy.userId}),e.createdBy.role&&` (${e.createdBy.role})`]})]}),r&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"mt-3 text-sm text-gray-600","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnRDYXJkLnRzeEAxMzQ6MTA","data-yw-s":!0,children:t.jsxs("div",{className:"font-medium","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnRDYXJkLnRzeEAxMzU6MTI","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnRDYXJkLnRzeEAxMzU6NDE","data-yw-t":!0,"data-yw-auto":!0,children:"Venue: "}),i?.name||e.venue]})}),t.jsx("div",{className:"mt-3 text-sm text-gray-600","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnRDYXJkLnRzeEAxMzk6MTA","data-yw-s":!0,children:t.jsxs("div",{className:"flex items-center gap-4","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnRDYXJkLnRzeEAxNDA6MTI","data-yw-s":!0,children:[t.jsx("span",{className:"font-medium","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnRDYXJkLnRzeEAxNDE6MTQ","data-yw-t":!0,"data-yw-s":!0,children:"Payment:"}),t.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${e.paymentStatus==="paid"?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"}`,"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnRDYXJkLnRzeEAxNDI6MTQ","data-yw-s":!0,children:e.paymentStatus}),e.paymentMethod&&e.paymentStatus==="paid"&&t.jsxs("span",{className:"text-gray-500","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnRDYXJkLnRzeEAxNTA6MTY","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnRDYXJkLnRzeEAxNTA6NDg","data-yw-t":!0,"data-yw-auto":!0,children:"via "}),e.paymentMethod.replace("_"," ")]})]})})]}),e.notes&&t.jsx("div",{className:`mt-2 text-xs text-gray-500 italic ${r?"":"truncate"}`,"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnRDYXJkLnRzeEAxNTk6OA","data-yw-s":!0,children:e.notes})]})},_c=({currentDate:e,onDateClick:a,onEventClick:s})=>{const{getEventsForDate:r,events:n}=Je();console.log(`ðŸ“… Calendar rendering for month: ${le(e,"MMMM yyyy")}`),console.log(`ðŸ“Š Total events in store: ${n.length}`,n);const d=Xs(e),o=Ls(e),c=ei({start:d,end:o}),l=i=>{a&&a(le(i,"yyyy-MM-dd"))};return t.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXIudHN4QDM4OjQ","data-yw-s":!0,children:[t.jsx("div",{className:"grid grid-cols-7 border-b border-gray-200","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXIudHN4QDQwOjY","data-yw-s":!0,children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(i=>t.jsx("div",{className:"px-4 py-3 text-sm font-medium text-gray-500 text-center border-r border-gray-100 last:border-r-0","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXIudHN4QDQyOjEw","data-yw-s":!0,children:i},i))}),t.jsxs("div",{className:"grid grid-cols-7","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXIudHN4QDUyOjY","data-yw-s":!0,children:[Array.from({length:d.getDay()},(i,u)=>t.jsx("div",{className:"min-h-[120px] border-r border-b border-gray-100 bg-gray-50/30","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXIudHN4QDU1OjEw","data-yw-s":!0},`empty-start-${u}`)),c.map((i,u)=>{const m=le(i,"yyyy-MM-dd"),N=r(m),x=ti(i);return N.length>0&&console.log(`ðŸ“Œ ${m}: ${N.length} event(s)`,N.map(w=>w.title)),t.jsxs("div",{className:`
                min-h-[120px] border-r border-b border-gray-100 last:border-r-0 p-2 cursor-pointer hover:bg-gray-50 transition-colors
                ${x?"bg-blue-50":""}
              `,onClick:()=>l(i),"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXIudHN4QDY4OjEy","data-yw-s":!0,children:[t.jsx("div",{className:`
                text-sm font-medium mb-2 
                ${x?"text-blue-600 font-bold":"text-gray-900"}
              `,"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXIudHN4QDc3OjE0","data-yw-s":!0,children:le(i,"d")}),t.jsxs("div",{className:"space-y-1","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXIudHN4QDg1OjE0","data-yw-s":!0,children:[N.slice(0,3).map(w=>t.jsx(kn,{event:w,compact:!0,onClick:()=>s?.(w.id),"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXIudHN4QDg3OjE4","data-yw-s":!0},w.id)),N.length>3&&t.jsxs("div",{className:"text-xs text-gray-500 text-center py-1","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXIudHN4QDk1OjE4","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXIudHN4QDk1Ojc0","data-yw-t":!0,"data-yw-auto":!0,children:"+"}),N.length-3,t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXIudHN4QDk2OjQz","data-yw-t":!0,"data-yw-auto":!0,children:" more"})]})]})]},u)}),Array.from({length:6-o.getDay()},(i,u)=>t.jsx("div",{className:"min-h-[120px] border-r border-b border-gray-100 bg-gray-50/30 last:border-r-0","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXIudHN4QDEwNjoxMA","data-yw-s":!0},`empty-end-${u}`))]})]})},Oc=({selectedDate:e,onDateChange:a,onBackToMonth:s,onNewEvent:r,onEventClick:n})=>{const{getEventsForDate:d}=Je(),o=ai(e,"yyyy-MM-dd",new Date),c=d(e),l=()=>{const u=new Date(o);u.setDate(u.getDate()-1),a(le(u,"yyyy-MM-dd"))},i=()=>{const u=new Date(o);u.setDate(u.getDate()+1),a(le(u,"yyyy-MM-dd"))};return t.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 h-full flex flex-col","data-yw":"c3JjL2NvbXBvbmVudHMvRGFpbHlWaWV3LnRzeEA0MDo0","data-yw-s":!0,children:[t.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200","data-yw":"c3JjL2NvbXBvbmVudHMvRGFpbHlWaWV3LnRzeEA0Mjo2","data-yw-s":!0,children:[t.jsxs("div",{className:"flex items-center gap-4","data-yw":"c3JjL2NvbXBvbmVudHMvRGFpbHlWaWV3LnRzeEA0Mzo4","data-yw-s":!0,children:[t.jsxs("button",{onClick:s,className:"flex items-center gap-2 px-3 py-2 text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-md transition-colors","data-yw":"c3JjL2NvbXBvbmVudHMvRGFpbHlWaWV3LnRzeEA0NDoxMA","data-yw-s":!0,children:[t.jsx(bt,{className:"h-4 w-4","data-yw":"c3JjL2NvbXBvbmVudHMvRGFpbHlWaWV3LnRzeEA0ODoxMg","data-yw-s":!0}),t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRGFpbHlWaWV3LnRzeEA0ODo0NA","data-yw-t":!0,"data-yw-auto":!0,children:"Back to Month"})]}),t.jsx("div",{className:"w-px h-6 bg-gray-300","data-yw":"c3JjL2NvbXBvbmVudHMvRGFpbHlWaWV3LnRzeEA1MjoxMA","data-yw-s":!0}),t.jsxs("div",{className:"flex items-center gap-3","data-yw":"c3JjL2NvbXBvbmVudHMvRGFpbHlWaWV3LnRzeEA1NDoxMA","data-yw-s":!0,children:[t.jsx("button",{onClick:l,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-md transition-colors","data-yw":"c3JjL2NvbXBvbmVudHMvRGFpbHlWaWV3LnRzeEA1NToxMg","data-yw-s":!0,children:t.jsx(Li,{className:"h-5 w-5","data-yw":"c3JjL2NvbXBvbmVudHMvRGFpbHlWaWV3LnRzeEA1OToxNA","data-yw-s":!0})}),t.jsx("h2",{className:"text-xl font-semibold text-gray-900","data-yw":"c3JjL2NvbXBvbmVudHMvRGFpbHlWaWV3LnRzeEA2MjoxMg","data-yw-s":!0,children:le(o,"EEEE, MMMM d, yyyy")}),t.jsx("button",{onClick:i,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-md transition-colors","data-yw":"c3JjL2NvbXBvbmVudHMvRGFpbHlWaWV3LnRzeEA2NjoxMg","data-yw-s":!0,children:t.jsx(Ln,{className:"h-5 w-5","data-yw":"c3JjL2NvbXBvbmVudHMvRGFpbHlWaWV3LnRzeEA3MDoxNA","data-yw-s":!0})})]})]}),t.jsxs("button",{onClick:()=>r(e),className:"flex items-center gap-2 px-4 py-2 bg-amber-600 text-white rounded-md hover:bg-amber-700 transition-colors shadow-sm","data-yw":"c3JjL2NvbXBvbmVudHMvRGFpbHlWaWV3LnRzeEA3NTo4","data-yw-s":!0,children:[t.jsx(Ue,{className:"h-4 w-4","data-yw":"c3JjL2NvbXBvbmVudHMvRGFpbHlWaWV3LnRzeEA3OToxMA","data-yw-s":!0}),t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRGFpbHlWaWV3LnRzeEA3OTozOA","data-yw-t":!0,"data-yw-auto":!0,children:"New Event"})]})]}),t.jsx("div",{className:"flex-1 overflow-y-auto p-6","data-yw":"c3JjL2NvbXBvbmVudHMvRGFpbHlWaWV3LnRzeEA4NTo2","data-yw-s":!0,children:c.length===0?t.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center","data-yw":"c3JjL2NvbXBvbmVudHMvRGFpbHlWaWV3LnRzeEA4NzoxMA","data-yw-s":!0,children:[t.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4","data-yw":"c3JjL2NvbXBvbmVudHMvRGFpbHlWaWV3LnRzeEA4ODoxMg","data-yw-s":!0,children:t.jsx(bt,{className:"h-8 w-8 text-gray-400","data-yw":"c3JjL2NvbXBvbmVudHMvRGFpbHlWaWV3LnRzeEA4OToxNA","data-yw-s":!0})}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2","data-yw":"c3JjL2NvbXBvbmVudHMvRGFpbHlWaWV3LnRzeEA5MToxMg","data-yw-t":!0,"data-yw-s":!0,children:"No events scheduled"}),t.jsxs("p",{className:"text-gray-500 mb-6","data-yw":"c3JjL2NvbXBvbmVudHMvRGFpbHlWaWV3LnRzeEA5MjoxMg","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRGFpbHlWaWV3LnRzeEA5Mjo0Ng","data-yw-t":!0,"data-yw-auto":!0,children:"No events are scheduled for "}),le(o,"MMMM d, yyyy")]}),t.jsxs("button",{onClick:()=>r(e),className:"flex items-center gap-2 px-4 py-2 bg-amber-600 text-white rounded-md hover:bg-amber-700 transition-colors","data-yw":"c3JjL2NvbXBvbmVudHMvRGFpbHlWaWV3LnRzeEA5NToxMg","data-yw-s":!0,children:[t.jsx(Ue,{className:"h-4 w-4","data-yw":"c3JjL2NvbXBvbmVudHMvRGFpbHlWaWV3LnRzeEA5OToxNA","data-yw-s":!0}),t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRGFpbHlWaWV3LnRzeEA5OTo0Mg","data-yw-t":!0,"data-yw-auto":!0,children:"Schedule Event"})]})]}):t.jsxs("div",{className:"space-y-4","data-yw":"c3JjL2NvbXBvbmVudHMvRGFpbHlWaWV3LnRzeEAxMDQ6MTA","data-yw-s":!0,children:[t.jsx("div",{className:"flex items-center justify-between","data-yw":"c3JjL2NvbXBvbmVudHMvRGFpbHlWaWV3LnRzeEAxMDU6MTI","data-yw-s":!0,children:t.jsxs("h3",{className:"text-lg font-medium text-gray-900","data-yw":"c3JjL2NvbXBvbmVudHMvRGFpbHlWaWV3LnRzeEAxMDY6MTQ","data-yw-s":!0,children:[c.length," ",c.length===1?"Event":"Events",t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRGFpbHlWaWV3LnRzeEAxMDc6ODA","data-yw-t":!0,"data-yw-auto":!0,children:" Scheduled"})]})}),c.sort((u,m)=>u.startTime.localeCompare(m.startTime)).map(u=>t.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden","data-yw":"c3JjL2NvbXBvbmVudHMvRGFpbHlWaWV3LnRzeEAxMTU6MTY","data-yw-s":!0,children:t.jsx(kn,{event:u,compact:!1,onClick:()=>n(u.id),showFullDetails:!0,"data-yw":"c3JjL2NvbXBvbmVudHMvRGFpbHlWaWV3LnRzeEAxMTY6MTg","data-yw-s":!0})},u.id))]})})]})},Qc=({onNewEvent:e,currentDate:a,onDateChange:s,onNavigateToHistory:r,currentUser:n,onLogout:d})=>{const o=n??{id:"GUEST",role:"guest",firstName:"Guest",lastName:"User"},c=o.role?o.role.toUpperCase():"GUEST",{getEventStats:l,filters:i,setFilters:u,settings:m,venues:N,events:x}=Je(),w=l(),y=h=>{u({venue:h})},p=h=>{const j=new Date(a);h==="prev"?j.setMonth(j.getMonth()-1):j.setMonth(j.getMonth()+1),s(j)};return t.jsxs("div",{className:"w-80 min-w-80 bg-gradient-to-b from-slate-800 to-slate-900 border-r border-slate-700 min-h-0 flex flex-col shadow-xl flex-shrink-0 overflow-hidden","data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hANDY6NA","data-yw-s":!0,children:[t.jsxs("div",{className:"p-6 border-b border-slate-700 flex-shrink-0","data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hANDg6Ng","data-yw-s":!0,children:[t.jsxs("div",{className:"mb-4 space-y-2","data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hANDk6OA","data-yw-s":!0,children:[t.jsxs("div",{className:"flex items-center justify-between gap-3","data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hANTA6MTA","data-yw-s":!0,children:[t.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-amber-300 to-amber-500 bg-clip-text text-transparent","data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hANTE6MTI","data-yw-t":!0,"data-yw-s":!0,children:"Event Manager"}),t.jsxs("div",{className:"flex items-center gap-2","data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hANTQ6MTI","data-yw-s":!0,children:[t.jsx("div",{className:`px-3 py-1 rounded-full border text-xs ${o.id==="BOOTSTRAP"?"bg-amber-100 border-amber-400 text-amber-700":"bg-slate-800/60 border-slate-600 text-slate-200"}`,"data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hANTU6MTQ","data-yw-s":!0,children:o.id==="BOOTSTRAP"?"SETUP MODE":c}),t.jsx("button",{onClick:d,className:"px-3 py-1 text-xs font-semibold text-white bg-red-500 hover:bg-red-600 rounded-md transition-colors","data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hANTg6MTQ","data-yw-t":!0,"data-yw-s":!0,children:"Logout"})]})]}),t.jsxs("div",{className:"text-xs text-slate-300","data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hANjY6MTA","data-yw-s":!0,children:[t.jsx("div",{className:"font-medium text-slate-200","data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hANjc6MTI","data-yw-t":!0,"data-yw-s":!0,children:"Signed in as"}),t.jsx("div",{className:`font-semibold ${o.id==="BOOTSTRAP","text-amber-300"}`,"data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hANjg6MTI","data-yw-s":!0,children:o.id==="BOOTSTRAP"?"Bootstrap Session":`${o.firstName} ${o.lastName}`}),t.jsx("div",{className:"text-slate-400 font-mono text-[11px]","data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hANzE6MTI","data-yw-s":!0,children:o.id}),t.jsx("p",{className:"mt-2 text-slate-400","data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hANzQ6MTI","data-yw-t":!0,"data-yw-s":!0,children:"Manage bookings, license verification, and performance insights from one control center."})]})]}),t.jsxs("button",{onClick:e,className:"w-full text-slate-900 px-4 py-2 rounded-lg font-medium transition-all shadow-md hover:shadow-lg flex items-center justify-center gap-2",style:{background:`linear-gradient(to right, ${m.themeColor}, ${m.themeColor}dd)`,filter:"hover:brightness(110%)"},onMouseEnter:h=>{h.currentTarget.style.filter="brightness(110%)"},onMouseLeave:h=>{h.currentTarget.style.filter="brightness(100%)"},"data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hAODA6OA",children:[t.jsx(Ue,{className:"h-4 w-4","data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hAOTQ6MTA","data-yw-s":!0}),t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hAOTQ6Mzg","data-yw-t":!0,"data-yw-auto":!0,children:"New Event"})]})]}),t.jsxs("div",{className:"p-6 border-b border-slate-700 flex-shrink-0","data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hAMTAwOjY","data-yw-s":!0,children:[t.jsxs("div",{className:"flex items-center justify-between mb-4","data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hAMTAxOjg","data-yw-s":!0,children:[t.jsx("h2",{className:"font-semibold text-slate-100","data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hAMTAyOjEw","data-yw-s":!0,children:a.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),t.jsxs("div",{className:"flex gap-1","data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hAMTA1OjEw","data-yw-s":!0,children:[t.jsx("button",{onClick:()=>p("prev"),className:"p-1 hover:bg-slate-700 text-slate-300 hover:text-slate-100 rounded transition-colors","data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hAMTA2OjEy","data-yw-t":!0,"data-yw-s":!0,children:"â†"}),t.jsx("button",{onClick:()=>p("next"),className:"p-1 hover:bg-slate-700 text-slate-300 hover:text-slate-100 rounded transition-colors","data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hAMTEyOjEy","data-yw-t":!0,"data-yw-s":!0,children:"â†’"})]})]}),t.jsx("button",{onClick:()=>s(new Date),className:"text-sm font-medium hover:opacity-80 transition-opacity",style:{color:m.themeColor},"data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hAMTIxOjg","data-yw-t":!0,children:"Go to Today"})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto overflow-x-hidden","data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hAMTMzOjY","data-yw-s":!0,children:[t.jsxs("div",{className:"p-6 border-b border-slate-700","data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hAMTM1Ojg","data-yw-s":!0,children:[t.jsx("h3",{className:"font-semibold text-slate-100 mb-3","data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hAMTM2OjEw","data-yw-t":!0,"data-yw-s":!0,children:"Venue Type"}),t.jsxs("div",{className:"space-y-2","data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hAMTM3OjEw","data-yw-s":!0,children:[t.jsx("button",{onClick:()=>y(void 0),className:`
                w-full text-left px-3 py-2 rounded-lg transition-colors flex items-center justify-between
                ${i.venue?"hover:bg-slate-700 text-slate-300":"border text-slate-100"}
              `,style:{backgroundColor:i.venue?void 0:`${m.themeColor}20`,borderColor:i.venue?void 0:m.themeColor,color:i.venue?void 0:m.themeColor},"data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hAMTM4OjEy",children:t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hAMTUzOjE0","data-yw-t":!0,"data-yw-s":!0,children:"All Venues"})}),N.map(h=>t.jsx("button",{onClick:()=>y(h.id),className:`
                  w-full text-left px-3 py-2 rounded-lg transition-colors flex items-center justify-between
                  ${i.venue===h.id?"border":"hover:bg-slate-700 text-slate-300"}
                `,style:{backgroundColor:i.venue===h.id?`${m.themeColor}20`:void 0,borderColor:i.venue===h.id?m.themeColor:void 0,color:i.venue===h.id?m.themeColor:void 0},"data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hAMTU3OjE0",children:t.jsxs("span",{className:"flex items-center gap-2","data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hAMTczOjE2","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hAMTc0OjE4","data-yw-s":!0,children:h.icon}),h.name]})},h.id))]})]}),t.jsxs("div",{className:"p-6 border-b border-slate-700","data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hAMTgzOjg","data-yw-s":!0,children:[t.jsxs("h3",{className:"font-semibold text-slate-100 mb-3 flex items-center gap-2","data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hAMTg0OjEw","data-yw-s":!0,children:[t.jsx(bt,{className:"h-4 w-4 text-amber-400","data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hAMTg1OjEy","data-yw-s":!0}),t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hAMTg1OjU5","data-yw-t":!0,"data-yw-auto":!0,children:"Event Status"})]}),t.jsxs("div",{className:"space-y-2","data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hAMTg4OjEw","data-yw-s":!0,children:[t.jsxs("button",{onClick:()=>r&&r(),className:"w-full flex items-center justify-between p-3 rounded-lg bg-slate-700/50 hover:bg-slate-700 transition-colors group min-h-0","data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hAMTg5OjEy","data-yw-s":!0,children:[t.jsxs("div",{className:"flex items-center gap-3 text-sm text-slate-300 group-hover:text-slate-100 min-w-0","data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hAMTkzOjE0","data-yw-s":!0,children:[t.jsx(da,{className:"h-4 w-4 text-slate-400 flex-shrink-0","data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hAMTk0OjE2","data-yw-s":!0}),t.jsx("span",{className:"truncate","data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hAMTk1OjE2","data-yw-t":!0,"data-yw-s":!0,children:"All Status"})]}),t.jsx("span",{className:"font-medium text-slate-100 flex-shrink-0 ml-2","data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hAMTk3OjE0","data-yw-s":!0,children:w.confirmed+w.pending+w.cancelled+w.closed})]}),t.jsxs("button",{onClick:()=>r&&r("confirmed"),className:"w-full flex items-center justify-between p-3 rounded-lg bg-slate-700/50 hover:bg-slate-700 transition-colors group min-h-0","data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hAMTk5OjEy","data-yw-s":!0,children:[t.jsxs("div",{className:"flex items-center gap-3 text-sm text-slate-300 group-hover:text-slate-100 min-w-0","data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hAMjAzOjE0","data-yw-s":!0,children:[t.jsx(Rn,{className:"h-4 w-4 text-blue-400 flex-shrink-0","data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hAMjA0OjE2","data-yw-s":!0}),t.jsx("span",{className:"truncate","data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hAMjA1OjE2","data-yw-t":!0,"data-yw-s":!0,children:"Confirmed"})]}),t.jsx("span",{className:"font-medium text-slate-100 flex-shrink-0 ml-2","data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hAMjA3OjE0","data-yw-s":!0,children:w.confirmed})]}),t.jsxs("button",{onClick:()=>r&&r("pending"),className:"w-full flex items-center justify-between p-3 rounded-lg bg-slate-700/50 hover:bg-slate-700 transition-colors group min-h-0","data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hAMjA5OjEy","data-yw-s":!0,children:[t.jsxs("div",{className:"flex items-center gap-3 text-sm text-slate-300 group-hover:text-slate-100 min-w-0","data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hAMjEzOjE0","data-yw-s":!0,children:[t.jsx(ki,{className:"h-4 w-4 text-yellow-400 flex-shrink-0","data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hAMjE0OjE2","data-yw-s":!0}),t.jsx("span",{className:"truncate","data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hAMjE1OjE2","data-yw-t":!0,"data-yw-s":!0,children:"Pending"})]}),t.jsx("span",{className:"font-medium text-slate-100 flex-shrink-0 ml-2","data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hAMjE3OjE0","data-yw-s":!0,children:w.pending})]}),t.jsxs("button",{onClick:()=>r&&r("cancelled"),className:"w-full flex items-center justify-between p-3 rounded-lg bg-slate-700/50 hover:bg-slate-700 transition-colors group min-h-0","data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hAMjE5OjEy","data-yw-s":!0,children:[t.jsxs("div",{className:"flex items-center gap-3 text-sm text-slate-300 group-hover:text-slate-100 min-w-0","data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hAMjIzOjE0","data-yw-s":!0,children:[t.jsx(Dn,{className:"h-4 w-4 text-red-400 flex-shrink-0","data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hAMjI0OjE2","data-yw-s":!0}),t.jsx("span",{className:"truncate","data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hAMjI1OjE2","data-yw-t":!0,"data-yw-s":!0,children:"Cancelled"})]}),t.jsx("span",{className:"font-medium text-slate-100 flex-shrink-0 ml-2","data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hAMjI3OjE0","data-yw-s":!0,children:w.cancelled})]}),t.jsxs("button",{onClick:()=>r&&r("closed"),className:"w-full flex items-center justify-between p-3 rounded-lg bg-slate-700/50 hover:bg-slate-700 transition-colors group min-h-0","data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hAMjI5OjEy","data-yw-s":!0,children:[t.jsxs("div",{className:"flex items-center gap-3 text-sm text-slate-300 group-hover:text-slate-100 min-w-0","data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hAMjMzOjE0","data-yw-s":!0,children:[t.jsx(Ks,{className:"h-4 w-4 text-slate-400 flex-shrink-0","data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hAMjM0OjE2","data-yw-s":!0}),t.jsx("span",{className:"truncate","data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hAMjM1OjE2","data-yw-t":!0,"data-yw-s":!0,children:"Closed"})]}),t.jsx("span",{className:"font-medium text-slate-100 flex-shrink-0 ml-2","data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hAMjM3OjE0","data-yw-s":!0,children:w.closed})]})]})]}),t.jsxs("div",{className:"p-6 pb-8","data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hAMjQzOjg","data-yw-s":!0,children:[t.jsxs("h3",{className:"font-semibold text-slate-100 mb-3 flex items-center gap-2","data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hAMjQ0OjEw","data-yw-s":!0,children:[t.jsx(er,{className:"h-4 w-4 text-amber-400","data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hAMjQ1OjEy","data-yw-s":!0}),t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hAMjQ1OjYx","data-yw-t":!0,"data-yw-auto":!0,children:"Payment Status"})]}),t.jsxs("div",{className:"space-y-2","data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hAMjQ4OjEw","data-yw-s":!0,children:[t.jsxs("button",{onClick:()=>r&&r(void 0,"paid"),className:"w-full flex items-center justify-between p-3 rounded-lg bg-slate-700/50 hover:bg-slate-700 transition-colors group min-h-0","data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hAMjQ5OjEy","data-yw-s":!0,children:[t.jsxs("div",{className:"flex items-center gap-3 text-sm text-slate-300 group-hover:text-slate-100 min-w-0","data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hAMjUzOjE0","data-yw-s":!0,children:[t.jsx("div",{className:"w-3 h-3 rounded-full bg-green-400 flex-shrink-0","data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hAMjU0OjE2","data-yw-s":!0}),t.jsx("span",{className:"truncate","data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hAMjU1OjE2","data-yw-t":!0,"data-yw-s":!0,children:"Paid"})]}),t.jsx("span",{className:"font-medium text-green-400 flex-shrink-0 ml-2","data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hAMjU3OjE0","data-yw-s":!0,children:w.paid})]}),t.jsxs("button",{onClick:()=>r&&r(void 0,"unpaid"),className:"w-full flex items-center justify-between p-3 rounded-lg bg-slate-700/50 hover:bg-slate-700 transition-colors group min-h-0","data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hAMjU5OjEy","data-yw-s":!0,children:[t.jsxs("div",{className:"flex items-center gap-3 text-sm text-slate-300 group-hover:text-slate-100 min-w-0","data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hAMjYzOjE0","data-yw-s":!0,children:[t.jsx("div",{className:"w-3 h-3 rounded-full bg-orange-400 flex-shrink-0","data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hAMjY0OjE2","data-yw-s":!0}),t.jsx("span",{className:"truncate","data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hAMjY1OjE2","data-yw-t":!0,"data-yw-s":!0,children:"Unpaid"})]}),t.jsx("span",{className:"font-medium text-orange-400 flex-shrink-0 ml-2","data-yw":"c3JjL2NvbXBvbmVudHMvU2lkZWJhci50c3hAMjY3OjE0","data-yw-s":!0,children:w.unpaid})]})]})]})]})]})},Ic=()=>{const{filters:e,setFilters:a}=Je(),s=l=>{a({searchQuery:l.target.value})},r=l=>{a({venue:l})},n=l=>{a({status:l})},d=l=>{a({paymentStatus:l})},o=()=>{a({venue:void 0,status:void 0,paymentStatus:void 0,searchQuery:""})},c=!!(e.venue||e.status||e.paymentStatus||e.searchQuery);return t.jsx("div",{className:"bg-white rounded-lg shadow-lg border border-slate-200 p-6","data-yw":"c3JjL2NvbXBvbmVudHMvU2VhcmNoQW5kRmlsdGVyLnRzeEAzOTo0","data-yw-s":!0,children:t.jsxs("div",{className:"flex flex-col lg:flex-row gap-4","data-yw":"c3JjL2NvbXBvbmVudHMvU2VhcmNoQW5kRmlsdGVyLnRzeEA0MDo2","data-yw-s":!0,children:[t.jsxs("div",{className:"relative flex-1","data-yw":"c3JjL2NvbXBvbmVudHMvU2VhcmNoQW5kRmlsdGVyLnRzeEA0Mjo4","data-yw-s":!0,children:[t.jsx(dc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4","data-yw":"c3JjL2NvbXBvbmVudHMvU2VhcmNoQW5kRmlsdGVyLnRzeEA0MzoxMA","data-yw-s":!0}),t.jsx("input",{type:"text",placeholder:"Search events by name, phone (313-938-6666 or 3139386666), or email...",className:"w-full pl-10 pr-20 py-2 border border-slate-300 rounded-md focus:ring-2 focus:ring-amber-500 focus:border-transparent shadow-sm",value:e.searchQuery||"",onChange:s,onKeyPress:l=>l.key==="Enter"&&l.preventDefault(),"data-yw":"c3JjL2NvbXBvbmVudHMvU2VhcmNoQW5kRmlsdGVyLnRzeEA0NDoxMA","data-yw-s":!0}),t.jsx("button",{type:"button",className:"absolute right-2 top-1/2 transform -translate-y-1/2 px-3 py-1 bg-amber-600 text-white text-sm rounded-md hover:bg-amber-700 transition-colors",onClick:()=>{const l=document.querySelector('input[placeholder*="Search events"]');l&&l.focus()},"data-yw":"c3JjL2NvbXBvbmVudHMvU2VhcmNoQW5kRmlsdGVyLnRzeEA1MjoxMA","data-yw-t":!0,"data-yw-s":!0,children:"Search"})]}),t.jsxs("div",{className:"flex flex-wrap gap-4 items-center","data-yw":"c3JjL2NvbXBvbmVudHMvU2VhcmNoQW5kRmlsdGVyLnRzeEA2Njo4","data-yw-s":!0,children:[t.jsxs("div",{className:"flex items-center gap-2","data-yw":"c3JjL2NvbXBvbmVudHMvU2VhcmNoQW5kRmlsdGVyLnRzeEA2NzoxMA","data-yw-s":!0,children:[t.jsx(Ba,{className:"h-4 w-4 text-gray-500","data-yw":"c3JjL2NvbXBvbmVudHMvU2VhcmNoQW5kRmlsdGVyLnRzeEA2ODoxMg","data-yw-s":!0}),t.jsx("span",{className:"text-sm text-gray-700 font-medium","data-yw":"c3JjL2NvbXBvbmVudHMvU2VhcmNoQW5kRmlsdGVyLnRzeEA2OToxMg","data-yw-t":!0,"data-yw-s":!0,children:"Filters:"})]}),t.jsxs("select",{value:e.venue||"",onChange:l=>r(l.target.value||void 0),className:"px-3 py-1.5 border border-slate-300 rounded-md text-sm focus:ring-2 focus:ring-amber-500 focus:border-transparent shadow-sm","data-yw":"c3JjL2NvbXBvbmVudHMvU2VhcmNoQW5kRmlsdGVyLnRzeEA3MzoxMA","data-yw-s":!0,children:[t.jsx("option",{value:"","data-yw":"c3JjL2NvbXBvbmVudHMvU2VhcmNoQW5kRmlsdGVyLnRzeEA3ODoxMg","data-yw-t":!0,"data-yw-s":!0,children:"All Venues"}),t.jsx("option",{value:"restaurant","data-yw":"c3JjL2NvbXBvbmVudHMvU2VhcmNoQW5kRmlsdGVyLnRzeEA3OToxMg","data-yw-t":!0,"data-yw-s":!0,children:"Restaurant"}),t.jsx("option",{value:"bar","data-yw":"c3JjL2NvbXBvbmVudHMvU2VhcmNoQW5kRmlsdGVyLnRzeEA4MDoxMg","data-yw-t":!0,"data-yw-s":!0,children:"Bar"}),t.jsx("option",{value:"banquet","data-yw":"c3JjL2NvbXBvbmVudHMvU2VhcmNoQW5kRmlsdGVyLnRzeEA4MToxMg","data-yw-t":!0,"data-yw-s":!0,children:"Banquet"})]}),t.jsxs("select",{value:e.status||"",onChange:l=>n(l.target.value||void 0),className:"px-3 py-1.5 border border-slate-300 rounded-md text-sm focus:ring-2 focus:ring-amber-500 focus:border-transparent shadow-sm","data-yw":"c3JjL2NvbXBvbmVudHMvU2VhcmNoQW5kRmlsdGVyLnRzeEA4NToxMA","data-yw-s":!0,children:[t.jsx("option",{value:"","data-yw":"c3JjL2NvbXBvbmVudHMvU2VhcmNoQW5kRmlsdGVyLnRzeEA5MDoxMg","data-yw-t":!0,"data-yw-s":!0,children:"All Status"}),t.jsx("option",{value:"confirmed","data-yw":"c3JjL2NvbXBvbmVudHMvU2VhcmNoQW5kRmlsdGVyLnRzeEA5MToxMg","data-yw-t":!0,"data-yw-s":!0,children:"Confirmed"}),t.jsx("option",{value:"pending","data-yw":"c3JjL2NvbXBvbmVudHMvU2VhcmNoQW5kRmlsdGVyLnRzeEA5MjoxMg","data-yw-t":!0,"data-yw-s":!0,children:"Pending"}),t.jsx("option",{value:"cancelled","data-yw":"c3JjL2NvbXBvbmVudHMvU2VhcmNoQW5kRmlsdGVyLnRzeEA5MzoxMg","data-yw-t":!0,"data-yw-s":!0,children:"Cancelled"}),t.jsx("option",{value:"closed","data-yw":"c3JjL2NvbXBvbmVudHMvU2VhcmNoQW5kRmlsdGVyLnRzeEA5NDoxMg","data-yw-t":!0,"data-yw-s":!0,children:"Closed"})]}),t.jsxs("select",{value:e.paymentStatus||"",onChange:l=>d(l.target.value||void 0),className:"px-3 py-1.5 border border-slate-300 rounded-md text-sm focus:ring-2 focus:ring-amber-500 focus:border-transparent shadow-sm","data-yw":"c3JjL2NvbXBvbmVudHMvU2VhcmNoQW5kRmlsdGVyLnRzeEA5ODoxMA","data-yw-s":!0,children:[t.jsx("option",{value:"","data-yw":"c3JjL2NvbXBvbmVudHMvU2VhcmNoQW5kRmlsdGVyLnRzeEAxMDM6MTI","data-yw-t":!0,"data-yw-s":!0,children:"All Payments"}),t.jsx("option",{value:"paid","data-yw":"c3JjL2NvbXBvbmVudHMvU2VhcmNoQW5kRmlsdGVyLnRzeEAxMDQ6MTI","data-yw-t":!0,"data-yw-s":!0,children:"Paid"}),t.jsx("option",{value:"unpaid","data-yw":"c3JjL2NvbXBvbmVudHMvU2VhcmNoQW5kRmlsdGVyLnRzeEAxMDU6MTI","data-yw-t":!0,"data-yw-s":!0,children:"Unpaid"})]}),c&&t.jsx("button",{onClick:o,className:"px-3 py-1.5 text-sm text-slate-600 hover:text-amber-700 underline transition-colors","data-yw":"c3JjL2NvbXBvbmVudHMvU2VhcmNoQW5kRmlsdGVyLnRzeEAxMTA6MTI","data-yw-t":!0,"data-yw-s":!0,children:"Clear"})]})]})})},Fn={mode:"person",menuItems:[],personCount:1,pricePerPerson:0,customPlatters:[],subtotal:0,discount:{type:"percentage",value:0,amount:0},taxRate:.06,taxAmount:0,includeTax:!0,total:0,deposits:[],amountPaid:0,remainingBalance:0},zr={title:"",venue:"restaurant",venueId:"restaurant",color:void 0,date:"",startTime:"18:00",endTime:"21:00",status:"pending",paymentStatus:"unpaid",paymentMethod:void 0,contact:{name:"",phone:"",email:""},pricing:Fn,notes:""},Gc=({isOpen:e,onClose:a,event:s,defaultDate:r})=>{const{addEvent:n,updateEvent:d,venues:o,colorPresets:c,settings:l}=Je(),[i,u]=X.useState(zr),[m,N]=X.useState({}),[x,w]=X.useState(!1),[y,p]=X.useState("details"),h=!!s;X.useEffect(()=>{e&&(u(s?{title:s.title,venue:s.venue,venueId:s.venueId||s.venue,color:s.color,date:s.date,startTime:s.startTime,endTime:s.endTime,status:s.status,paymentStatus:s.paymentStatus,paymentMethod:s.paymentMethod,contact:s.contact,pricing:s.pricing||Fn,notes:s.notes||""}:{...zr,date:r||new Date().toISOString().split("T")[0]}),N({}))},[e,s,r]);const j=()=>{const b={};return i.title.trim()||(b.title="Event title is required"),i.date||(b.date="Date is required"),i.startTime||(b.startTime="Start time is required"),i.endTime||(b.endTime="End time is required"),i.startTime&&i.endTime&&i.startTime>=i.endTime&&(b.endTime="End time must be after start time"),i.contact.name.trim()||(b["contact.name"]="Contact name is required"),i.contact.phone.trim()||(b["contact.phone"]="Contact phone is required"),i.contact.email.trim()?/^[^@]+@[^@]+\.[^@]+$/.test(i.contact.email)||(b["contact.email"]="Please enter a valid email address"):b["contact.email"]="Contact email is required",N(b),Object.keys(b).length===0},L=async b=>{b.preventDefault(),j()&&(h&&s?await d(s.id,i):await n(i),a())},f=(b,M)=>{if(b.startsWith("contact.")){const B=b.split(".")[1];u(q=>({...q,contact:{...q.contact,[B]:M}}))}else u(B=>({...B,[b]:M}));m[b]&&N(B=>({...B,[b]:""}))},T=b=>{const M=b.menuItems.reduce((I,ue)=>I+ue.price*ue.quantity,0),B=b.customPlatters.reduce((I,ue)=>I+ue.price*ue.quantity,0);let q=0;q+=M,b.personCount>0&&b.pricePerPerson>0&&(q+=b.personCount*b.pricePerPerson),b.mode==="custom"&&(q+=B);let de=0;b.discount.value>0&&(b.discount.type==="percentage"?de=q*(b.discount.value/100):de=b.discount.value);const J=q-de,O=b.includeTax?J*b.taxRate:0,Z=J+O,Y=b.deposits.reduce((I,ue)=>I+ue.amount,0),be=Z-Y;return{...b,subtotal:q,discount:{...b.discount,amount:de},taxAmount:O,total:Z,amountPaid:Y,remainingBalance:be}},V=b=>{const M={...i.pricing,...b},B=T(M);u(q=>({...q,pricing:B}))},$=()=>{const b={id:crypto.randomUUID(),name:"",price:0,quantity:1,description:""};V({menuItems:[...i.pricing.menuItems,b]})},k=(b,M)=>{const B=i.pricing.menuItems.map(q=>q.id===b?{...q,...M}:q);V({menuItems:B})},W=b=>{const M=i.pricing.menuItems.filter(B=>B.id!==b);V({menuItems:M})},U=()=>{const b={id:crypto.randomUUID(),name:"",price:0,quantity:1,description:""};V({customPlatters:[...i.pricing.customPlatters,b]})},P=(b,M)=>{const B=i.pricing.customPlatters.map(q=>q.id===b?{...q,...M}:q);V({customPlatters:B})},S=b=>{const M=i.pricing.customPlatters.filter(B=>B.id!==b);V({customPlatters:M})},C=()=>{const b={id:crypto.randomUUID(),amount:0,method:"cash",date:new Date().toISOString().split("T")[0],notes:""},M=[...i.pricing.deposits,b],B=M.reduce((q,de)=>q+de.amount,0);V({deposits:M,amountPaid:B,remainingBalance:i.pricing.total-B})},g=(b,M)=>{const B=i.pricing.deposits.map(de=>de.id===b?{...de,...M}:de),q=B.reduce((de,J)=>de+J.amount,0);V({deposits:B,amountPaid:q,remainingBalance:i.pricing.total-q})},F=b=>{const M=i.pricing.deposits.filter(q=>q.id!==b),B=M.reduce((q,de)=>q+de.amount,0);V({deposits:M,amountPaid:B,remainingBalance:i.pricing.total-B})},ne=b=>{const[M,B]=b.split(":").map(Number),q=M>=12?"PM":"AM";return`${M%12||12}:${B.toString().padStart(2,"0")} ${q}`},ve=()=>{const b=`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Invoice - ${i.title}</title>
        <style>
          @page {
            margin: 20px;
            size: A4;
          }
          body { 
            font-family: Arial, sans-serif; 
            margin: 0;
            padding: 20px;
            line-height: 1.4;
            font-size: 12px;
          }
          .header { 
            display: flex; 
            justify-content: space-between; 
            align-items: flex-start; 
            margin-bottom: 25px;
          }
          .logo-section {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
          }
          .logo { 
            max-width: 80px; 
            max-height: 80px; 
            object-fit: contain;
            margin-bottom: 10px;
          }
          .company-details {
            text-align: left;
          }
          .invoice-title { 
            font-size: 24px; 
            font-weight: bold; 
            margin: 0;
            color: #1f2937;
          }
          .subtitle {
            color: #6b7280;
            margin-top: 4px;
          }
          .section {
            margin-bottom: 15px;
          }
          .section-row {
            display: flex;
            justify-content: space-between;
            gap: 40px;
            margin-bottom: 15px;
          }
          .section-col {
            flex: 1;
          }
          .section h3 {
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 8px;
          }
          .company-details, .client-details, .event-details {
            color: #374151;
          }
          .company-details p, .client-details p, .event-details p {
            margin: 2px 0;
          }
          .font-medium { font-weight: 500; }
          table { 
            width: 100%; 
            border-collapse: collapse; 
            margin: 20px 0; 
          }
          th, td { 
            border: 1px solid #d1d5db; 
            padding: 8px; 
          }
          th { 
            background-color: #f9fafb; 
            font-weight: 600;
            text-align: left;
          }
          .text-center { text-align: center; }
          .text-right { text-align: right; }
          .text-sm { font-size: 12px; color: #6b7280; }
          .totals { 
            margin-top: 20px; 
            width: 320px; 
            margin-left: auto;
          }
          .totals-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-size: 14px;
            color: #6b7280;
          }
          .subtotal-row {
            display: flex;
            justify-content: space-between;
            padding-top: 8px;
            border-top: 1px solid #d1d5db;
            font-weight: 500;
          }
          .discount-row {
            display: flex;
            justify-content: space-between;
            color: #dc2626;
          }
          .total-row { 
            display: flex;
            justify-content: space-between;
            border-top: 2px solid #6b7280;
            padding-top: 12px;
            font-weight: bold; 
            font-size: 20px;
          }
          .total-amount {
            color: #16a34a;
          }
          .footer {
            border-top: 1px solid #e5e7eb;
            padding-top: 16px;
            text-align: center;
            font-size: 14px;
            color: #6b7280;
            margin-top: 40px;
          }
        </style>
      </head>
      <body>
        <div class="header">
          <div class="logo-section">
            <img src="${l.logo&&l.logo.startsWith("data:")?l.logo:"/assets/default-logo.png"}" alt="Logo" class="logo" />
            <div class="company-details">
              <p class="font-medium" style="margin: 0; font-size: 16px;">${l.storeName}</p>
              ${l.storeAddress?`<p style="margin: 2px 0; font-size: 12px;">${l.storeAddress}</p>`:""}
              ${l.storePhone?`<p style="margin: 2px 0; font-size: 12px;">Phone: ${l.storePhone}</p>`:""}
              ${l.storeEmail?`<p style="margin: 2px 0; font-size: 12px;">Email: ${l.storeEmail}</p>`:""}
            </div>
          </div>
          <div style="text-align: right;">
            <p style="font-size: 14px; color: #6b7280;">Invoice Date:</p>
            <p class="font-medium">${new Date().toLocaleDateString()}</p>
            <p style="font-size: 14px; color: #6b7280; margin-top: 8px;">Event Date:</p>
            <p class="font-medium">${new Date(i.date+"T00:00:00").toLocaleDateString()}</p>
          </div>
        </div>
        
        <div style="text-align: center; margin: 20px 0;">
          <h1 class="invoice-title">INVOICE</h1>
          <p class="subtitle">Event Management Services</p>
        </div>
        
        <div class="section-row">
          <div class="section-col">
            <h3>Bill To:</h3>
            <div class="client-details">
              <p class="font-medium">${i.contact.name}</p>
              <p>${i.contact.email}</p>
              <p>${i.contact.phone}</p>
            </div>
          </div>
          <div class="section-col">
            <h3>Event Details:</h3>
            <div class="event-details">
              <p><span class="font-medium">Event:</span> ${i.title}</p>
              <p><span class="font-medium">Date:</span> ${new Date(i.date+"T00:00:00").toLocaleDateString()}</p>
              <p><span class="font-medium">Time:</span> ${ne(i.startTime)} - ${ne(i.endTime)}</p>
              <p><span class="font-medium">Venue:</span> ${o.find(J=>J.id===i.venueId)?.name||"N/A"}</p>
            </div>
          </div>
        </div>
        
        <div class="section">
          <h3>Services:</h3>
          <table>
            <thead>
              <tr>
                <th>Description</th>
                <th class="text-center">Quantity</th>
                <th class="text-right">Unit Price</th>
                <th class="text-right">Total</th>
              </tr>
            </thead>
            <tbody>
              ${i.pricing.personCount>0&&i.pricing.pricePerPerson>0?`
                <tr>
                  <td>Guest Services</td>
                  <td class="text-center">${i.pricing.personCount}</td>
                  <td class="text-right">$${i.pricing.pricePerPerson.toFixed(2)}</td>
                  <td class="text-right">$${(i.pricing.personCount*i.pricing.pricePerPerson).toFixed(2)}</td>
                </tr>
              `:""}
              ${i.pricing.menuItems.map(J=>`
                <tr>
                  <td>
                    ${J.name}${J.description?` <span style="color: #1e3a8a;">(${J.description})</span>`:""}
                  </td>
                  <td class="text-center">${J.quantity}</td>
                  <td class="text-right">${J.price>0?"$"+J.price.toFixed(2):"N/A"}</td>
                  <td class="text-right">${J.price>0?"$"+(J.price*J.quantity).toFixed(2):"Included"}</td>
                </tr>
              `).join("")}
            </tbody>
          </table>
        </div>
        
        <div class="section">
          <div class="totals">
            <!-- Menu Items Breakdown -->
            <div class="totals-row">
              <span>Menu Items:</span>
              <span>$${i.pricing.menuItems.reduce((J,O)=>J+O.price*O.quantity,0).toFixed(2)}</span>
            </div>
            ${i.pricing.personCount>0&&i.pricing.pricePerPerson>0?`
              <!-- Guest Services Breakdown -->
              <div class="totals-row">
                <span>Guest Services (${i.pricing.personCount} guests):</span>
                <span>$${(i.pricing.personCount*i.pricing.pricePerPerson).toFixed(2)}</span>
              </div>
            `:""}
            <div class="subtotal-row">
              <span>Subtotal:</span>
              <span>$${i.pricing.subtotal.toFixed(2)}</span>
            </div>
            ${i.pricing.discount.amount>0?`
              <div class="discount-row">
                <span>Discount:</span>
                <span>-$${i.pricing.discount.amount.toFixed(2)}</span>
              </div>
            `:""}
            ${i.pricing.includeTax?`
              <div class="totals-row">
                <span>Tax (${(i.pricing.taxRate*100).toFixed(1)}%):</span>
                <span>$${i.pricing.taxAmount.toFixed(2)}</span>
              </div>
            `:""}
            <div class="total-row">
              <span>Final Total:</span>
              <span class="total-amount">$${i.pricing.total.toFixed(2)}</span>
            </div>
          </div>
        </div>
        
        <div class="footer">
          <p>Thank you for your business!</p>
          <p style="margin-top: 8px;">Powered and Designed By Mike Akanan | (313) 938-6666</p>
        </div>
      </body>
      </html>
    `,M=window.open("","_blank");M&&(M.document.write(b),M.document.close(),M.onload=()=>{setTimeout(()=>{M.print()},250)});const B=`Invoice: ${i.title}`,q=`Dear ${i.contact.name},

Please find the invoice for your event below.

Event: ${i.title}
Date: ${new Date(i.date).toLocaleDateString()}
Total: $${i.pricing.total.toFixed(2)}

Thank you for your business!

Best regards`,de=`mailto:${i.contact.email}?subject=${encodeURIComponent(B)}&body=${encodeURIComponent(q)}`;window.open(de,"_blank")},ae=b=>{const M=`Event Schedule: ${i.title}`;let B=`Dear ${i.contact.name},

`;B+=`This is to confirm your event details:

`,B+=`Event: ${i.title}
`,B+=`Date: ${new Date(i.date).toLocaleDateString()}
`,B+=`Time: ${i.startTime} - ${i.endTime}
`,B+=`Venue: ${o.find(de=>de.id===i.venueId)?.name}

`,i.notes&&(B+=`Notes: ${i.notes}

`),B+=`Best regards,
${i.contact.name}`;const q=`mailto:${i.contact.email}?subject=${encodeURIComponent(M)}&body=${encodeURIComponent(B)}`;window.open(q,"_blank")};return e?t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDY5Mzo0","data-yw-s":!0,children:t.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDY5NDo2","data-yw-s":!0,children:[t.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDY5Njo4","data-yw-s":!0,children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDY5NzoxMA","data-yw-s":!0,children:h?"Edit Event":"Create New Event"}),t.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 transition-colors","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDcwMDoxMA","data-yw-s":!0,children:t.jsx(Ot,{className:"h-6 w-6","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDcwNDoxMg","data-yw-s":!0})})]}),t.jsx("div",{className:"border-b border-gray-200","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDcwOTo4","data-yw-s":!0,children:t.jsxs("div",{className:"flex px-6","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDcxMDoxMA","data-yw-s":!0,children:[t.jsx("button",{type:"button",onClick:()=>p("details"),className:`py-3 px-4 text-sm font-medium border-b-2 transition-colors ${y==="details"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDcxMToxMg","data-yw-t":!0,"data-yw-s":!0,children:"Event Details"}),t.jsxs("button",{type:"button",onClick:()=>p("guests"),className:`py-3 px-4 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${y==="guests"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDcyMjoxMg","data-yw-s":!0,children:[t.jsx(da,{className:"h-4 w-4","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDczMToxNA","data-yw-s":!0}),t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDczMTo0Mw","data-yw-t":!0,"data-yw-auto":!0,children:"Guest Count"})]}),t.jsxs("button",{type:"button",onClick:()=>p("menu"),className:`py-3 px-4 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${y==="menu"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDczNDoxMg","data-yw-s":!0,children:[t.jsx(Js,{className:"h-4 w-4","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDc0MzoxNA","data-yw-s":!0}),t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDc0Mzo0OA","data-yw-t":!0,"data-yw-auto":!0,children:"Menu & Pricing"})]}),t.jsxs("button",{type:"button",onClick:()=>p("invoice"),className:`py-3 px-4 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${y==="invoice"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDc0NjoxMg","data-yw-s":!0,children:[t.jsx(_t,{className:"h-4 w-4","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDc1NToxNA","data-yw-s":!0}),t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDc1NTo0Ng","data-yw-t":!0,"data-yw-auto":!0,children:"Invoice Preview"})]})]})}),t.jsxs("form",{onSubmit:L,className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDc2Mjo4","data-yw-s":!0,children:[y==="details"&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDc2NToxMg","data-yw-s":!0,children:[t.jsxs("div",{className:"md:col-span-2","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDc2NzoxNA","data-yw-s":!0,children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDc2ODoxNg","data-yw-t":!0,"data-yw-s":!0,children:"Event Title *"}),t.jsx("input",{type:"text",value:i.title,onChange:b=>f("title",b.target.value),className:`w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent ${m.title?"border-red-300":"border-gray-300"}`,placeholder:"e.g., Corporate Holiday Party","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDc3MToxNg","data-yw-s":!0}),m.title&&t.jsx("p",{className:"mt-1 text-sm text-red-600","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDc4MToxOA","data-yw-s":!0,children:m.title})]}),t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDc4NjoxNA","data-yw-s":!0,children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDc4NzoxNg","data-yw-t":!0,"data-yw-s":!0,children:"Venue *"}),t.jsx("select",{value:i.venueId||i.venue,onChange:b=>{const M=o.find(B=>B.id===b.target.value);f("venueId",b.target.value),f("venue",M?.type||b.target.value)},className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:ring-2 focus:ring-amber-500 focus:border-transparent shadow-sm","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDc5MDoxNg","data-yw-s":!0,children:o.map(b=>t.jsxs("option",{value:b.id,"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDgwMDoyMA","data-yw-s":!0,children:[b.icon," ",b.name]},b.id))})]}),t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDgwODoxNA","data-yw-s":!0,children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDgwOToxNg","data-yw-t":!0,"data-yw-s":!0,children:"Event Color"}),t.jsxs("div",{className:"flex items-center gap-3","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDgxMjoxNg","data-yw-s":!0,children:[t.jsxs("button",{type:"button",onClick:()=>w(!x),className:"flex items-center gap-2 px-3 py-2 border border-slate-300 rounded-md hover:bg-slate-50 transition-colors","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDgxMzoxOA","data-yw-s":!0,children:[t.jsx("div",{className:"w-5 h-5 rounded border border-slate-300",style:{backgroundColor:i.color||o.find(b=>b.id===(i.venueId||i.venue))?.color||"#6b7280"},"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDgxODoyMA"}),t.jsx(An,{className:"h-4 w-4","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDgyNDoyMA","data-yw-s":!0}),i.color?"Custom":"Default"]}),i.color&&t.jsx("button",{type:"button",onClick:()=>f("color",""),className:"text-sm text-slate-500 hover:text-slate-700","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDgyODoyMA","data-yw-t":!0,"data-yw-s":!0,children:"Reset"})]}),x&&t.jsxs("div",{className:"mt-3 p-3 border border-slate-200 rounded-lg bg-slate-50","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDgzOToxOA","data-yw-s":!0,children:[t.jsx("div",{className:"grid grid-cols-6 gap-2 mb-3","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDg0MDoyMA","data-yw-s":!0,children:c.slice(0,12).map(b=>t.jsx("button",{type:"button",onClick:()=>{f("color",b.color),w(!1)},className:"w-8 h-8 rounded border-2 border-white shadow-sm hover:scale-110 transition-transform",style:{backgroundColor:b.color},title:b.name,"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDg0MjoyNA"},b.id))}),t.jsxs("div",{className:"flex items-center gap-2","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDg1NToyMA","data-yw-s":!0,children:[t.jsx("input",{type:"color",value:i.color||"#6b7280",onChange:b=>f("color",b.target.value),className:"w-10 h-8 rounded border border-slate-300","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDg1NjoyMg","data-yw-s":!0}),t.jsx("span",{className:"text-sm text-slate-600","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDg2MjoyMg","data-yw-t":!0,"data-yw-s":!0,children:"Custom Color"})]})]})]}),t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDg2OToxNA","data-yw-s":!0,children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDg3MDoxNg","data-yw-t":!0,"data-yw-s":!0,children:"Date *"}),t.jsx("input",{type:"date",value:i.date,onChange:b=>f("date",b.target.value),className:`w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent ${m.date?"border-red-300":"border-gray-300"}`,"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDg3MzoxNg","data-yw-s":!0}),m.date&&t.jsx("p",{className:"mt-1 text-sm text-red-600","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDg4MjoxOA","data-yw-s":!0,children:m.date})]}),t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDg4NzoxNA","data-yw-s":!0,children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDg4ODoxNg","data-yw-t":!0,"data-yw-s":!0,children:"Start Time *"}),t.jsx("input",{type:"time",value:i.startTime,onChange:b=>f("startTime",b.target.value),className:`w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent ${m.startTime?"border-red-300":"border-gray-300"}`,"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDg5MToxNg","data-yw-s":!0}),m.startTime&&t.jsx("p",{className:"mt-1 text-sm text-red-600","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDkwMDoxOA","data-yw-s":!0,children:m.startTime})]}),t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDkwNToxNA","data-yw-s":!0,children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDkwNjoxNg","data-yw-t":!0,"data-yw-s":!0,children:"End Time *"}),t.jsx("input",{type:"time",value:i.endTime,onChange:b=>f("endTime",b.target.value),className:`w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent ${m.endTime?"border-red-300":"border-gray-300"}`,"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDkwOToxNg","data-yw-s":!0}),m.endTime&&t.jsx("p",{className:"mt-1 text-sm text-red-600","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDkxODoxOA","data-yw-s":!0,children:m.endTime})]}),t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDkyMzoxNA","data-yw-s":!0,children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDkyNDoxNg","data-yw-t":!0,"data-yw-s":!0,children:"Status"}),t.jsxs("select",{value:i.status,onChange:b=>f("status",b.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:ring-2 focus:ring-amber-500 focus:border-transparent shadow-sm","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDkyNzoxNg","data-yw-s":!0,children:[t.jsx("option",{value:"pending","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDkzMjoxOA","data-yw-t":!0,"data-yw-s":!0,children:"Pending"}),t.jsx("option",{value:"confirmed","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDkzMzoxOA","data-yw-t":!0,"data-yw-s":!0,children:"Confirmed"}),t.jsx("option",{value:"cancelled","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDkzNDoxOA","data-yw-t":!0,"data-yw-s":!0,children:"Cancelled"}),t.jsx("option",{value:"closed","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDkzNToxOA","data-yw-t":!0,"data-yw-s":!0,children:"Closed"})]})]}),t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDk0MDoxNA","data-yw-s":!0,children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDk0MToxNg","data-yw-t":!0,"data-yw-s":!0,children:"Payment Status"}),t.jsxs("select",{value:i.paymentStatus,onChange:b=>f("paymentStatus",b.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:ring-2 focus:ring-amber-500 focus:border-transparent shadow-sm","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDk0NDoxNg","data-yw-s":!0,children:[t.jsx("option",{value:"unpaid","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDk0OToxOA","data-yw-t":!0,"data-yw-s":!0,children:"Unpaid"}),t.jsx("option",{value:"paid","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDk1MDoxOA","data-yw-t":!0,"data-yw-s":!0,children:"Paid"})]})]}),i.paymentStatus==="paid"&&t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDk1NjoxNg","data-yw-s":!0,children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDk1NzoxOA","data-yw-t":!0,"data-yw-s":!0,children:"Payment Method"}),t.jsxs("select",{value:i.paymentMethod||"",onChange:b=>f("paymentMethod",b.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:ring-2 focus:ring-amber-500 focus:border-transparent shadow-sm","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDk2MDoxOA","data-yw-s":!0,children:[t.jsx("option",{value:"","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDk2NToyMA","data-yw-t":!0,"data-yw-s":!0,children:"Select method"}),t.jsx("option",{value:"cash","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDk2NjoyMA","data-yw-t":!0,"data-yw-s":!0,children:"Cash"}),t.jsx("option",{value:"credit_card","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDk2NzoyMA","data-yw-t":!0,"data-yw-s":!0,children:"Credit Card"}),t.jsx("option",{value:"check","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDk2ODoyMA","data-yw-t":!0,"data-yw-s":!0,children:"Check"})]})]}),t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDk3NDoxNA","data-yw-s":!0,children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDk3NToxNg","data-yw-t":!0,"data-yw-s":!0,children:"Contact Name *"}),t.jsx("input",{type:"text",value:i.contact.name,onChange:b=>f("contact.name",b.target.value),className:`w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent ${m["contact.name"]?"border-red-300":"border-gray-300"}`,placeholder:"Contact person name","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDk3ODoxNg","data-yw-s":!0}),m["contact.name"]&&t.jsx("p",{className:"mt-1 text-sm text-red-600","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDk4ODoxOA","data-yw-s":!0,children:m["contact.name"]})]}),t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDk5MzoxNA","data-yw-s":!0,children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDk5NDoxNg","data-yw-t":!0,"data-yw-s":!0,children:"Contact Phone *"}),t.jsx("input",{type:"tel",value:i.contact.phone,onChange:b=>{let M=b.target.value.replace(/\D/g,"");M.length<=3?M=M:M.length<=6?M=`${M.slice(0,3)}-${M.slice(3)}`:M.length<=10?M=`${M.slice(0,3)}-${M.slice(3,6)}-${M.slice(6)}`:M=`${M.slice(0,3)}-${M.slice(3,6)}-${M.slice(6,10)}`,f("contact.phone",M)},className:`w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent ${m["contact.phone"]?"border-red-300":"border-gray-300"}`,placeholder:"000-000-0000",maxLength:12,"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDk5NzoxNg","data-yw-s":!0}),m["contact.phone"]&&t.jsx("p",{className:"mt-1 text-sm text-red-600","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEwMjE6MTg","data-yw-s":!0,children:m["contact.phone"]})]}),t.jsxs("div",{className:"md:col-span-2","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEwMjY6MTQ","data-yw-s":!0,children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEwMjc6MTY","data-yw-t":!0,"data-yw-s":!0,children:"Contact Email *"}),t.jsx("input",{type:"email",value:i.contact.email,onChange:b=>f("contact.email",b.target.value),className:`w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent ${m["contact.email"]?"border-red-300":"border-gray-300"}`,placeholder:"contact@example.com","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEwMzA6MTY","data-yw-s":!0}),m["contact.email"]&&t.jsx("p",{className:"mt-1 text-sm text-red-600","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEwNDA6MTg","data-yw-s":!0,children:m["contact.email"]})]}),t.jsxs("div",{className:"md:col-span-2","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEwNDU6MTQ","data-yw-s":!0,children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEwNDY6MTY","data-yw-t":!0,"data-yw-s":!0,children:"Notes"}),t.jsx("textarea",{value:i.notes,onChange:b=>f("notes",b.target.value),rows:3,className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:ring-2 focus:ring-amber-500 focus:border-transparent shadow-sm",placeholder:"Special requests, dietary restrictions, etc.","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEwNDk6MTY","data-yw-s":!0})]})]}),y==="guests"&&t.jsx("div",{className:"space-y-6","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEwNjI6MTI","data-yw-s":!0,children:t.jsxs("div",{className:"bg-blue-50 rounded-lg p-6","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEwNjM6MTQ","data-yw-s":!0,children:[t.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center gap-2","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEwNjQ6MTY","data-yw-s":!0,children:[t.jsx(da,{className:"h-5 w-5 text-blue-600","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEwNjU6MTg","data-yw-s":!0}),t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEwNjU6NjE","data-yw-t":!0,"data-yw-auto":!0,children:"Guest Count & Pricing"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEwNjg6MTY","data-yw-s":!0,children:[t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEwNjk6MTg","data-yw-s":!0,children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEwNzA6MjA","data-yw-t":!0,"data-yw-s":!0,children:"Number of Guests"}),t.jsx("input",{type:"number",value:i.pricing.personCount||"",onChange:b=>V({personCount:parseInt(b.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",placeholder:"0","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEwNzM6MjA","data-yw-s":!0}),t.jsx("p",{className:"text-sm text-gray-500 mt-1","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEwODE6MjA","data-yw-t":!0,"data-yw-s":!0,children:"Total number of guests attending"})]}),t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEwODM6MTg","data-yw-s":!0,children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEwODQ6MjA","data-yw-t":!0,"data-yw-s":!0,children:"Price Per Guest ($)"}),t.jsx("input",{type:"number",value:i.pricing.pricePerPerson||"",onChange:b=>V({pricePerPerson:parseFloat(b.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",step:"0.01",min:"0",placeholder:"0.00","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEwODc6MjA","data-yw-s":!0}),t.jsx("p",{className:"text-sm text-gray-500 mt-1","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEwOTY6MjA","data-yw-t":!0,"data-yw-s":!0,children:"Cost per guest for the event"})]})]}),t.jsx("div",{className:"mt-4 p-4 bg-white rounded-md border","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEwOTk6MTY","data-yw-s":!0,children:t.jsxs("div",{className:"flex justify-between items-center","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDExMDA6MTg","data-yw-s":!0,children:[t.jsx("span",{className:"text-lg font-medium text-gray-900","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDExMDE6MjA","data-yw-t":!0,"data-yw-s":!0,children:"Guest Subtotal:"}),t.jsxs("span",{className:"text-lg font-bold text-blue-600","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDExMDI6MjA","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDExMDI6NzA","data-yw-t":!0,"data-yw-auto":!0,children:"$"}),((i.pricing.personCount||0)*(i.pricing.pricePerPerson||0)).toFixed(2)]})]})})]})}),y==="menu"&&t.jsxs("div",{className:"space-y-6","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDExMTM6MTI","data-yw-s":!0,children:[t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDExMTU6MTQ","data-yw-s":!0,children:[t.jsxs("div",{className:"flex items-center justify-between mb-4","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDExMTY6MTY","data-yw-s":!0,children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDExMTc6MTg","data-yw-t":!0,"data-yw-s":!0,children:"Menu Items"}),t.jsxs("button",{type:"button",onClick:$,className:"flex items-center gap-2 px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDExMTg6MTg","data-yw-s":!0,children:[t.jsx(Ue,{className:"h-4 w-4","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDExMjM6MjA","data-yw-s":!0}),t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDExMjM6NDg","data-yw-t":!0,"data-yw-auto":!0,children:"Add Item"})]})]}),t.jsxs("div",{className:"grid grid-cols-12 gap-3 mb-3 px-3 py-2 bg-blue-50 rounded-lg","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDExMjk6MTY","data-yw-s":!0,children:[t.jsx("div",{className:"col-span-4","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDExMzA6MTg","data-yw-s":!0,children:t.jsx("span",{className:"text-sm font-semibold text-gray-700","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDExMzE6MjA","data-yw-t":!0,"data-yw-s":!0,children:"Item Name"})}),t.jsx("div",{className:"col-span-2","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDExMzM6MTg","data-yw-s":!0,children:t.jsx("span",{className:"text-sm font-semibold text-gray-700","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDExMzQ6MjA","data-yw-t":!0,"data-yw-s":!0,children:"Price ($)"})}),t.jsx("div",{className:"col-span-2","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDExMzY6MTg","data-yw-s":!0,children:t.jsx("span",{className:"text-sm font-semibold text-gray-700","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDExMzc6MjA","data-yw-t":!0,"data-yw-s":!0,children:"Quantity"})}),t.jsx("div",{className:"col-span-3","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDExMzk6MTg","data-yw-s":!0,children:t.jsx("span",{className:"text-sm font-semibold text-gray-700","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDExNDA6MjA","data-yw-t":!0,"data-yw-s":!0,children:"Total"})}),t.jsx("div",{className:"col-span-1","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDExNDI6MTg","data-yw-s":!0,children:t.jsx("span",{className:"text-sm font-semibold text-gray-700","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDExNDM6MjA","data-yw-t":!0,"data-yw-s":!0,children:"Action"})})]}),t.jsx("div",{className:"space-y-3","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDExNDc6MTY","data-yw-s":!0,children:i.pricing.menuItems.map(b=>t.jsxs("div",{className:"grid grid-cols-12 gap-3 items-start p-3 bg-gray-50 rounded-lg border border-gray-200","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDExNDk6MjA","data-yw-s":!0,children:[t.jsx("div",{className:"col-span-4","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDExNTA6MjI","data-yw-s":!0,children:t.jsx("input",{type:"text",placeholder:"Enter item name",value:b.name,onChange:M=>k(b.id,{name:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent font-medium","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDExNTE6MjQ","data-yw-s":!0})}),t.jsx("div",{className:"col-span-2","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDExNTk6MjI","data-yw-s":!0,children:t.jsx("input",{type:"number",placeholder:"0.00",value:b.price||"",onChange:M=>k(b.id,{price:parseFloat(M.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",step:"0.01",min:"0","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDExNjA6MjQ","data-yw-s":!0})}),t.jsx("div",{className:"col-span-2","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDExNzA6MjI","data-yw-s":!0,children:t.jsx("input",{type:"number",placeholder:"1",value:b.quantity||"",onChange:M=>k(b.id,{quantity:parseInt(M.target.value)||1}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"1","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDExNzE6MjQ","data-yw-s":!0})}),t.jsx("div",{className:"col-span-3","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDExODA6MjI","data-yw-s":!0,children:t.jsx("div",{className:"flex items-center justify-center h-10","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDExODE6MjQ","data-yw-s":!0,children:t.jsx("span",{className:"text-lg font-bold text-gray-900","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDExODI6MjY","data-yw-s":!0,children:b.price>0?`$${(b.price*b.quantity).toFixed(2)}`:"Included"})})}),t.jsx("div",{className:"col-span-1","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDExODc6MjI","data-yw-s":!0,children:t.jsx("div",{className:"flex items-center justify-center h-10","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDExODg6MjQ","data-yw-s":!0,children:t.jsx("button",{type:"button",onClick:()=>W(b.id),className:"p-2 text-red-500 hover:text-red-700 hover:bg-red-50 rounded-lg transition-colors",title:"Remove item","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDExODk6MjY","data-yw-s":!0,children:t.jsx(ft,{className:"h-4 w-4","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDExOTU6Mjg","data-yw-s":!0})})})}),t.jsx("div",{className:"col-span-12","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDExOTk6MjI","data-yw-s":!0,children:t.jsx("input",{type:"text",placeholder:"Description (optional)",value:b.description||"",onChange:M=>k(b.id,{description:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEyMDA6MjQ","data-yw-s":!0})})]},b.id))})]}),i.pricing.mode==="custom"&&t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEyMTU6MTY","data-yw-s":!0,children:[t.jsxs("div",{className:"flex items-center justify-between mb-4","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEyMTY6MTg","data-yw-s":!0,children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEyMTc6MjA","data-yw-t":!0,"data-yw-s":!0,children:"Custom Platters"}),t.jsxs("button",{type:"button",onClick:U,className:"flex items-center gap-2 px-3 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEyMTg6MjA","data-yw-s":!0,children:[t.jsx(Ue,{className:"h-4 w-4","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEyMjM6MjI","data-yw-s":!0}),t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEyMjM6NTA","data-yw-t":!0,"data-yw-auto":!0,children:"Add Platter"})]})]}),t.jsx("div",{className:"space-y-3","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEyMjg6MTg","data-yw-s":!0,children:i.pricing.customPlatters.map(b=>t.jsxs("div",{className:"grid grid-cols-12 gap-3 items-start p-3 bg-green-50 rounded-lg","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEyMzA6MjI","data-yw-s":!0,children:[t.jsx("div",{className:"col-span-4","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEyMzE6MjQ","data-yw-s":!0,children:t.jsx("input",{type:"text",placeholder:"Platter name",value:b.name,onChange:M=>P(b.id,{name:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-green-500 focus:border-transparent","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEyMzI6MjY","data-yw-s":!0})}),t.jsx("div",{className:"col-span-2","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEyNDA6MjQ","data-yw-s":!0,children:t.jsx("input",{type:"number",placeholder:"Price",value:b.price||"",onChange:M=>P(b.id,{price:parseFloat(M.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-green-500 focus:border-transparent",step:"0.01",min:"0","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEyNDE6MjY","data-yw-s":!0})}),t.jsx("div",{className:"col-span-2","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEyNTE6MjQ","data-yw-s":!0,children:t.jsx("input",{type:"number",placeholder:"Qty",value:b.quantity||"",onChange:M=>P(b.id,{quantity:parseInt(M.target.value)||1}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-green-500 focus:border-transparent",min:"1","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEyNTI6MjY","data-yw-s":!0})}),t.jsx("div",{className:"col-span-3","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEyNjE6MjQ","data-yw-s":!0,children:t.jsxs("div",{className:"flex items-center justify-between h-10","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEyNjI6MjY","data-yw-s":!0,children:[t.jsxs("span",{className:"text-sm font-medium text-gray-900","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEyNjM6Mjg","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEyNjM6ODA","data-yw-t":!0,"data-yw-auto":!0,children:"$"}),(b.price*b.quantity).toFixed(2)]}),t.jsx("button",{type:"button",onClick:()=>S(b.id),className:"text-red-500 hover:text-red-700 transition-colors","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEyNjY6Mjg","data-yw-s":!0,children:t.jsx(ft,{className:"h-4 w-4","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEyNzE6MzA","data-yw-s":!0})})]})}),t.jsx("div",{className:"col-span-12","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEyNzU6MjQ","data-yw-s":!0,children:t.jsx("input",{type:"text",placeholder:"Platter description (optional)",value:b.description||"",onChange:M=>P(b.id,{description:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEyNzY6MjY","data-yw-s":!0})})]},b.id))})]}),t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEyOTM6MTQ","data-yw-s":!0,children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEyOTQ6MTY","data-yw-t":!0,"data-yw-s":!0,children:"Discount"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEyOTU6MTY","data-yw-s":!0,children:[t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEyOTY6MTg","data-yw-s":!0,children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEyOTc6MjA","data-yw-t":!0,"data-yw-s":!0,children:"Discount Type"}),t.jsxs("select",{value:i.pricing.discount.type,onChange:b=>V({discount:{...i.pricing.discount,type:b.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEzMDA6MjA","data-yw-s":!0,children:[t.jsx("option",{value:"percentage","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEzMTA6MjI","data-yw-t":!0,"data-yw-s":!0,children:"Percentage (%)"}),t.jsx("option",{value:"fixed","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEzMTE6MjI","data-yw-t":!0,"data-yw-s":!0,children:"Fixed Amount ($)"})]})]}),t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEzMTQ6MTg","data-yw-s":!0,children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEzMTU6MjA","data-yw-t":!0,"data-yw-s":!0,children:"Discount Value"}),t.jsx("input",{type:"number",value:i.pricing.discount.value||"",onChange:b=>V({discount:{...i.pricing.discount,value:parseFloat(b.target.value)||0}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",step:i.pricing.discount.type==="percentage"?"1":"0.01",min:"0",max:i.pricing.discount.type==="percentage"?"100":void 0,"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEzMTg6MjA","data-yw-s":!0})]}),t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEzMzM6MTg","data-yw-s":!0,children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEzMzQ6MjA","data-yw-t":!0,"data-yw-s":!0,children:"Discount Amount"}),t.jsxs("div",{className:"px-3 py-2 bg-gray-100 border border-gray-300 rounded-md text-gray-700","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEzMzc6MjA","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEzMzc6MTA3","data-yw-t":!0,"data-yw-auto":!0,children:"$"}),i.pricing.discount.amount.toFixed(2)]})]})]})]}),t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEzNDU6MTQ","data-yw-s":!0,children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEzNDY6MTY","data-yw-t":!0,"data-yw-s":!0,children:"Tax Settings"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEzNDc6MTY","data-yw-s":!0,children:[t.jsx("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEzNDg6MTg","data-yw-s":!0,children:t.jsxs("div",{className:"flex items-center gap-3","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEzNDk6MjA","data-yw-s":!0,children:[t.jsx("input",{type:"checkbox",id:"includeTax",checked:i.pricing.includeTax,onChange:b=>V({includeTax:b.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEzNTA6MjI","data-yw-s":!0}),t.jsx("label",{htmlFor:"includeTax",className:"text-sm font-medium text-gray-700","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEzNTc6MjI","data-yw-t":!0,"data-yw-s":!0,children:"Include Tax"})]})}),t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEzNjI6MTg","data-yw-s":!0,children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEzNjM6MjA","data-yw-t":!0,"data-yw-s":!0,children:"Tax Rate (%)"}),t.jsx("input",{type:"number",value:(i.pricing.taxRate*100).toFixed(1),onChange:b=>V({taxRate:(parseFloat(b.target.value)||0)/100}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",step:"0.1",min:"0",max:"100",disabled:!i.pricing.includeTax,"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEzNjY6MjA","data-yw-s":!0})]}),t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEzNzc6MTg","data-yw-s":!0,children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEzNzg6MjA","data-yw-t":!0,"data-yw-s":!0,children:"Tax Amount"}),t.jsxs("div",{className:"px-3 py-2 bg-gray-100 border border-gray-300 rounded-md text-gray-700","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEzODE6MjA","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEzODE6MTA3","data-yw-t":!0,"data-yw-auto":!0,children:"$"}),i.pricing.taxAmount.toFixed(2)]})]})]})]}),t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEzODk6MTQ","data-yw-s":!0,children:[t.jsxs("div",{className:"flex items-center justify-between mb-4","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEzOTA6MTY","data-yw-s":!0,children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEzOTE6MTg","data-yw-t":!0,"data-yw-s":!0,children:"Deposits & Payments"}),t.jsxs("button",{type:"button",onClick:C,className:"flex items-center gap-2 px-3 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEzOTI6MTg","data-yw-s":!0,children:[t.jsx(Ue,{className:"h-4 w-4","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEzOTc6MjA","data-yw-s":!0}),t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDEzOTc6NDg","data-yw-t":!0,"data-yw-auto":!0,children:"Add Deposit"})]})]}),i.pricing.deposits.length>0&&t.jsx("div",{className:"space-y-3 mb-4","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE0MDM6MTg","data-yw-s":!0,children:i.pricing.deposits.map(b=>t.jsxs("div",{className:"grid grid-cols-12 gap-3 items-start p-3 bg-green-50 rounded-lg border border-green-200","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE0MDU6MjI","data-yw-s":!0,children:[t.jsxs("div",{className:"col-span-3","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE0MDY6MjQ","data-yw-s":!0,children:[t.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE0MDc6MjY","data-yw-t":!0,"data-yw-s":!0,children:"Amount ($)"}),t.jsx("input",{type:"number",placeholder:"0.00",value:b.amount||"",onChange:M=>g(b.id,{amount:parseFloat(M.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-green-500 focus:border-transparent",step:"0.01",min:"0","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE0MDg6MjY","data-yw-s":!0})]}),t.jsxs("div",{className:"col-span-2","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE0MTg6MjQ","data-yw-s":!0,children:[t.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE0MTk6MjY","data-yw-t":!0,"data-yw-s":!0,children:"Method"}),t.jsxs("select",{value:b.method,onChange:M=>g(b.id,{method:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE0MjA6MjY","data-yw-s":!0,children:[t.jsx("option",{value:"cash","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE0MjU6Mjg","data-yw-t":!0,"data-yw-s":!0,children:"Cash"}),t.jsx("option",{value:"credit_card","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE0MjY6Mjg","data-yw-t":!0,"data-yw-s":!0,children:"Credit Card"}),t.jsx("option",{value:"check","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE0Mjc6Mjg","data-yw-t":!0,"data-yw-s":!0,children:"Check"}),t.jsx("option",{value:"bank_transfer","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE0Mjg6Mjg","data-yw-t":!0,"data-yw-s":!0,children:"Bank Transfer"}),t.jsx("option",{value:"venmo","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE0Mjk6Mjg","data-yw-t":!0,"data-yw-s":!0,children:"Venmo"}),t.jsx("option",{value:"paypal","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE0MzA6Mjg","data-yw-t":!0,"data-yw-s":!0,children:"PayPal"}),t.jsx("option",{value:"zelle","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE0MzE6Mjg","data-yw-t":!0,"data-yw-s":!0,children:"Zelle"}),t.jsx("option",{value:"other","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE0MzI6Mjg","data-yw-t":!0,"data-yw-s":!0,children:"Other"})]})]}),t.jsxs("div",{className:"col-span-2","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE0MzU6MjQ","data-yw-s":!0,children:[t.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE0MzY6MjY","data-yw-t":!0,"data-yw-s":!0,children:"Date"}),t.jsx("input",{type:"date",value:b.date,onChange:M=>g(b.id,{date:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE0Mzc6MjY","data-yw-s":!0})]}),t.jsxs("div",{className:"col-span-4","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE0NDQ6MjQ","data-yw-s":!0,children:[t.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE0NDU6MjY","data-yw-t":!0,"data-yw-s":!0,children:"Notes"}),t.jsxs("div",{className:"flex gap-2","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE0NDY6MjY","data-yw-s":!0,children:[t.jsx("input",{type:"text",placeholder:"Payment notes...",value:b.notes||"",onChange:M=>g(b.id,{notes:M.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE0NDc6Mjg","data-yw-s":!0}),t.jsx("button",{type:"button",onClick:()=>F(b.id),className:"p-2 text-red-500 hover:text-red-700 hover:bg-red-50 rounded-lg transition-colors",title:"Remove deposit","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE0NTQ6Mjg","data-yw-s":!0,children:t.jsx(ft,{className:"h-4 w-4","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE0NjA6MzA","data-yw-s":!0})})]})]})]},b.id))}),t.jsx("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE0NzA6MTY","data-yw-s":!0,children:t.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE0NzE6MTg","data-yw-s":!0,children:[t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE0NzI6MjA","data-yw-s":!0,children:[t.jsx("div",{className:"text-sm text-gray-600","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE0NzM6MjI","data-yw-t":!0,"data-yw-s":!0,children:"Total Deposits"}),t.jsxs("div",{className:"text-lg font-bold text-green-600","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE0NzQ6MjI","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE0NzQ6NzI","data-yw-t":!0,"data-yw-auto":!0,children:"$"}),i.pricing.deposits.reduce((b,M)=>b+M.amount,0).toFixed(2)]})]}),t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE0Nzg6MjA","data-yw-s":!0,children:[t.jsx("div",{className:"text-sm text-gray-600","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE0Nzk6MjI","data-yw-t":!0,"data-yw-s":!0,children:"Total Due"}),t.jsxs("div",{className:"text-lg font-bold text-blue-600","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE0ODA6MjI","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE0ODA6NzE","data-yw-t":!0,"data-yw-auto":!0,children:"$"}),i.pricing.total.toFixed(2)]})]}),t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE0ODQ6MjA","data-yw-s":!0,children:[t.jsx("div",{className:"text-sm text-gray-600","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE0ODU6MjI","data-yw-t":!0,"data-yw-s":!0,children:"Remaining Balance"}),t.jsxs("div",{className:`text-lg font-bold ${i.pricing.remainingBalance<=0?"text-green-600":"text-orange-600"}`,"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE0ODY6MjI","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE0ODg6MjY","data-yw-t":!0,"data-yw-auto":!0,children:"$"}),i.pricing.remainingBalance.toFixed(2)]})]})]})})]}),t.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-6 border border-blue-200","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE0OTc6MTQ","data-yw-s":!0,children:[t.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE0OTg6MTY","data-yw-s":!0,children:[t.jsx(Js,{className:"h-5 w-5 text-blue-600","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE0OTk6MTg","data-yw-s":!0}),t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE0OTk6NjY","data-yw-t":!0,"data-yw-auto":!0,children:"Pricing Summary"})]}),t.jsxs("div",{className:"space-y-3","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE1MDI6MTY","data-yw-s":!0,children:[t.jsxs("div",{className:"flex justify-between text-sm","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE1MDQ6MTg","data-yw-s":!0,children:[t.jsx("span",{className:"text-gray-600","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE1MDU6MjA","data-yw-t":!0,"data-yw-s":!0,children:"Menu Items Subtotal:"}),t.jsxs("span",{className:"font-medium","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE1MDY6MjA","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE1MDY6NTA","data-yw-t":!0,"data-yw-auto":!0,children:"$"}),i.pricing.menuItems.reduce((b,M)=>b+M.price*M.quantity,0).toFixed(2)]})]}),i.pricing.personCount>0&&i.pricing.pricePerPerson>0&&t.jsxs("div",{className:"flex justify-between text-sm","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE1MTA6MjA","data-yw-s":!0,children:[t.jsxs("span",{className:"text-gray-600","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE1MTE6MjI","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE1MTE6NTQ","data-yw-t":!0,"data-yw-auto":!0,children:"Guest Services ("}),i.pricing.personCount,t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE1MTE6MTAx","data-yw-t":!0,"data-yw-auto":!0,children:" Ã— $"}),i.pricing.pricePerPerson.toFixed(2),t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE1MTE6MTUw","data-yw-t":!0,"data-yw-auto":!0,children:"):"})]}),t.jsxs("span",{className:"font-medium","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE1MTI6MjI","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE1MTI6NTI","data-yw-t":!0,"data-yw-auto":!0,children:"$"}),(i.pricing.personCount*i.pricing.pricePerPerson).toFixed(2)]})]}),t.jsx("div",{className:"border-t border-gray-300 pt-2","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE1MTU6MTg","data-yw-s":!0,children:t.jsxs("div",{className:"flex justify-between","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE1MTY6MjA","data-yw-s":!0,children:[t.jsx("span",{className:"font-medium text-gray-800","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE1MTc6MjI","data-yw-t":!0,"data-yw-s":!0,children:"Total Subtotal:"}),t.jsxs("span",{className:"font-bold text-lg","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE1MTg6MjI","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE1MTg6NTg","data-yw-t":!0,"data-yw-auto":!0,children:"$"}),i.pricing.subtotal.toFixed(2)]})]})}),i.pricing.discount.amount>0&&t.jsxs("div",{className:"flex justify-between text-sm text-red-600","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE1MjI6MjA","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE1MjM6MjI","data-yw-t":!0,"data-yw-s":!0,children:"Discount:"}),t.jsxs("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE1MjQ6MjI","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE1MjQ6Mjg","data-yw-t":!0,"data-yw-auto":!0,children:"-$"}),i.pricing.discount.amount.toFixed(2)]})]}),i.pricing.includeTax&&t.jsxs("div",{className:"flex justify-between text-sm","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE1Mjg6MjA","data-yw-s":!0,children:[t.jsxs("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE1Mjk6MjI","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE1Mjk6Mjg","data-yw-t":!0,"data-yw-auto":!0,children:"Tax ("}),(i.pricing.taxRate*100).toFixed(1),t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE1Mjk6Nzk","data-yw-t":!0,"data-yw-auto":!0,children:"%):"})]}),t.jsxs("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE1MzA6MjI","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE1MzA6Mjg","data-yw-t":!0,"data-yw-auto":!0,children:"$"}),i.pricing.taxAmount.toFixed(2)]})]}),t.jsx("div",{className:"border-t-2 border-gray-400 pt-3 mt-2","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE1MzM6MTg","data-yw-s":!0,children:t.jsxs("div",{className:"flex justify-between text-xl font-bold text-gray-900","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE1MzQ6MjA","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE1MzU6MjI","data-yw-t":!0,"data-yw-s":!0,children:"Final Total:"}),t.jsxs("span",{className:"text-green-600","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE1MzY6MjI","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE1MzY6NTU","data-yw-t":!0,"data-yw-auto":!0,children:"$"}),i.pricing.total.toFixed(2)]})]})}),i.pricing.deposits.length>0&&t.jsxs("div",{className:"border-t border-gray-300 pt-3 mt-3","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE1NDI6MjA","data-yw-s":!0,children:[t.jsxs("div",{className:"flex justify-between text-sm text-green-600","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE1NDM6MjI","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE1NDQ6MjQ","data-yw-t":!0,"data-yw-s":!0,children:"Total Deposits Paid:"}),t.jsxs("span",{className:"font-medium","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE1NDU6MjQ","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE1NDU6NTQ","data-yw-t":!0,"data-yw-auto":!0,children:"$"}),i.pricing.amountPaid.toFixed(2)]})]}),t.jsxs("div",{className:`flex justify-between text-lg font-bold mt-1 ${i.pricing.remainingBalance<=0?"text-green-600":"text-orange-600"}`,"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE1NDc6MjI","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE1NTA6MjQ","data-yw-t":!0,"data-yw-s":!0,children:"Remaining Balance:"}),t.jsxs("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE1NTE6MjQ","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE1NTE6MzA","data-yw-t":!0,"data-yw-auto":!0,children:"$"}),i.pricing.remainingBalance.toFixed(2)]})]}),i.pricing.remainingBalance<=0&&t.jsx("div",{className:"text-center mt-2","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE1NTQ6MjQ","data-yw-s":!0,children:t.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE1NTU6MjY","data-yw-t":!0,"data-yw-s":!0,children:"âœ… Fully Paid"})})]}),i.pricing.deposits.length>0&&t.jsxs("div",{className:"mt-4 pt-3 border-t border-gray-200","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE1NjU6MjA","data-yw-s":!0,children:[t.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE1NjY6MjI","data-yw-t":!0,"data-yw-s":!0,children:"Deposit History:"}),t.jsx("div",{className:"space-y-1","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE1Njc6MjI","data-yw-s":!0,children:i.pricing.deposits.map((b,M)=>t.jsxs("div",{className:"flex justify-between text-xs text-gray-600","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE1Njk6MjY","data-yw-s":!0,children:[t.jsxs("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE1NzA6Mjg","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE1NzA6MzQ","data-yw-t":!0,"data-yw-auto":!0,children:"Deposit #"}),M+1,t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE1NzE6NTA","data-yw-t":!0,"data-yw-auto":!0,children:" ("}),b.method.replace("_"," "),t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE1NzE6ODY","data-yw-t":!0,"data-yw-auto":!0,children:")"}),b.notes&&` - ${b.notes}`]}),t.jsxs("span",{className:"font-medium","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE1NzQ6Mjg","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE1NzQ6NTg","data-yw-t":!0,"data-yw-auto":!0,children:"$"}),b.amount.toFixed(2)]})]},b.id))})]})]})]}),t.jsxs("div",{className:"bg-blue-50 rounded-lg p-4","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE1ODQ6MTQ","data-yw-s":!0,children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE1ODU6MTY","data-yw-t":!0,"data-yw-s":!0,children:"Email Actions"}),t.jsxs("div",{className:"flex gap-3","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE1ODY6MTY","data-yw-s":!0,children:[t.jsxs("button",{type:"button",onClick:()=>ae(),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE1ODc6MTg","data-yw-s":!0,children:[t.jsx(rs,{className:"h-4 w-4","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE1OTI6MjA","data-yw-s":!0}),t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE1OTI6NDg","data-yw-t":!0,"data-yw-auto":!0,children:"Send Schedule"})]}),t.jsxs("button",{type:"button",onClick:()=>ve(),className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE1OTU6MTg","data-yw-s":!0,children:[t.jsx(St,{className:"h-4 w-4","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE2MDA6MjA","data-yw-s":!0}),t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE2MDA6NTI","data-yw-t":!0,"data-yw-auto":!0,children:"Send PDF Invoice"})]})]})]})]}),y==="invoice"&&t.jsx("div",{className:"space-y-6","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE2MTA6MTI","data-yw-s":!0,children:t.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE2MTE6MTQ","data-yw-s":!0,children:[t.jsxs("div",{className:"flex items-center justify-between mb-6","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE2MTI6MTY","data-yw-s":!0,children:[t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE2MTM6MTg","data-yw-s":!0,children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE2MTQ6MjA","data-yw-t":!0,"data-yw-s":!0,children:"Invoice Preview"}),i.pricing.deposits.length>0&&t.jsx("p",{className:"text-sm text-gray-600 mt-1","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE2MTY6MjI","data-yw-t":!0,"data-yw-s":!0,children:"Shows deposits and payment information"})]}),t.jsxs("div",{className:"flex gap-2","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE2MjE6MTg","data-yw-s":!0,children:[t.jsxs("button",{type:"button",onClick:()=>ve(),className:"flex items-center gap-2 px-3 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors text-sm","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE2MjI6MjA","data-yw-s":!0,children:[t.jsx(Bn,{className:"h-4 w-4","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE2Mjc6MjI","data-yw-s":!0}),t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE2Mjc6NTM","data-yw-t":!0,"data-yw-auto":!0,children:"Print"})]}),t.jsxs("button",{type:"button",onClick:()=>ve(),className:"flex items-center gap-2 px-3 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors text-sm","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE2MzA6MjA","data-yw-s":!0,children:[t.jsx(St,{className:"h-4 w-4","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE2MzU6MjI","data-yw-s":!0}),t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE2MzU6NTQ","data-yw-t":!0,"data-yw-auto":!0,children:"Download PDF"})]})]})]}),t.jsxs("div",{className:"space-y-6","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE2NDI6MTY","data-yw-s":!0,children:[t.jsxs("div",{className:"flex justify-between items-start mb-6","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE2NDQ6MTg","data-yw-s":!0,children:[t.jsxs("div",{className:"flex flex-col items-start","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE2NDU6MjA","data-yw-s":!0,children:[t.jsx("img",{src:l.logo&&l.logo.startsWith("data:")?l.logo:"/assets/default-logo.png",alt:"Logo",className:"w-20 h-20 object-contain mb-3","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE2NDY6MjI","data-yw-s":!0}),t.jsxs("div",{className:"text-left","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE2NTE6MjI","data-yw-s":!0,children:[t.jsx("p",{className:"font-bold text-gray-900 text-lg","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE2NTI6MjQ","data-yw-s":!0,children:l.storeName}),l.storeAddress&&t.jsx("p",{className:"text-sm text-gray-600","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE2NTM6NTA","data-yw-s":!0,children:l.storeAddress}),l.storePhone&&t.jsxs("p",{className:"text-sm text-gray-600","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE2NTQ6NDg","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE2NTQ6ODU","data-yw-t":!0,"data-yw-auto":!0,children:"Phone: "}),l.storePhone]}),l.storeEmail&&t.jsxs("p",{className:"text-sm text-gray-600","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE2NTU6NDg","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE2NTU6ODU","data-yw-t":!0,"data-yw-auto":!0,children:"Email: "}),l.storeEmail]})]})]}),t.jsxs("div",{className:"text-right","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE2NTg6MjA","data-yw-s":!0,children:[t.jsx("p",{className:"text-sm text-gray-600","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE2NTk6MjI","data-yw-t":!0,"data-yw-s":!0,children:"Invoice Date:"}),t.jsx("p",{className:"font-medium","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE2NjA6MjI","data-yw-s":!0,children:new Date().toLocaleDateString()}),t.jsx("p",{className:"text-sm text-gray-600 mt-2","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE2NjE6MjI","data-yw-t":!0,"data-yw-s":!0,children:"Event Date:"}),t.jsx("p",{className:"font-medium","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE2NjI6MjI","data-yw-s":!0,children:new Date(i.date).toLocaleDateString()})]})]}),t.jsxs("div",{className:"text-center mb-6","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE2Njc6MTg","data-yw-s":!0,children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE2Njg6MjA","data-yw-t":!0,"data-yw-s":!0,children:"INVOICE"}),t.jsx("p",{className:"text-gray-600 mt-1","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE2Njk6MjA","data-yw-t":!0,"data-yw-s":!0,children:"Event Management Services"})]}),t.jsxs("div",{className:"flex gap-8 mb-6","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE2NzM6MTg","data-yw-s":!0,children:[t.jsxs("div",{className:"flex-1","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE2NzQ6MjA","data-yw-s":!0,children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-2","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE2NzU6MjI","data-yw-t":!0,"data-yw-s":!0,children:"Bill To:"}),t.jsxs("div",{className:"text-gray-700","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE2NzY6MjI","data-yw-s":!0,children:[t.jsx("p",{className:"font-medium","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE2Nzc6MjQ","data-yw-s":!0,children:i.contact.name}),t.jsx("p",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE2Nzg6MjQ","data-yw-s":!0,children:i.contact.email}),t.jsx("p",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE2Nzk6MjQ","data-yw-s":!0,children:i.contact.phone})]})]}),t.jsxs("div",{className:"flex-1","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE2ODI6MjA","data-yw-s":!0,children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-2","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE2ODM6MjI","data-yw-t":!0,"data-yw-s":!0,children:"Event Details:"}),t.jsxs("div",{className:"text-gray-700","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE2ODQ6MjI","data-yw-s":!0,children:[t.jsxs("p",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE2ODU6MjQ","data-yw-s":!0,children:[t.jsx("span",{className:"font-medium","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE2ODU6Mjc","data-yw-t":!0,"data-yw-s":!0,children:"Event:"})," ",i.title]}),t.jsxs("p",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE2ODY6MjQ","data-yw-s":!0,children:[t.jsx("span",{className:"font-medium","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE2ODY6Mjc","data-yw-t":!0,"data-yw-s":!0,children:"Date:"})," ",new Date(i.date).toLocaleDateString()]}),t.jsxs("p",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE2ODc6MjQ","data-yw-s":!0,children:[t.jsx("span",{className:"font-medium","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE2ODc6Mjc","data-yw-t":!0,"data-yw-s":!0,children:"Time:"})," ",ne(i.startTime),t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE2ODc6MTA2","data-yw-t":!0,"data-yw-auto":!0,children:" - "}),ne(i.endTime)]}),t.jsxs("p",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE2ODg6MjQ","data-yw-s":!0,children:[t.jsx("span",{className:"font-medium","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE2ODg6Mjc","data-yw-t":!0,"data-yw-s":!0,children:"Venue:"})," ",o.find(b=>b.id===i.venueId)?.name]})]})]})]}),t.jsxs("div",{className:"border-t border-gray-200 pt-4","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE2OTQ6MTg","data-yw-s":!0,children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-4","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE2OTU6MjA","data-yw-t":!0,"data-yw-s":!0,children:"Services:"}),t.jsx("div",{className:"overflow-x-auto","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE2OTY6MjA","data-yw-s":!0,children:t.jsxs("table",{className:"w-full border-collapse border border-gray-300","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE2OTc6MjI","data-yw-s":!0,children:[t.jsx("thead",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE2OTg6MjQ","data-yw-s":!0,children:t.jsxs("tr",{className:"bg-gray-50","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE2OTk6MjY","data-yw-s":!0,children:[t.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE3MDA6Mjg","data-yw-t":!0,"data-yw-s":!0,children:"Description"}),t.jsx("th",{className:"border border-gray-300 px-4 py-2 text-center","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE3MDE6Mjg","data-yw-t":!0,"data-yw-s":!0,children:"Quantity"}),t.jsx("th",{className:"border border-gray-300 px-4 py-2 text-right","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE3MDI6Mjg","data-yw-t":!0,"data-yw-s":!0,children:"Unit Price"}),t.jsx("th",{className:"border border-gray-300 px-4 py-2 text-right","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE3MDM6Mjg","data-yw-t":!0,"data-yw-s":!0,children:"Total"})]})}),t.jsxs("tbody",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE3MDY6MjQ","data-yw-s":!0,children:[i.pricing.personCount>0&&i.pricing.pricePerPerson>0&&t.jsxs("tr",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE3MDg6Mjg","data-yw-s":!0,children:[t.jsx("td",{className:"border border-gray-300 px-4 py-2","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE3MDk6MzA","data-yw-t":!0,"data-yw-s":!0,children:"Guest Services"}),t.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE3MTA6MzA","data-yw-s":!0,children:i.pricing.personCount}),t.jsxs("td",{className:"border border-gray-300 px-4 py-2 text-right","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE3MTE6MzA","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE3MTE6OTA","data-yw-t":!0,"data-yw-auto":!0,children:"$"}),i.pricing.pricePerPerson.toFixed(2)]}),t.jsxs("td",{className:"border border-gray-300 px-4 py-2 text-right","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE3MTI6MzA","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE3MTI6OTA","data-yw-t":!0,"data-yw-auto":!0,children:"$"}),(i.pricing.personCount*i.pricing.pricePerPerson).toFixed(2)]})]}),i.pricing.menuItems.map(b=>t.jsxs("tr",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE3MTY6Mjg","data-yw-s":!0,children:[t.jsxs("td",{className:"border border-gray-300 px-4 py-2","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE3MTc6MzA","data-yw-s":!0,children:[b.name,b.description&&t.jsxs("span",{className:"text-blue-900","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE3MTg6NjQ","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE3MTg6OTY","data-yw-t":!0,"data-yw-auto":!0,children:" ("}),b.description,t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE3MTg6MTE2","data-yw-t":!0,"data-yw-auto":!0,children:")"})]})]}),t.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE3MjA6MzA","data-yw-s":!0,children:b.quantity}),t.jsx("td",{className:"border border-gray-300 px-4 py-2 text-right","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE3MjE6MzA","data-yw-s":!0,children:b.price>0?`$${b.price.toFixed(2)}`:"N/A"}),t.jsx("td",{className:"border border-gray-300 px-4 py-2 text-right","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE3MjI6MzA","data-yw-s":!0,children:b.price>0?`$${(b.price*b.quantity).toFixed(2)}`:"Included"})]},b.id))]})]})})]}),t.jsx("div",{className:"border-t border-gray-200 pt-4","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE3MzE6MTg","data-yw-s":!0,children:t.jsxs("div",{className:"w-full max-w-sm ml-auto space-y-3","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE3MzI6MjA","data-yw-s":!0,children:[t.jsxs("div",{className:"flex justify-between text-sm text-gray-600","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE3MzQ6MjI","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE3MzU6MjQ","data-yw-t":!0,"data-yw-s":!0,children:"Menu Items:"}),t.jsxs("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE3MzY6MjQ","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE3MzY6MzA","data-yw-t":!0,"data-yw-auto":!0,children:"$"}),i.pricing.menuItems.reduce((b,M)=>b+M.price*M.quantity,0).toFixed(2)]})]}),i.pricing.personCount>0&&i.pricing.pricePerPerson>0&&t.jsxs("div",{className:"flex justify-between text-sm text-gray-600","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE3NDA6MjQ","data-yw-s":!0,children:[t.jsxs("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE3NDE6MjY","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE3NDE6MzI","data-yw-t":!0,"data-yw-auto":!0,children:"Guest Services ("}),i.pricing.personCount,t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE3NDE6Nzk","data-yw-t":!0,"data-yw-auto":!0,children:" guests):"})]}),t.jsxs("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE3NDI6MjY","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE3NDI6MzI","data-yw-t":!0,"data-yw-auto":!0,children:"$"}),(i.pricing.personCount*i.pricing.pricePerPerson).toFixed(2)]})]}),t.jsx("div",{className:"border-t border-gray-300 pt-2","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE3NDU6MjI","data-yw-s":!0,children:t.jsxs("div",{className:"flex justify-between font-medium","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE3NDY6MjQ","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE3NDc6MjY","data-yw-t":!0,"data-yw-s":!0,children:"Subtotal:"}),t.jsxs("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE3NDg6MjY","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE3NDg6MzI","data-yw-t":!0,"data-yw-auto":!0,children:"$"}),i.pricing.subtotal.toFixed(2)]})]})}),i.pricing.discount.amount>0&&t.jsxs("div",{className:"flex justify-between text-red-600","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE3NTI6MjQ","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE3NTM6MjY","data-yw-t":!0,"data-yw-s":!0,children:"Discount:"}),t.jsxs("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE3NTQ6MjY","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE3NTQ6MzI","data-yw-t":!0,"data-yw-auto":!0,children:"-$"}),i.pricing.discount.amount.toFixed(2)]})]}),i.pricing.includeTax&&t.jsxs("div",{className:"flex justify-between","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE3NTg6MjQ","data-yw-s":!0,children:[t.jsxs("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE3NTk6MjY","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE3NTk6MzI","data-yw-t":!0,"data-yw-auto":!0,children:"Tax ("}),(i.pricing.taxRate*100).toFixed(1),t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE3NTk6ODM","data-yw-t":!0,"data-yw-auto":!0,children:"%):"})]}),t.jsxs("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE3NjA6MjY","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE3NjA6MzI","data-yw-t":!0,"data-yw-auto":!0,children:"$"}),i.pricing.taxAmount.toFixed(2)]})]}),t.jsxs("div",{className:"border-t-2 border-gray-400 pt-3 flex justify-between text-xl font-bold","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE3NjM6MjI","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE3NjQ6MjQ","data-yw-t":!0,"data-yw-s":!0,children:"Final Total:"}),t.jsxs("span",{className:"text-green-600","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE3NjU6MjQ","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE3NjU6NTc","data-yw-t":!0,"data-yw-auto":!0,children:"$"}),i.pricing.total.toFixed(2)]})]}),i.pricing.deposits.length>0&&t.jsxs("div",{className:"border-t border-gray-300 pt-3 mt-3","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE3NzA6MjQ","data-yw-s":!0,children:[t.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE3NzE6MjY","data-yw-t":!0,"data-yw-s":!0,children:"Payment Information:"}),i.pricing.deposits.map((b,M)=>t.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE3NzM6Mjg","data-yw-s":!0,children:[t.jsxs("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE3NzQ6MzA","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE3NzQ6MzY","data-yw-t":!0,"data-yw-auto":!0,children:"Deposit #"}),M+1,t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE3NzQ6NTY","data-yw-t":!0,"data-yw-auto":!0,children:" ("}),b.method.replace("_"," "),t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE3NzQ6OTI","data-yw-t":!0,"data-yw-auto":!0,children:"):"})]}),t.jsxs("span",{className:"font-medium text-green-600","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE3NzU6MzA","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE3NzU6NzU","data-yw-t":!0,"data-yw-auto":!0,children:"$"}),b.amount.toFixed(2)]})]},b.id)),t.jsxs("div",{className:"border-t border-gray-200 pt-2 mt-2","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE3Nzg6MjY","data-yw-s":!0,children:[t.jsxs("div",{className:"flex justify-between text-sm","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE3Nzk6Mjg","data-yw-s":!0,children:[t.jsx("span",{className:"font-medium","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE3ODA6MzA","data-yw-t":!0,"data-yw-s":!0,children:"Total Paid:"}),t.jsxs("span",{className:"font-medium text-green-600","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE3ODE6MzA","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE3ODE6NzU","data-yw-t":!0,"data-yw-auto":!0,children:"$"}),i.pricing.amountPaid.toFixed(2)]})]}),t.jsxs("div",{className:`flex justify-between text-lg font-bold mt-1 ${i.pricing.remainingBalance<=0?"text-green-600":"text-red-600"}`,"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE3ODM6Mjg","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE3ODY6MzA","data-yw-t":!0,"data-yw-s":!0,children:"Balance Due:"}),t.jsxs("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE3ODc6MzA","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE3ODc6MzY","data-yw-t":!0,"data-yw-auto":!0,children:"$"}),i.pricing.remainingBalance.toFixed(2)]})]}),i.pricing.remainingBalance<=0&&t.jsx("div",{className:"text-center mt-2","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE3OTA6MzA","data-yw-s":!0,children:t.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE3OTE6MzI","data-yw-t":!0,"data-yw-s":!0,children:"âœ… PAID IN FULL"})})]})]})]})}),t.jsxs("div",{className:"border-t border-gray-200 pt-4 text-center text-sm text-gray-600","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE4MDM6MTg","data-yw-s":!0,children:[t.jsx("p",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE4MDQ6MjA","data-yw-t":!0,"data-yw-s":!0,children:"Thank you for your business!"}),t.jsx("p",{className:"mt-2","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE4MDU6MjA","data-yw-t":!0,"data-yw-s":!0,children:"Powered and Designed By Mike Akanan | (313) 938-6666"})]})]})]})}),t.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-6 border-t border-gray-200","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE4MTM6MTA","data-yw-s":!0,children:[t.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE4MTQ6MTI","data-yw-t":!0,"data-yw-s":!0,children:"Cancel"}),t.jsxs("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center gap-2","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE4MjE6MTI","data-yw-s":!0,children:[t.jsx(Wn,{className:"h-4 w-4","data-yw":"c3JjL2NvbXBvbmVudHMvRXZlbnREaWFsb2cudHN4QDE4MjU6MTQ","data-yw-s":!0}),h?"Update Event":"Create Event"]})]})]})]})}):null};var Zn="vercel.ai.error",Uc=Symbol.for(Zn),Sn,Cc=class _n extends Error{constructor({name:a,message:s,cause:r}){super(s),this[Sn]=!0,this.name=a,this.cause=r}static isInstance(a){return _n.hasMarker(a,Zn)}static hasMarker(a,s){const r=Symbol.for(s);return a!=null&&typeof a=="object"&&r in a&&typeof a[r]=="boolean"&&a[r]===!0}};Sn=Uc;var se=Cc,On="AI_APICallError",Qn=`vercel.ai.error.${On}`,Yc=Symbol.for(Qn),In,_e=class extends se{constructor({message:e,url:a,requestBodyValues:s,statusCode:r,responseHeaders:n,responseBody:d,cause:o,isRetryable:c=r!=null&&(r===408||r===409||r===429||r>=500),data:l}){super({name:On,message:e,cause:o}),this[In]=!0,this.url=a,this.requestBodyValues=s,this.statusCode=r,this.responseHeaders=n,this.responseBody=d,this.isRetryable=c,this.data=l}static isInstance(e){return se.hasMarker(e,Qn)}};In=Yc;var Gn="AI_EmptyResponseBodyError",Un=`vercel.ai.error.${Gn}`,zc=Symbol.for(Un),Cn,$c=class extends se{constructor({message:e="Empty response body"}={}){super({name:Gn,message:e}),this[Cn]=!0}static isInstance(e){return se.hasMarker(e,Un)}};Cn=zc;function ga(e){return e==null?"unknown error":typeof e=="string"?e:e instanceof Error?e.message:JSON.stringify(e)}var Yn="AI_InvalidArgumentError",zn=`vercel.ai.error.${Yn}`,Pc=Symbol.for(zn),$n,sr=class extends se{constructor({message:a,cause:s,argument:r}){super({name:Yn,message:a,cause:s}),this[$n]=!0,this.argument=r}static isInstance(a){return se.hasMarker(a,zn)}};$n=Pc;var Pn="AI_InvalidPromptError",qn=`vercel.ai.error.${Pn}`,qc=Symbol.for(qn),Kn,rt=class extends se{constructor({prompt:e,message:a,cause:s}){super({name:Pn,message:`Invalid prompt: ${a}`,cause:s}),this[Kn]=!0,this.prompt=e}static isInstance(e){return se.hasMarker(e,qn)}};Kn=qc;var ed="AI_InvalidResponseDataError",td=`vercel.ai.error.${ed}`,Kc=Symbol.for(td),ad,ps=class extends se{constructor({data:e,message:a=`Invalid response data: ${JSON.stringify(e)}.`}){super({name:ed,message:a}),this[ad]=!0,this.data=e}static isInstance(e){return se.hasMarker(e,td)}};ad=Kc;var sd="AI_JSONParseError",rd=`vercel.ai.error.${sd}`,el=Symbol.for(rd),nd,Qt=class extends se{constructor({text:e,cause:a}){super({name:sd,message:`JSON parsing failed: Text: ${e}.
Error message: ${ga(a)}`,cause:a}),this[nd]=!0,this.text=e}static isInstance(e){return se.hasMarker(e,rd)}};nd=el;var dd="AI_LoadAPIKeyError",od=`vercel.ai.error.${dd}`,tl=Symbol.for(od),id,Da=class extends se{constructor({message:e}){super({name:dd,message:e}),this[id]=!0}static isInstance(e){return se.hasMarker(e,od)}};id=tl;var cd="AI_TooManyEmbeddingValuesForCallError",ld=`vercel.ai.error.${cd}`,al=Symbol.for(ld),ud,sl=class extends se{constructor(e){super({name:cd,message:`Too many values for a single embedding call. The ${e.provider} model "${e.modelId}" can only embed up to ${e.maxEmbeddingsPerCall} values per call, but ${e.values.length} values were provided.`}),this[ud]=!0,this.provider=e.provider,this.modelId=e.modelId,this.maxEmbeddingsPerCall=e.maxEmbeddingsPerCall,this.values=e.values}static isInstance(e){return se.hasMarker(e,ld)}};ud=al;var md="AI_TypeValidationError",vd=`vercel.ai.error.${md}`,rl=Symbol.for(vd),yd,nl=class Ws extends se{constructor({value:a,cause:s}){super({name:md,message:`Type validation failed: Value: ${JSON.stringify(a)}.
Error message: ${ga(s)}`,cause:s}),this[yd]=!0,this.value=a}static isInstance(a){return se.hasMarker(a,vd)}static wrap({value:a,cause:s}){return Ws.isInstance(s)&&s.value===a?s:new Ws({value:a,cause:s})}};yd=rl;var It=nl,bd="AI_UnsupportedFunctionalityError",pd=`vercel.ai.error.${bd}`,dl=Symbol.for(pd),hd,He=class extends se{constructor({functionality:e,message:a=`'${e}' functionality not supported.`}){super({name:bd,message:a}),this[hd]=!0,this.functionality=e}static isInstance(e){return se.hasMarker(e,pd)}};hd=dl;let wd=(e,a=21)=>(s=a)=>{let r="",n=s|0;for(;n--;)r+=e[Math.random()*e.length|0];return r};var jt={exports:{}},$r;function ol(){if($r)return jt.exports;$r=1;const e=typeof Buffer<"u",a=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,s=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function r(c,l,i){i==null&&l!==null&&typeof l=="object"&&(i=l,l=void 0),e&&Buffer.isBuffer(c)&&(c=c.toString()),c&&c.charCodeAt(0)===65279&&(c=c.slice(1));const u=JSON.parse(c,l);if(u===null||typeof u!="object")return u;const m=i&&i.protoAction||"error",N=i&&i.constructorAction||"error";if(m==="ignore"&&N==="ignore")return u;if(m!=="ignore"&&N!=="ignore"){if(a.test(c)===!1&&s.test(c)===!1)return u}else if(m!=="ignore"&&N==="ignore"){if(a.test(c)===!1)return u}else if(s.test(c)===!1)return u;return n(u,{protoAction:m,constructorAction:N,safe:i&&i.safe})}function n(c,{protoAction:l="error",constructorAction:i="error",safe:u}={}){let m=[c];for(;m.length;){const N=m;m=[];for(const x of N){if(l!=="ignore"&&Object.prototype.hasOwnProperty.call(x,"__proto__")){if(u===!0)return null;if(l==="error")throw new SyntaxError("Object contains forbidden prototype property");delete x.__proto__}if(i!=="ignore"&&Object.prototype.hasOwnProperty.call(x,"constructor")&&Object.prototype.hasOwnProperty.call(x.constructor,"prototype")){if(u===!0)return null;if(i==="error")throw new SyntaxError("Object contains forbidden prototype property");delete x.constructor}for(const w in x){const y=x[w];y&&typeof y=="object"&&m.push(y)}}}return c}function d(c,l,i){const u=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return r(c,l,i)}finally{Error.stackTraceLimit=u}}function o(c,l){const i=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return r(c,l,{safe:!0})}catch{return null}finally{Error.stackTraceLimit=i}}return jt.exports=d,jt.exports.default=d,jt.exports.parse=d,jt.exports.safeParse=o,jt.exports.scan=n,jt.exports}var il=ol();const ns=Ko(il);function cl(e){return new ReadableStream({async pull(a){try{const{value:s,done:r}=await e.next();r?a.close():a.enqueue(s)}catch(s){a.error(s)}},cancel(){}})}async function ll(e){return e==null?Promise.resolve():new Promise(a=>setTimeout(a,e))}var Lt=({prefix:e,size:a=16,alphabet:s="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:r="-"}={})=>{const n=wd(s,a);if(e==null)return n;if(s.includes(r))throw new sr({argument:"separator",message:`The separator "${r}" must not be part of the alphabet "${s}".`});return d=>`${e}${r}${n(d)}`};Lt();function ul(e){return e==null?"unknown error":typeof e=="string"?e:e instanceof Error?e.message:JSON.stringify(e)}function ml(e){return e instanceof Error&&(e.name==="AbortError"||e.name==="TimeoutError")}var Ta=Symbol.for("vercel.ai.validator");function vl(e){return{[Ta]:!0,validate:e}}function yl(e){return typeof e=="object"&&e!==null&&Ta in e&&e[Ta]===!0&&"validate"in e}function bl(e){return yl(e)?e:pl(e)}function pl(e){return vl(a=>{const s=e.safeParse(a);return s.success?{success:!0,value:s.data}:{success:!1,error:s.error}})}function ds({value:e,schema:a}){const s=bl(a);try{if(s.validate==null)return{success:!0,value:e};const r=s.validate(e);return r.success?r:{success:!1,error:It.wrap({value:e,cause:r.error})}}catch(r){return{success:!1,error:It.wrap({value:e,cause:r})}}}function ka({text:e,schema:a}){try{const s=ns.parse(e);if(a==null)return{success:!0,value:s,rawValue:s};const r=ds({value:s,schema:a});return r.success?{...r,rawValue:s}:r}catch(s){return{success:!1,error:Qt.isInstance(s)?s:new Qt({text:e,cause:s})}}}var{btoa:hl,atob:wl}=globalThis;function rr(e){const a=e.replace(/-/g,"+").replace(/_/g,"/"),s=wl(a);return Uint8Array.from(s,r=>r.codePointAt(0))}function Ts(e){let a="";for(let s=0;s<e.length;s++)a+=String.fromCodePoint(e[s]);return hl(a)}const Nl=Symbol("Let zodToJsonSchema decide on which parser to use"),Pr={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref",openAiAnyTypeName:"OpenAiAnyType"},jl=e=>typeof e=="string"?{...Pr,name:e}:{...Pr,...e},xl=e=>{const a=jl(e),s=a.name!==void 0?[...a.basePath,a.definitionPath,a.name]:a.basePath;return{...a,flags:{hasReferencedOpenAiAnyType:!1},currentPath:s,propertyPath:void 0,seen:new Map(Object.entries(a.definitions).map(([r,n])=>[n._def,{def:n._def,path:[...a.basePath,a.definitionPath,r],jsonSchema:void 0}]))}};function Nd(e,a,s,r){r?.errorMessages&&s&&(e.errorMessage={...e.errorMessage,[a]:s})}function ye(e,a,s,r,n){e[a]=s,Nd(e,a,r,n)}const jd=(e,a)=>{let s=0;for(;s<e.length&&s<a.length&&e[s]===a[s];s++);return[(e.length-s).toString(),...a.slice(s)].join("/")};var ce;(function(e){e.assertEqual=n=>{};function a(n){}e.assertIs=a;function s(n){throw new Error}e.assertNever=s,e.arrayToEnum=n=>{const d={};for(const o of n)d[o]=o;return d},e.getValidEnumValues=n=>{const d=e.objectKeys(n).filter(c=>typeof n[n[c]]!="number"),o={};for(const c of d)o[c]=n[c];return e.objectValues(o)},e.objectValues=n=>e.objectKeys(n).map(function(d){return n[d]}),e.objectKeys=typeof Object.keys=="function"?n=>Object.keys(n):n=>{const d=[];for(const o in n)Object.prototype.hasOwnProperty.call(n,o)&&d.push(o);return d},e.find=(n,d)=>{for(const o of n)if(d(o))return o},e.isInteger=typeof Number.isInteger=="function"?n=>Number.isInteger(n):n=>typeof n=="number"&&Number.isFinite(n)&&Math.floor(n)===n;function r(n,d=" | "){return n.map(o=>typeof o=="string"?`'${o}'`:o).join(d)}e.joinValues=r,e.jsonStringifyReplacer=(n,d)=>typeof d=="bigint"?d.toString():d})(ce||(ce={}));var qr;(function(e){e.mergeShapes=(a,s)=>({...a,...s})})(qr||(qr={}));const Q=ce.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),vt=e=>{switch(typeof e){case"undefined":return Q.undefined;case"string":return Q.string;case"number":return Number.isNaN(e)?Q.nan:Q.number;case"boolean":return Q.boolean;case"function":return Q.function;case"bigint":return Q.bigint;case"symbol":return Q.symbol;case"object":return Array.isArray(e)?Q.array:e===null?Q.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Q.promise:typeof Map<"u"&&e instanceof Map?Q.map:typeof Set<"u"&&e instanceof Set?Q.set:typeof Date<"u"&&e instanceof Date?Q.date:Q.object;default:return Q.unknown}},R=ce.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class ot extends Error{get errors(){return this.issues}constructor(a){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const s=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,s):this.__proto__=s,this.name="ZodError",this.issues=a}format(a){const s=a||function(d){return d.message},r={_errors:[]},n=d=>{for(const o of d.issues)if(o.code==="invalid_union")o.unionErrors.map(n);else if(o.code==="invalid_return_type")n(o.returnTypeError);else if(o.code==="invalid_arguments")n(o.argumentsError);else if(o.path.length===0)r._errors.push(s(o));else{let c=r,l=0;for(;l<o.path.length;){const i=o.path[l];l===o.path.length-1?(c[i]=c[i]||{_errors:[]},c[i]._errors.push(s(o))):c[i]=c[i]||{_errors:[]},c=c[i],l++}}};return n(this),r}static assert(a){if(!(a instanceof ot))throw new Error(`Not a ZodError: ${a}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ce.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(a=s=>s.message){const s={},r=[];for(const n of this.issues)n.path.length>0?(s[n.path[0]]=s[n.path[0]]||[],s[n.path[0]].push(a(n))):r.push(a(n));return{formErrors:r,fieldErrors:s}}get formErrors(){return this.flatten()}}ot.create=e=>new ot(e);const ks=(e,a)=>{let s;switch(e.code){case R.invalid_type:e.received===Q.undefined?s="Required":s=`Expected ${e.expected}, received ${e.received}`;break;case R.invalid_literal:s=`Invalid literal value, expected ${JSON.stringify(e.expected,ce.jsonStringifyReplacer)}`;break;case R.unrecognized_keys:s=`Unrecognized key(s) in object: ${ce.joinValues(e.keys,", ")}`;break;case R.invalid_union:s="Invalid input";break;case R.invalid_union_discriminator:s=`Invalid discriminator value. Expected ${ce.joinValues(e.options)}`;break;case R.invalid_enum_value:s=`Invalid enum value. Expected ${ce.joinValues(e.options)}, received '${e.received}'`;break;case R.invalid_arguments:s="Invalid function arguments";break;case R.invalid_return_type:s="Invalid function return type";break;case R.invalid_date:s="Invalid date";break;case R.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(s=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(s=`${s} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?s=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?s=`Invalid input: must end with "${e.validation.endsWith}"`:ce.assertNever(e.validation):e.validation!=="regex"?s=`Invalid ${e.validation}`:s="Invalid";break;case R.too_small:e.type==="array"?s=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?s=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?s=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?s=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:s="Invalid input";break;case R.too_big:e.type==="array"?s=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?s=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?s=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?s=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?s=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:s="Invalid input";break;case R.custom:s="Invalid input";break;case R.invalid_intersection_types:s="Intersection results could not be merged";break;case R.not_multiple_of:s=`Number must be a multiple of ${e.multipleOf}`;break;case R.not_finite:s="Number must be finite";break;default:s=a.defaultError,ce.assertNever(e)}return{message:s}};let gl=ks;function fl(){return gl}const Ml=e=>{const{data:a,path:s,errorMaps:r,issueData:n}=e,d=[...s,...n.path||[]],o={...n,path:d};if(n.message!==void 0)return{...n,path:d,message:n.message};let c="";const l=r.filter(i=>!!i).slice().reverse();for(const i of l)c=i(o,{data:a,defaultError:c}).message;return{...n,path:d,message:c}};function _(e,a){const s=fl(),r=Ml({issueData:a,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,s,s===ks?void 0:ks].filter(n=>!!n)});e.common.issues.push(r)}class We{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(a,s){const r=[];for(const n of s){if(n.status==="aborted")return K;n.status==="dirty"&&a.dirty(),r.push(n.value)}return{status:a.value,value:r}}static async mergeObjectAsync(a,s){const r=[];for(const n of s){const d=await n.key,o=await n.value;r.push({key:d,value:o})}return We.mergeObjectSync(a,r)}static mergeObjectSync(a,s){const r={};for(const n of s){const{key:d,value:o}=n;if(d.status==="aborted"||o.status==="aborted")return K;d.status==="dirty"&&a.dirty(),o.status==="dirty"&&a.dirty(),d.value!=="__proto__"&&(typeof o.value<"u"||n.alwaysSet)&&(r[d.value]=o.value)}return{status:a.value,value:r}}}const K=Object.freeze({status:"aborted"}),ra=e=>({status:"dirty",value:e}),Oe=e=>({status:"valid",value:e}),Kr=e=>e.status==="aborted",en=e=>e.status==="dirty",Gt=e=>e.status==="valid",Fa=e=>typeof Promise<"u"&&e instanceof Promise;var G;(function(e){e.errToObj=a=>typeof a=="string"?{message:a}:a||{},e.toString=a=>typeof a=="string"?a:a?.message})(G||(G={}));class Pe{constructor(a,s,r,n){this._cachedPath=[],this.parent=a,this.data=s,this._path=r,this._key=n}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const tn=(e,a)=>{if(Gt(a))return{success:!0,data:a.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const s=new ot(e.common.issues);return this._error=s,this._error}}};function re(e){if(!e)return{};const{errorMap:a,invalid_type_error:s,required_error:r,description:n}=e;if(a&&(s||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return a?{errorMap:a,description:n}:{errorMap:(o,c)=>{const{message:l}=e;return o.code==="invalid_enum_value"?{message:l??c.defaultError}:typeof c.data>"u"?{message:l??r??c.defaultError}:o.code!=="invalid_type"?{message:c.defaultError}:{message:l??s??c.defaultError}},description:n}}class oe{get description(){return this._def.description}_getType(a){return vt(a.data)}_getOrReturnCtx(a,s){return s||{common:a.parent.common,data:a.data,parsedType:vt(a.data),schemaErrorMap:this._def.errorMap,path:a.path,parent:a.parent}}_processInputParams(a){return{status:new We,ctx:{common:a.parent.common,data:a.data,parsedType:vt(a.data),schemaErrorMap:this._def.errorMap,path:a.path,parent:a.parent}}}_parseSync(a){const s=this._parse(a);if(Fa(s))throw new Error("Synchronous parse encountered promise.");return s}_parseAsync(a){const s=this._parse(a);return Promise.resolve(s)}parse(a,s){const r=this.safeParse(a,s);if(r.success)return r.data;throw r.error}safeParse(a,s){const r={common:{issues:[],async:s?.async??!1,contextualErrorMap:s?.errorMap},path:s?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:a,parsedType:vt(a)},n=this._parseSync({data:a,path:r.path,parent:r});return tn(r,n)}"~validate"(a){const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:a,parsedType:vt(a)};if(!this["~standard"].async)try{const r=this._parseSync({data:a,path:[],parent:s});return Gt(r)?{value:r.value}:{issues:s.common.issues}}catch(r){r?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:a,path:[],parent:s}).then(r=>Gt(r)?{value:r.value}:{issues:s.common.issues})}async parseAsync(a,s){const r=await this.safeParseAsync(a,s);if(r.success)return r.data;throw r.error}async safeParseAsync(a,s){const r={common:{issues:[],contextualErrorMap:s?.errorMap,async:!0},path:s?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:a,parsedType:vt(a)},n=this._parse({data:a,path:r.path,parent:r}),d=await(Fa(n)?n:Promise.resolve(n));return tn(r,d)}refine(a,s){const r=n=>typeof s=="string"||typeof s>"u"?{message:s}:typeof s=="function"?s(n):s;return this._refinement((n,d)=>{const o=a(n),c=()=>d.addIssue({code:R.custom,...r(n)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(c(),!1)):o?!0:(c(),!1)})}refinement(a,s){return this._refinement((r,n)=>a(r)?!0:(n.addIssue(typeof s=="function"?s(r,n):s),!1))}_refinement(a){return new Vt({schema:this,typeName:D.ZodEffects,effect:{type:"refinement",refinement:a}})}superRefine(a){return this._refinement(a)}constructor(a){this.spa=this.safeParseAsync,this._def=a,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:s=>this["~validate"](s)}}optional(){return dt.create(this,this._def)}nullable(){return Xt.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return $e.create(this)}promise(){return Ua.create(this,this._def)}or(a){return _a.create([this,a],this._def)}and(a){return Oa.create(this,a,this._def)}transform(a){return new Vt({...re(this._def),schema:this,typeName:D.ZodEffects,effect:{type:"transform",transform:a}})}default(a){const s=typeof a=="function"?a:()=>a;return new Ca({...re(this._def),innerType:this,defaultValue:s,typeName:D.ZodDefault})}brand(){return new Md({typeName:D.ZodBranded,type:this,...re(this._def)})}catch(a){const s=typeof a=="function"?a:()=>a;return new Ya({...re(this._def),innerType:this,catchValue:s,typeName:D.ZodCatch})}describe(a){const s=this.constructor;return new s({...this._def,description:a})}pipe(a){return dr.create(this,a)}readonly(){return za.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const El=/^c[^\s-]{8,}$/i,Hl=/^[0-9a-z]+$/,Vl=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Xl=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Ll=/^[a-z0-9_-]{21}$/i,Jl=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Rl=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Dl=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Al="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let hs;const Bl=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Wl=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Tl=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,kl=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Fl=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Zl=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,xd="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Sl=new RegExp(`^${xd}$`);function gd(e){let a="[0-5]\\d";e.precision?a=`${a}\\.\\d{${e.precision}}`:e.precision==null&&(a=`${a}(\\.\\d+)?`);const s=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${a})${s}`}function _l(e){return new RegExp(`^${gd(e)}$`)}function Ol(e){let a=`${xd}T${gd(e)}`;const s=[];return s.push(e.local?"Z?":"Z"),e.offset&&s.push("([+-]\\d{2}:?\\d{2})"),a=`${a}(${s.join("|")})`,new RegExp(`^${a}$`)}function Ql(e,a){return!!((a==="v4"||!a)&&Bl.test(e)||(a==="v6"||!a)&&Tl.test(e))}function Il(e,a){if(!Jl.test(e))return!1;try{const[s]=e.split("."),r=s.replace(/-/g,"+").replace(/_/g,"/").padEnd(s.length+(4-s.length%4)%4,"="),n=JSON.parse(atob(r));return!(typeof n!="object"||n===null||"typ"in n&&n?.typ!=="JWT"||!n.alg||a&&n.alg!==a)}catch{return!1}}function Gl(e,a){return!!((a==="v4"||!a)&&Wl.test(e)||(a==="v6"||!a)&&kl.test(e))}class nt extends oe{_parse(a){if(this._def.coerce&&(a.data=String(a.data)),this._getType(a)!==Q.string){const d=this._getOrReturnCtx(a);return _(d,{code:R.invalid_type,expected:Q.string,received:d.parsedType}),K}const r=new We;let n;for(const d of this._def.checks)if(d.kind==="min")a.data.length<d.value&&(n=this._getOrReturnCtx(a,n),_(n,{code:R.too_small,minimum:d.value,type:"string",inclusive:!0,exact:!1,message:d.message}),r.dirty());else if(d.kind==="max")a.data.length>d.value&&(n=this._getOrReturnCtx(a,n),_(n,{code:R.too_big,maximum:d.value,type:"string",inclusive:!0,exact:!1,message:d.message}),r.dirty());else if(d.kind==="length"){const o=a.data.length>d.value,c=a.data.length<d.value;(o||c)&&(n=this._getOrReturnCtx(a,n),o?_(n,{code:R.too_big,maximum:d.value,type:"string",inclusive:!0,exact:!0,message:d.message}):c&&_(n,{code:R.too_small,minimum:d.value,type:"string",inclusive:!0,exact:!0,message:d.message}),r.dirty())}else if(d.kind==="email")Dl.test(a.data)||(n=this._getOrReturnCtx(a,n),_(n,{validation:"email",code:R.invalid_string,message:d.message}),r.dirty());else if(d.kind==="emoji")hs||(hs=new RegExp(Al,"u")),hs.test(a.data)||(n=this._getOrReturnCtx(a,n),_(n,{validation:"emoji",code:R.invalid_string,message:d.message}),r.dirty());else if(d.kind==="uuid")Xl.test(a.data)||(n=this._getOrReturnCtx(a,n),_(n,{validation:"uuid",code:R.invalid_string,message:d.message}),r.dirty());else if(d.kind==="nanoid")Ll.test(a.data)||(n=this._getOrReturnCtx(a,n),_(n,{validation:"nanoid",code:R.invalid_string,message:d.message}),r.dirty());else if(d.kind==="cuid")El.test(a.data)||(n=this._getOrReturnCtx(a,n),_(n,{validation:"cuid",code:R.invalid_string,message:d.message}),r.dirty());else if(d.kind==="cuid2")Hl.test(a.data)||(n=this._getOrReturnCtx(a,n),_(n,{validation:"cuid2",code:R.invalid_string,message:d.message}),r.dirty());else if(d.kind==="ulid")Vl.test(a.data)||(n=this._getOrReturnCtx(a,n),_(n,{validation:"ulid",code:R.invalid_string,message:d.message}),r.dirty());else if(d.kind==="url")try{new URL(a.data)}catch{n=this._getOrReturnCtx(a,n),_(n,{validation:"url",code:R.invalid_string,message:d.message}),r.dirty()}else d.kind==="regex"?(d.regex.lastIndex=0,d.regex.test(a.data)||(n=this._getOrReturnCtx(a,n),_(n,{validation:"regex",code:R.invalid_string,message:d.message}),r.dirty())):d.kind==="trim"?a.data=a.data.trim():d.kind==="includes"?a.data.includes(d.value,d.position)||(n=this._getOrReturnCtx(a,n),_(n,{code:R.invalid_string,validation:{includes:d.value,position:d.position},message:d.message}),r.dirty()):d.kind==="toLowerCase"?a.data=a.data.toLowerCase():d.kind==="toUpperCase"?a.data=a.data.toUpperCase():d.kind==="startsWith"?a.data.startsWith(d.value)||(n=this._getOrReturnCtx(a,n),_(n,{code:R.invalid_string,validation:{startsWith:d.value},message:d.message}),r.dirty()):d.kind==="endsWith"?a.data.endsWith(d.value)||(n=this._getOrReturnCtx(a,n),_(n,{code:R.invalid_string,validation:{endsWith:d.value},message:d.message}),r.dirty()):d.kind==="datetime"?Ol(d).test(a.data)||(n=this._getOrReturnCtx(a,n),_(n,{code:R.invalid_string,validation:"datetime",message:d.message}),r.dirty()):d.kind==="date"?Sl.test(a.data)||(n=this._getOrReturnCtx(a,n),_(n,{code:R.invalid_string,validation:"date",message:d.message}),r.dirty()):d.kind==="time"?_l(d).test(a.data)||(n=this._getOrReturnCtx(a,n),_(n,{code:R.invalid_string,validation:"time",message:d.message}),r.dirty()):d.kind==="duration"?Rl.test(a.data)||(n=this._getOrReturnCtx(a,n),_(n,{validation:"duration",code:R.invalid_string,message:d.message}),r.dirty()):d.kind==="ip"?Ql(a.data,d.version)||(n=this._getOrReturnCtx(a,n),_(n,{validation:"ip",code:R.invalid_string,message:d.message}),r.dirty()):d.kind==="jwt"?Il(a.data,d.alg)||(n=this._getOrReturnCtx(a,n),_(n,{validation:"jwt",code:R.invalid_string,message:d.message}),r.dirty()):d.kind==="cidr"?Gl(a.data,d.version)||(n=this._getOrReturnCtx(a,n),_(n,{validation:"cidr",code:R.invalid_string,message:d.message}),r.dirty()):d.kind==="base64"?Fl.test(a.data)||(n=this._getOrReturnCtx(a,n),_(n,{validation:"base64",code:R.invalid_string,message:d.message}),r.dirty()):d.kind==="base64url"?Zl.test(a.data)||(n=this._getOrReturnCtx(a,n),_(n,{validation:"base64url",code:R.invalid_string,message:d.message}),r.dirty()):ce.assertNever(d);return{status:r.value,value:a.data}}_regex(a,s,r){return this.refinement(n=>a.test(n),{validation:s,code:R.invalid_string,...G.errToObj(r)})}_addCheck(a){return new nt({...this._def,checks:[...this._def.checks,a]})}email(a){return this._addCheck({kind:"email",...G.errToObj(a)})}url(a){return this._addCheck({kind:"url",...G.errToObj(a)})}emoji(a){return this._addCheck({kind:"emoji",...G.errToObj(a)})}uuid(a){return this._addCheck({kind:"uuid",...G.errToObj(a)})}nanoid(a){return this._addCheck({kind:"nanoid",...G.errToObj(a)})}cuid(a){return this._addCheck({kind:"cuid",...G.errToObj(a)})}cuid2(a){return this._addCheck({kind:"cuid2",...G.errToObj(a)})}ulid(a){return this._addCheck({kind:"ulid",...G.errToObj(a)})}base64(a){return this._addCheck({kind:"base64",...G.errToObj(a)})}base64url(a){return this._addCheck({kind:"base64url",...G.errToObj(a)})}jwt(a){return this._addCheck({kind:"jwt",...G.errToObj(a)})}ip(a){return this._addCheck({kind:"ip",...G.errToObj(a)})}cidr(a){return this._addCheck({kind:"cidr",...G.errToObj(a)})}datetime(a){return typeof a=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:a}):this._addCheck({kind:"datetime",precision:typeof a?.precision>"u"?null:a?.precision,offset:a?.offset??!1,local:a?.local??!1,...G.errToObj(a?.message)})}date(a){return this._addCheck({kind:"date",message:a})}time(a){return typeof a=="string"?this._addCheck({kind:"time",precision:null,message:a}):this._addCheck({kind:"time",precision:typeof a?.precision>"u"?null:a?.precision,...G.errToObj(a?.message)})}duration(a){return this._addCheck({kind:"duration",...G.errToObj(a)})}regex(a,s){return this._addCheck({kind:"regex",regex:a,...G.errToObj(s)})}includes(a,s){return this._addCheck({kind:"includes",value:a,position:s?.position,...G.errToObj(s?.message)})}startsWith(a,s){return this._addCheck({kind:"startsWith",value:a,...G.errToObj(s)})}endsWith(a,s){return this._addCheck({kind:"endsWith",value:a,...G.errToObj(s)})}min(a,s){return this._addCheck({kind:"min",value:a,...G.errToObj(s)})}max(a,s){return this._addCheck({kind:"max",value:a,...G.errToObj(s)})}length(a,s){return this._addCheck({kind:"length",value:a,...G.errToObj(s)})}nonempty(a){return this.min(1,G.errToObj(a))}trim(){return new nt({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new nt({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new nt({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(a=>a.kind==="datetime")}get isDate(){return!!this._def.checks.find(a=>a.kind==="date")}get isTime(){return!!this._def.checks.find(a=>a.kind==="time")}get isDuration(){return!!this._def.checks.find(a=>a.kind==="duration")}get isEmail(){return!!this._def.checks.find(a=>a.kind==="email")}get isURL(){return!!this._def.checks.find(a=>a.kind==="url")}get isEmoji(){return!!this._def.checks.find(a=>a.kind==="emoji")}get isUUID(){return!!this._def.checks.find(a=>a.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(a=>a.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(a=>a.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(a=>a.kind==="cuid2")}get isULID(){return!!this._def.checks.find(a=>a.kind==="ulid")}get isIP(){return!!this._def.checks.find(a=>a.kind==="ip")}get isCIDR(){return!!this._def.checks.find(a=>a.kind==="cidr")}get isBase64(){return!!this._def.checks.find(a=>a.kind==="base64")}get isBase64url(){return!!this._def.checks.find(a=>a.kind==="base64url")}get minLength(){let a=null;for(const s of this._def.checks)s.kind==="min"&&(a===null||s.value>a)&&(a=s.value);return a}get maxLength(){let a=null;for(const s of this._def.checks)s.kind==="max"&&(a===null||s.value<a)&&(a=s.value);return a}}nt.create=e=>new nt({checks:[],typeName:D.ZodString,coerce:e?.coerce??!1,...re(e)});function Ul(e,a){const s=(e.toString().split(".")[1]||"").length,r=(a.toString().split(".")[1]||"").length,n=s>r?s:r,d=Number.parseInt(e.toFixed(n).replace(".","")),o=Number.parseInt(a.toFixed(n).replace(".",""));return d%o/10**n}class Ut extends oe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(a){if(this._def.coerce&&(a.data=Number(a.data)),this._getType(a)!==Q.number){const d=this._getOrReturnCtx(a);return _(d,{code:R.invalid_type,expected:Q.number,received:d.parsedType}),K}let r;const n=new We;for(const d of this._def.checks)d.kind==="int"?ce.isInteger(a.data)||(r=this._getOrReturnCtx(a,r),_(r,{code:R.invalid_type,expected:"integer",received:"float",message:d.message}),n.dirty()):d.kind==="min"?(d.inclusive?a.data<d.value:a.data<=d.value)&&(r=this._getOrReturnCtx(a,r),_(r,{code:R.too_small,minimum:d.value,type:"number",inclusive:d.inclusive,exact:!1,message:d.message}),n.dirty()):d.kind==="max"?(d.inclusive?a.data>d.value:a.data>=d.value)&&(r=this._getOrReturnCtx(a,r),_(r,{code:R.too_big,maximum:d.value,type:"number",inclusive:d.inclusive,exact:!1,message:d.message}),n.dirty()):d.kind==="multipleOf"?Ul(a.data,d.value)!==0&&(r=this._getOrReturnCtx(a,r),_(r,{code:R.not_multiple_of,multipleOf:d.value,message:d.message}),n.dirty()):d.kind==="finite"?Number.isFinite(a.data)||(r=this._getOrReturnCtx(a,r),_(r,{code:R.not_finite,message:d.message}),n.dirty()):ce.assertNever(d);return{status:n.value,value:a.data}}gte(a,s){return this.setLimit("min",a,!0,G.toString(s))}gt(a,s){return this.setLimit("min",a,!1,G.toString(s))}lte(a,s){return this.setLimit("max",a,!0,G.toString(s))}lt(a,s){return this.setLimit("max",a,!1,G.toString(s))}setLimit(a,s,r,n){return new Ut({...this._def,checks:[...this._def.checks,{kind:a,value:s,inclusive:r,message:G.toString(n)}]})}_addCheck(a){return new Ut({...this._def,checks:[...this._def.checks,a]})}int(a){return this._addCheck({kind:"int",message:G.toString(a)})}positive(a){return this._addCheck({kind:"min",value:0,inclusive:!1,message:G.toString(a)})}negative(a){return this._addCheck({kind:"max",value:0,inclusive:!1,message:G.toString(a)})}nonpositive(a){return this._addCheck({kind:"max",value:0,inclusive:!0,message:G.toString(a)})}nonnegative(a){return this._addCheck({kind:"min",value:0,inclusive:!0,message:G.toString(a)})}multipleOf(a,s){return this._addCheck({kind:"multipleOf",value:a,message:G.toString(s)})}finite(a){return this._addCheck({kind:"finite",message:G.toString(a)})}safe(a){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:G.toString(a)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:G.toString(a)})}get minValue(){let a=null;for(const s of this._def.checks)s.kind==="min"&&(a===null||s.value>a)&&(a=s.value);return a}get maxValue(){let a=null;for(const s of this._def.checks)s.kind==="max"&&(a===null||s.value<a)&&(a=s.value);return a}get isInt(){return!!this._def.checks.find(a=>a.kind==="int"||a.kind==="multipleOf"&&ce.isInteger(a.value))}get isFinite(){let a=null,s=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(s===null||r.value>s)&&(s=r.value):r.kind==="max"&&(a===null||r.value<a)&&(a=r.value)}return Number.isFinite(s)&&Number.isFinite(a)}}Ut.create=e=>new Ut({checks:[],typeName:D.ZodNumber,coerce:e?.coerce||!1,...re(e)});class ia extends oe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(a){if(this._def.coerce)try{a.data=BigInt(a.data)}catch{return this._getInvalidInput(a)}if(this._getType(a)!==Q.bigint)return this._getInvalidInput(a);let r;const n=new We;for(const d of this._def.checks)d.kind==="min"?(d.inclusive?a.data<d.value:a.data<=d.value)&&(r=this._getOrReturnCtx(a,r),_(r,{code:R.too_small,type:"bigint",minimum:d.value,inclusive:d.inclusive,message:d.message}),n.dirty()):d.kind==="max"?(d.inclusive?a.data>d.value:a.data>=d.value)&&(r=this._getOrReturnCtx(a,r),_(r,{code:R.too_big,type:"bigint",maximum:d.value,inclusive:d.inclusive,message:d.message}),n.dirty()):d.kind==="multipleOf"?a.data%d.value!==BigInt(0)&&(r=this._getOrReturnCtx(a,r),_(r,{code:R.not_multiple_of,multipleOf:d.value,message:d.message}),n.dirty()):ce.assertNever(d);return{status:n.value,value:a.data}}_getInvalidInput(a){const s=this._getOrReturnCtx(a);return _(s,{code:R.invalid_type,expected:Q.bigint,received:s.parsedType}),K}gte(a,s){return this.setLimit("min",a,!0,G.toString(s))}gt(a,s){return this.setLimit("min",a,!1,G.toString(s))}lte(a,s){return this.setLimit("max",a,!0,G.toString(s))}lt(a,s){return this.setLimit("max",a,!1,G.toString(s))}setLimit(a,s,r,n){return new ia({...this._def,checks:[...this._def.checks,{kind:a,value:s,inclusive:r,message:G.toString(n)}]})}_addCheck(a){return new ia({...this._def,checks:[...this._def.checks,a]})}positive(a){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:G.toString(a)})}negative(a){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:G.toString(a)})}nonpositive(a){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:G.toString(a)})}nonnegative(a){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:G.toString(a)})}multipleOf(a,s){return this._addCheck({kind:"multipleOf",value:a,message:G.toString(s)})}get minValue(){let a=null;for(const s of this._def.checks)s.kind==="min"&&(a===null||s.value>a)&&(a=s.value);return a}get maxValue(){let a=null;for(const s of this._def.checks)s.kind==="max"&&(a===null||s.value<a)&&(a=s.value);return a}}ia.create=e=>new ia({checks:[],typeName:D.ZodBigInt,coerce:e?.coerce??!1,...re(e)});class Fs extends oe{_parse(a){if(this._def.coerce&&(a.data=!!a.data),this._getType(a)!==Q.boolean){const r=this._getOrReturnCtx(a);return _(r,{code:R.invalid_type,expected:Q.boolean,received:r.parsedType}),K}return Oe(a.data)}}Fs.create=e=>new Fs({typeName:D.ZodBoolean,coerce:e?.coerce||!1,...re(e)});class Za extends oe{_parse(a){if(this._def.coerce&&(a.data=new Date(a.data)),this._getType(a)!==Q.date){const d=this._getOrReturnCtx(a);return _(d,{code:R.invalid_type,expected:Q.date,received:d.parsedType}),K}if(Number.isNaN(a.data.getTime())){const d=this._getOrReturnCtx(a);return _(d,{code:R.invalid_date}),K}const r=new We;let n;for(const d of this._def.checks)d.kind==="min"?a.data.getTime()<d.value&&(n=this._getOrReturnCtx(a,n),_(n,{code:R.too_small,message:d.message,inclusive:!0,exact:!1,minimum:d.value,type:"date"}),r.dirty()):d.kind==="max"?a.data.getTime()>d.value&&(n=this._getOrReturnCtx(a,n),_(n,{code:R.too_big,message:d.message,inclusive:!0,exact:!1,maximum:d.value,type:"date"}),r.dirty()):ce.assertNever(d);return{status:r.value,value:new Date(a.data.getTime())}}_addCheck(a){return new Za({...this._def,checks:[...this._def.checks,a]})}min(a,s){return this._addCheck({kind:"min",value:a.getTime(),message:G.toString(s)})}max(a,s){return this._addCheck({kind:"max",value:a.getTime(),message:G.toString(s)})}get minDate(){let a=null;for(const s of this._def.checks)s.kind==="min"&&(a===null||s.value>a)&&(a=s.value);return a!=null?new Date(a):null}get maxDate(){let a=null;for(const s of this._def.checks)s.kind==="max"&&(a===null||s.value<a)&&(a=s.value);return a!=null?new Date(a):null}}Za.create=e=>new Za({checks:[],coerce:e?.coerce||!1,typeName:D.ZodDate,...re(e)});class an extends oe{_parse(a){if(this._getType(a)!==Q.symbol){const r=this._getOrReturnCtx(a);return _(r,{code:R.invalid_type,expected:Q.symbol,received:r.parsedType}),K}return Oe(a.data)}}an.create=e=>new an({typeName:D.ZodSymbol,...re(e)});class Zs extends oe{_parse(a){if(this._getType(a)!==Q.undefined){const r=this._getOrReturnCtx(a);return _(r,{code:R.invalid_type,expected:Q.undefined,received:r.parsedType}),K}return Oe(a.data)}}Zs.create=e=>new Zs({typeName:D.ZodUndefined,...re(e)});class Sa extends oe{_parse(a){if(this._getType(a)!==Q.null){const r=this._getOrReturnCtx(a);return _(r,{code:R.invalid_type,expected:Q.null,received:r.parsedType}),K}return Oe(a.data)}}Sa.create=e=>new Sa({typeName:D.ZodNull,...re(e)});class ca extends oe{constructor(){super(...arguments),this._any=!0}_parse(a){return Oe(a.data)}}ca.create=e=>new ca({typeName:D.ZodAny,...re(e)});class Ss extends oe{constructor(){super(...arguments),this._unknown=!0}_parse(a){return Oe(a.data)}}Ss.create=e=>new Ss({typeName:D.ZodUnknown,...re(e)});class pt extends oe{_parse(a){const s=this._getOrReturnCtx(a);return _(s,{code:R.invalid_type,expected:Q.never,received:s.parsedType}),K}}pt.create=e=>new pt({typeName:D.ZodNever,...re(e)});class sn extends oe{_parse(a){if(this._getType(a)!==Q.undefined){const r=this._getOrReturnCtx(a);return _(r,{code:R.invalid_type,expected:Q.void,received:r.parsedType}),K}return Oe(a.data)}}sn.create=e=>new sn({typeName:D.ZodVoid,...re(e)});class $e extends oe{_parse(a){const{ctx:s,status:r}=this._processInputParams(a),n=this._def;if(s.parsedType!==Q.array)return _(s,{code:R.invalid_type,expected:Q.array,received:s.parsedType}),K;if(n.exactLength!==null){const o=s.data.length>n.exactLength.value,c=s.data.length<n.exactLength.value;(o||c)&&(_(s,{code:o?R.too_big:R.too_small,minimum:c?n.exactLength.value:void 0,maximum:o?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),r.dirty())}if(n.minLength!==null&&s.data.length<n.minLength.value&&(_(s,{code:R.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),r.dirty()),n.maxLength!==null&&s.data.length>n.maxLength.value&&(_(s,{code:R.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),r.dirty()),s.common.async)return Promise.all([...s.data].map((o,c)=>n.type._parseAsync(new Pe(s,o,s.path,c)))).then(o=>We.mergeArray(r,o));const d=[...s.data].map((o,c)=>n.type._parseSync(new Pe(s,o,s.path,c)));return We.mergeArray(r,d)}get element(){return this._def.type}min(a,s){return new $e({...this._def,minLength:{value:a,message:G.toString(s)}})}max(a,s){return new $e({...this._def,maxLength:{value:a,message:G.toString(s)}})}length(a,s){return new $e({...this._def,exactLength:{value:a,message:G.toString(s)}})}nonempty(a){return this.min(1,a)}}$e.create=(e,a)=>new $e({type:e,minLength:null,maxLength:null,exactLength:null,typeName:D.ZodArray,...re(a)});function Ft(e){if(e instanceof Ne){const a={};for(const s in e.shape){const r=e.shape[s];a[s]=dt.create(Ft(r))}return new Ne({...e._def,shape:()=>a})}else return e instanceof $e?new $e({...e._def,type:Ft(e.element)}):e instanceof dt?dt.create(Ft(e.unwrap())):e instanceof Xt?Xt.create(Ft(e.unwrap())):e instanceof Et?Et.create(e.items.map(a=>Ft(a))):e}class Ne extends oe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const a=this._def.shape(),s=ce.objectKeys(a);return this._cached={shape:a,keys:s},this._cached}_parse(a){if(this._getType(a)!==Q.object){const i=this._getOrReturnCtx(a);return _(i,{code:R.invalid_type,expected:Q.object,received:i.parsedType}),K}const{status:r,ctx:n}=this._processInputParams(a),{shape:d,keys:o}=this._getCached(),c=[];if(!(this._def.catchall instanceof pt&&this._def.unknownKeys==="strip"))for(const i in n.data)o.includes(i)||c.push(i);const l=[];for(const i of o){const u=d[i],m=n.data[i];l.push({key:{status:"valid",value:i},value:u._parse(new Pe(n,m,n.path,i)),alwaysSet:i in n.data})}if(this._def.catchall instanceof pt){const i=this._def.unknownKeys;if(i==="passthrough")for(const u of c)l.push({key:{status:"valid",value:u},value:{status:"valid",value:n.data[u]}});else if(i==="strict")c.length>0&&(_(n,{code:R.unrecognized_keys,keys:c}),r.dirty());else if(i!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const i=this._def.catchall;for(const u of c){const m=n.data[u];l.push({key:{status:"valid",value:u},value:i._parse(new Pe(n,m,n.path,u)),alwaysSet:u in n.data})}}return n.common.async?Promise.resolve().then(async()=>{const i=[];for(const u of l){const m=await u.key,N=await u.value;i.push({key:m,value:N,alwaysSet:u.alwaysSet})}return i}).then(i=>We.mergeObjectSync(r,i)):We.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(a){return G.errToObj,new Ne({...this._def,unknownKeys:"strict",...a!==void 0?{errorMap:(s,r)=>{const n=this._def.errorMap?.(s,r).message??r.defaultError;return s.code==="unrecognized_keys"?{message:G.errToObj(a).message??n}:{message:n}}}:{}})}strip(){return new Ne({...this._def,unknownKeys:"strip"})}passthrough(){return new Ne({...this._def,unknownKeys:"passthrough"})}extend(a){return new Ne({...this._def,shape:()=>({...this._def.shape(),...a})})}merge(a){return new Ne({unknownKeys:a._def.unknownKeys,catchall:a._def.catchall,shape:()=>({...this._def.shape(),...a._def.shape()}),typeName:D.ZodObject})}setKey(a,s){return this.augment({[a]:s})}catchall(a){return new Ne({...this._def,catchall:a})}pick(a){const s={};for(const r of ce.objectKeys(a))a[r]&&this.shape[r]&&(s[r]=this.shape[r]);return new Ne({...this._def,shape:()=>s})}omit(a){const s={};for(const r of ce.objectKeys(this.shape))a[r]||(s[r]=this.shape[r]);return new Ne({...this._def,shape:()=>s})}deepPartial(){return Ft(this)}partial(a){const s={};for(const r of ce.objectKeys(this.shape)){const n=this.shape[r];a&&!a[r]?s[r]=n:s[r]=n.optional()}return new Ne({...this._def,shape:()=>s})}required(a){const s={};for(const r of ce.objectKeys(this.shape))if(a&&!a[r])s[r]=this.shape[r];else{let d=this.shape[r];for(;d instanceof dt;)d=d._def.innerType;s[r]=d}return new Ne({...this._def,shape:()=>s})}keyof(){return fd(ce.objectKeys(this.shape))}}Ne.create=(e,a)=>new Ne({shape:()=>e,unknownKeys:"strip",catchall:pt.create(),typeName:D.ZodObject,...re(a)});Ne.strictCreate=(e,a)=>new Ne({shape:()=>e,unknownKeys:"strict",catchall:pt.create(),typeName:D.ZodObject,...re(a)});Ne.lazycreate=(e,a)=>new Ne({shape:e,unknownKeys:"strip",catchall:pt.create(),typeName:D.ZodObject,...re(a)});class _a extends oe{_parse(a){const{ctx:s}=this._processInputParams(a),r=this._def.options;function n(d){for(const c of d)if(c.result.status==="valid")return c.result;for(const c of d)if(c.result.status==="dirty")return s.common.issues.push(...c.ctx.common.issues),c.result;const o=d.map(c=>new ot(c.ctx.common.issues));return _(s,{code:R.invalid_union,unionErrors:o}),K}if(s.common.async)return Promise.all(r.map(async d=>{const o={...s,common:{...s.common,issues:[]},parent:null};return{result:await d._parseAsync({data:s.data,path:s.path,parent:o}),ctx:o}})).then(n);{let d;const o=[];for(const l of r){const i={...s,common:{...s.common,issues:[]},parent:null},u=l._parseSync({data:s.data,path:s.path,parent:i});if(u.status==="valid")return u;u.status==="dirty"&&!d&&(d={result:u,ctx:i}),i.common.issues.length&&o.push(i.common.issues)}if(d)return s.common.issues.push(...d.ctx.common.issues),d.result;const c=o.map(l=>new ot(l));return _(s,{code:R.invalid_union,unionErrors:c}),K}}get options(){return this._def.options}}_a.create=(e,a)=>new _a({options:e,typeName:D.ZodUnion,...re(a)});const st=e=>e instanceof Ia?st(e.schema):e instanceof Vt?st(e.innerType()):e instanceof Ga?[e.value]:e instanceof Ht?e.options:e instanceof Os?ce.objectValues(e.enum):e instanceof Ca?st(e._def.innerType):e instanceof Zs?[void 0]:e instanceof Sa?[null]:e instanceof dt?[void 0,...st(e.unwrap())]:e instanceof Xt?[null,...st(e.unwrap())]:e instanceof Md||e instanceof za?st(e.unwrap()):e instanceof Ya?st(e._def.innerType):[];class nr extends oe{_parse(a){const{ctx:s}=this._processInputParams(a);if(s.parsedType!==Q.object)return _(s,{code:R.invalid_type,expected:Q.object,received:s.parsedType}),K;const r=this.discriminator,n=s.data[r],d=this.optionsMap.get(n);return d?s.common.async?d._parseAsync({data:s.data,path:s.path,parent:s}):d._parseSync({data:s.data,path:s.path,parent:s}):(_(s,{code:R.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),K)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(a,s,r){const n=new Map;for(const d of s){const o=st(d.shape[a]);if(!o.length)throw new Error(`A discriminator value for key \`${a}\` could not be extracted from all schema options`);for(const c of o){if(n.has(c))throw new Error(`Discriminator property ${String(a)} has duplicate value ${String(c)}`);n.set(c,d)}}return new nr({typeName:D.ZodDiscriminatedUnion,discriminator:a,options:s,optionsMap:n,...re(r)})}}function _s(e,a){const s=vt(e),r=vt(a);if(e===a)return{valid:!0,data:e};if(s===Q.object&&r===Q.object){const n=ce.objectKeys(a),d=ce.objectKeys(e).filter(c=>n.indexOf(c)!==-1),o={...e,...a};for(const c of d){const l=_s(e[c],a[c]);if(!l.valid)return{valid:!1};o[c]=l.data}return{valid:!0,data:o}}else if(s===Q.array&&r===Q.array){if(e.length!==a.length)return{valid:!1};const n=[];for(let d=0;d<e.length;d++){const o=e[d],c=a[d],l=_s(o,c);if(!l.valid)return{valid:!1};n.push(l.data)}return{valid:!0,data:n}}else return s===Q.date&&r===Q.date&&+e==+a?{valid:!0,data:e}:{valid:!1}}class Oa extends oe{_parse(a){const{status:s,ctx:r}=this._processInputParams(a),n=(d,o)=>{if(Kr(d)||Kr(o))return K;const c=_s(d.value,o.value);return c.valid?((en(d)||en(o))&&s.dirty(),{status:s.value,value:c.data}):(_(r,{code:R.invalid_intersection_types}),K)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([d,o])=>n(d,o)):n(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Oa.create=(e,a,s)=>new Oa({left:e,right:a,typeName:D.ZodIntersection,...re(s)});class Et extends oe{_parse(a){const{status:s,ctx:r}=this._processInputParams(a);if(r.parsedType!==Q.array)return _(r,{code:R.invalid_type,expected:Q.array,received:r.parsedType}),K;if(r.data.length<this._def.items.length)return _(r,{code:R.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),K;!this._def.rest&&r.data.length>this._def.items.length&&(_(r,{code:R.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),s.dirty());const d=[...r.data].map((o,c)=>{const l=this._def.items[c]||this._def.rest;return l?l._parse(new Pe(r,o,r.path,c)):null}).filter(o=>!!o);return r.common.async?Promise.all(d).then(o=>We.mergeArray(s,o)):We.mergeArray(s,d)}get items(){return this._def.items}rest(a){return new Et({...this._def,rest:a})}}Et.create=(e,a)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Et({items:e,typeName:D.ZodTuple,rest:null,...re(a)})};class Qa extends oe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(a){const{status:s,ctx:r}=this._processInputParams(a);if(r.parsedType!==Q.object)return _(r,{code:R.invalid_type,expected:Q.object,received:r.parsedType}),K;const n=[],d=this._def.keyType,o=this._def.valueType;for(const c in r.data)n.push({key:d._parse(new Pe(r,c,r.path,c)),value:o._parse(new Pe(r,r.data[c],r.path,c)),alwaysSet:c in r.data});return r.common.async?We.mergeObjectAsync(s,n):We.mergeObjectSync(s,n)}get element(){return this._def.valueType}static create(a,s,r){return s instanceof oe?new Qa({keyType:a,valueType:s,typeName:D.ZodRecord,...re(r)}):new Qa({keyType:nt.create(),valueType:a,typeName:D.ZodRecord,...re(s)})}}class rn extends oe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(a){const{status:s,ctx:r}=this._processInputParams(a);if(r.parsedType!==Q.map)return _(r,{code:R.invalid_type,expected:Q.map,received:r.parsedType}),K;const n=this._def.keyType,d=this._def.valueType,o=[...r.data.entries()].map(([c,l],i)=>({key:n._parse(new Pe(r,c,r.path,[i,"key"])),value:d._parse(new Pe(r,l,r.path,[i,"value"]))}));if(r.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const l of o){const i=await l.key,u=await l.value;if(i.status==="aborted"||u.status==="aborted")return K;(i.status==="dirty"||u.status==="dirty")&&s.dirty(),c.set(i.value,u.value)}return{status:s.value,value:c}})}else{const c=new Map;for(const l of o){const i=l.key,u=l.value;if(i.status==="aborted"||u.status==="aborted")return K;(i.status==="dirty"||u.status==="dirty")&&s.dirty(),c.set(i.value,u.value)}return{status:s.value,value:c}}}}rn.create=(e,a,s)=>new rn({valueType:a,keyType:e,typeName:D.ZodMap,...re(s)});class la extends oe{_parse(a){const{status:s,ctx:r}=this._processInputParams(a);if(r.parsedType!==Q.set)return _(r,{code:R.invalid_type,expected:Q.set,received:r.parsedType}),K;const n=this._def;n.minSize!==null&&r.data.size<n.minSize.value&&(_(r,{code:R.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),s.dirty()),n.maxSize!==null&&r.data.size>n.maxSize.value&&(_(r,{code:R.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),s.dirty());const d=this._def.valueType;function o(l){const i=new Set;for(const u of l){if(u.status==="aborted")return K;u.status==="dirty"&&s.dirty(),i.add(u.value)}return{status:s.value,value:i}}const c=[...r.data.values()].map((l,i)=>d._parse(new Pe(r,l,r.path,i)));return r.common.async?Promise.all(c).then(l=>o(l)):o(c)}min(a,s){return new la({...this._def,minSize:{value:a,message:G.toString(s)}})}max(a,s){return new la({...this._def,maxSize:{value:a,message:G.toString(s)}})}size(a,s){return this.min(a,s).max(a,s)}nonempty(a){return this.min(1,a)}}la.create=(e,a)=>new la({valueType:e,minSize:null,maxSize:null,typeName:D.ZodSet,...re(a)});class Ia extends oe{get schema(){return this._def.getter()}_parse(a){const{ctx:s}=this._processInputParams(a);return this._def.getter()._parse({data:s.data,path:s.path,parent:s})}}Ia.create=(e,a)=>new Ia({getter:e,typeName:D.ZodLazy,...re(a)});class Ga extends oe{_parse(a){if(a.data!==this._def.value){const s=this._getOrReturnCtx(a);return _(s,{received:s.data,code:R.invalid_literal,expected:this._def.value}),K}return{status:"valid",value:a.data}}get value(){return this._def.value}}Ga.create=(e,a)=>new Ga({value:e,typeName:D.ZodLiteral,...re(a)});function fd(e,a){return new Ht({values:e,typeName:D.ZodEnum,...re(a)})}class Ht extends oe{_parse(a){if(typeof a.data!="string"){const s=this._getOrReturnCtx(a),r=this._def.values;return _(s,{expected:ce.joinValues(r),received:s.parsedType,code:R.invalid_type}),K}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(a.data)){const s=this._getOrReturnCtx(a),r=this._def.values;return _(s,{received:s.data,code:R.invalid_enum_value,options:r}),K}return Oe(a.data)}get options(){return this._def.values}get enum(){const a={};for(const s of this._def.values)a[s]=s;return a}get Values(){const a={};for(const s of this._def.values)a[s]=s;return a}get Enum(){const a={};for(const s of this._def.values)a[s]=s;return a}extract(a,s=this._def){return Ht.create(a,{...this._def,...s})}exclude(a,s=this._def){return Ht.create(this.options.filter(r=>!a.includes(r)),{...this._def,...s})}}Ht.create=fd;class Os extends oe{_parse(a){const s=ce.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(a);if(r.parsedType!==Q.string&&r.parsedType!==Q.number){const n=ce.objectValues(s);return _(r,{expected:ce.joinValues(n),received:r.parsedType,code:R.invalid_type}),K}if(this._cache||(this._cache=new Set(ce.getValidEnumValues(this._def.values))),!this._cache.has(a.data)){const n=ce.objectValues(s);return _(r,{received:r.data,code:R.invalid_enum_value,options:n}),K}return Oe(a.data)}get enum(){return this._def.values}}Os.create=(e,a)=>new Os({values:e,typeName:D.ZodNativeEnum,...re(a)});class Ua extends oe{unwrap(){return this._def.type}_parse(a){const{ctx:s}=this._processInputParams(a);if(s.parsedType!==Q.promise&&s.common.async===!1)return _(s,{code:R.invalid_type,expected:Q.promise,received:s.parsedType}),K;const r=s.parsedType===Q.promise?s.data:Promise.resolve(s.data);return Oe(r.then(n=>this._def.type.parseAsync(n,{path:s.path,errorMap:s.common.contextualErrorMap})))}}Ua.create=(e,a)=>new Ua({type:e,typeName:D.ZodPromise,...re(a)});class Vt extends oe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===D.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(a){const{status:s,ctx:r}=this._processInputParams(a),n=this._def.effect||null,d={addIssue:o=>{_(r,o),o.fatal?s.abort():s.dirty()},get path(){return r.path}};if(d.addIssue=d.addIssue.bind(d),n.type==="preprocess"){const o=n.transform(r.data,d);if(r.common.async)return Promise.resolve(o).then(async c=>{if(s.value==="aborted")return K;const l=await this._def.schema._parseAsync({data:c,path:r.path,parent:r});return l.status==="aborted"?K:l.status==="dirty"||s.value==="dirty"?ra(l.value):l});{if(s.value==="aborted")return K;const c=this._def.schema._parseSync({data:o,path:r.path,parent:r});return c.status==="aborted"?K:c.status==="dirty"||s.value==="dirty"?ra(c.value):c}}if(n.type==="refinement"){const o=c=>{const l=n.refinement(c,d);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(r.common.async===!1){const c=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return c.status==="aborted"?K:(c.status==="dirty"&&s.dirty(),o(c.value),{status:s.value,value:c.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(c=>c.status==="aborted"?K:(c.status==="dirty"&&s.dirty(),o(c.value).then(()=>({status:s.value,value:c.value}))))}if(n.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Gt(o))return K;const c=n.transform(o.value,d);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:s.value,value:c}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Gt(o)?Promise.resolve(n.transform(o.value,d)).then(c=>({status:s.value,value:c})):K);ce.assertNever(n)}}Vt.create=(e,a,s)=>new Vt({schema:e,typeName:D.ZodEffects,effect:a,...re(s)});Vt.createWithPreprocess=(e,a,s)=>new Vt({schema:a,effect:{type:"preprocess",transform:e},typeName:D.ZodEffects,...re(s)});class dt extends oe{_parse(a){return this._getType(a)===Q.undefined?Oe(void 0):this._def.innerType._parse(a)}unwrap(){return this._def.innerType}}dt.create=(e,a)=>new dt({innerType:e,typeName:D.ZodOptional,...re(a)});class Xt extends oe{_parse(a){return this._getType(a)===Q.null?Oe(null):this._def.innerType._parse(a)}unwrap(){return this._def.innerType}}Xt.create=(e,a)=>new Xt({innerType:e,typeName:D.ZodNullable,...re(a)});class Ca extends oe{_parse(a){const{ctx:s}=this._processInputParams(a);let r=s.data;return s.parsedType===Q.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:s.path,parent:s})}removeDefault(){return this._def.innerType}}Ca.create=(e,a)=>new Ca({innerType:e,typeName:D.ZodDefault,defaultValue:typeof a.default=="function"?a.default:()=>a.default,...re(a)});class Ya extends oe{_parse(a){const{ctx:s}=this._processInputParams(a),r={...s,common:{...s.common,issues:[]}},n=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Fa(n)?n.then(d=>({status:"valid",value:d.status==="valid"?d.value:this._def.catchValue({get error(){return new ot(r.common.issues)},input:r.data})})):{status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new ot(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Ya.create=(e,a)=>new Ya({innerType:e,typeName:D.ZodCatch,catchValue:typeof a.catch=="function"?a.catch:()=>a.catch,...re(a)});class nn extends oe{_parse(a){if(this._getType(a)!==Q.nan){const r=this._getOrReturnCtx(a);return _(r,{code:R.invalid_type,expected:Q.nan,received:r.parsedType}),K}return{status:"valid",value:a.data}}}nn.create=e=>new nn({typeName:D.ZodNaN,...re(e)});class Md extends oe{_parse(a){const{ctx:s}=this._processInputParams(a),r=s.data;return this._def.type._parse({data:r,path:s.path,parent:s})}unwrap(){return this._def.type}}class dr extends oe{_parse(a){const{status:s,ctx:r}=this._processInputParams(a);if(r.common.async)return(async()=>{const d=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return d.status==="aborted"?K:d.status==="dirty"?(s.dirty(),ra(d.value)):this._def.out._parseAsync({data:d.value,path:r.path,parent:r})})();{const n=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return n.status==="aborted"?K:n.status==="dirty"?(s.dirty(),{status:"dirty",value:n.value}):this._def.out._parseSync({data:n.value,path:r.path,parent:r})}}static create(a,s){return new dr({in:a,out:s,typeName:D.ZodPipeline})}}class za extends oe{_parse(a){const s=this._def.innerType._parse(a),r=n=>(Gt(n)&&(n.value=Object.freeze(n.value)),n);return Fa(s)?s.then(n=>r(n)):r(s)}unwrap(){return this._def.innerType}}za.create=(e,a)=>new za({innerType:e,typeName:D.ZodReadonly,...re(a)});function dn(e,a){const s=typeof e=="function"?e(a):typeof e=="string"?{message:e}:e;return typeof s=="string"?{message:s}:s}function Ed(e,a={},s){return e?ca.create().superRefine((r,n)=>{const d=e(r);if(d instanceof Promise)return d.then(o=>{if(!o){const c=dn(a,r),l=c.fatal??s??!0;n.addIssue({code:"custom",...c,fatal:l})}});if(!d){const o=dn(a,r),c=o.fatal??s??!0;n.addIssue({code:"custom",...o,fatal:c})}}):ca.create()}var D;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(D||(D={}));const $a=(e,a={message:`Input not instance of ${e.name}`})=>Ed(s=>s instanceof e,a),E=nt.create,z=Ut.create,ze=Fs.create,Cl=Sa.create,Hd=ca.create,os=Ss.create;pt.create;const ie=$e.create,H=Ne.create,xe=_a.create,or=nr.create;Oa.create;Et.create;const ua=Qa.create,Yl=Ia.create,te=Ga.create,ir=Ht.create;Ua.create;const fe=dt.create;Xt.create;function ke(e){if(e.target!=="openAi")return{};const a=[...e.basePath,e.definitionPath,e.openAiAnyTypeName];return e.flags.hasReferencedOpenAiAnyType=!0,{$ref:e.$refStrategy==="relative"?jd(a,e.currentPath):a.join("/")}}function zl(e,a){const s={type:"array"};return e.type?._def&&e.type?._def?.typeName!==D.ZodAny&&(s.items=me(e.type._def,{...a,currentPath:[...a.currentPath,"items"]})),e.minLength&&ye(s,"minItems",e.minLength.value,e.minLength.message,a),e.maxLength&&ye(s,"maxItems",e.maxLength.value,e.maxLength.message,a),e.exactLength&&(ye(s,"minItems",e.exactLength.value,e.exactLength.message,a),ye(s,"maxItems",e.exactLength.value,e.exactLength.message,a)),s}function $l(e,a){const s={type:"integer",format:"int64"};if(!e.checks)return s;for(const r of e.checks)switch(r.kind){case"min":a.target==="jsonSchema7"?r.inclusive?ye(s,"minimum",r.value,r.message,a):ye(s,"exclusiveMinimum",r.value,r.message,a):(r.inclusive||(s.exclusiveMinimum=!0),ye(s,"minimum",r.value,r.message,a));break;case"max":a.target==="jsonSchema7"?r.inclusive?ye(s,"maximum",r.value,r.message,a):ye(s,"exclusiveMaximum",r.value,r.message,a):(r.inclusive||(s.exclusiveMaximum=!0),ye(s,"maximum",r.value,r.message,a));break;case"multipleOf":ye(s,"multipleOf",r.value,r.message,a);break}return s}function Pl(){return{type:"boolean"}}function Vd(e,a){return me(e.type._def,a)}const ql=(e,a)=>me(e.innerType._def,a);function Xd(e,a,s){const r=s??a.dateStrategy;if(Array.isArray(r))return{anyOf:r.map((n,d)=>Xd(e,a,n))};switch(r){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return Kl(e,a)}}const Kl=(e,a)=>{const s={type:"integer",format:"unix-time"};if(a.target==="openApi3")return s;for(const r of e.checks)switch(r.kind){case"min":ye(s,"minimum",r.value,r.message,a);break;case"max":ye(s,"maximum",r.value,r.message,a);break}return s};function eu(e,a){return{...me(e.innerType._def,a),default:e.defaultValue()}}function tu(e,a){return a.effectStrategy==="input"?me(e.schema._def,a):ke(a)}function au(e){return{type:"string",enum:Array.from(e.values)}}const su=e=>"type"in e&&e.type==="string"?!1:"allOf"in e;function ru(e,a){const s=[me(e.left._def,{...a,currentPath:[...a.currentPath,"allOf","0"]}),me(e.right._def,{...a,currentPath:[...a.currentPath,"allOf","1"]})].filter(d=>!!d);let r=a.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0;const n=[];return s.forEach(d=>{if(su(d))n.push(...d.allOf),d.unevaluatedProperties===void 0&&(r=void 0);else{let o=d;if("additionalProperties"in d&&d.additionalProperties===!1){const{additionalProperties:c,...l}=d;o=l}else r=void 0;n.push(o)}}),n.length?{allOf:n,...r}:void 0}function nu(e,a){const s=typeof e.value;return s!=="bigint"&&s!=="number"&&s!=="boolean"&&s!=="string"?{type:Array.isArray(e.value)?"array":"object"}:a.target==="openApi3"?{type:s==="bigint"?"integer":s,enum:[e.value]}:{type:s==="bigint"?"integer":s,const:e.value}}let ws;const Qe={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(ws===void 0&&(ws=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),ws),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function Ld(e,a){const s={type:"string"};if(e.checks)for(const r of e.checks)switch(r.kind){case"min":ye(s,"minLength",typeof s.minLength=="number"?Math.max(s.minLength,r.value):r.value,r.message,a);break;case"max":ye(s,"maxLength",typeof s.maxLength=="number"?Math.min(s.maxLength,r.value):r.value,r.message,a);break;case"email":switch(a.emailStrategy){case"format:email":Ie(s,"email",r.message,a);break;case"format:idn-email":Ie(s,"idn-email",r.message,a);break;case"pattern:zod":Be(s,Qe.email,r.message,a);break}break;case"url":Ie(s,"uri",r.message,a);break;case"uuid":Ie(s,"uuid",r.message,a);break;case"regex":Be(s,r.regex,r.message,a);break;case"cuid":Be(s,Qe.cuid,r.message,a);break;case"cuid2":Be(s,Qe.cuid2,r.message,a);break;case"startsWith":Be(s,RegExp(`^${Ns(r.value,a)}`),r.message,a);break;case"endsWith":Be(s,RegExp(`${Ns(r.value,a)}$`),r.message,a);break;case"datetime":Ie(s,"date-time",r.message,a);break;case"date":Ie(s,"date",r.message,a);break;case"time":Ie(s,"time",r.message,a);break;case"duration":Ie(s,"duration",r.message,a);break;case"length":ye(s,"minLength",typeof s.minLength=="number"?Math.max(s.minLength,r.value):r.value,r.message,a),ye(s,"maxLength",typeof s.maxLength=="number"?Math.min(s.maxLength,r.value):r.value,r.message,a);break;case"includes":{Be(s,RegExp(Ns(r.value,a)),r.message,a);break}case"ip":{r.version!=="v6"&&Ie(s,"ipv4",r.message,a),r.version!=="v4"&&Ie(s,"ipv6",r.message,a);break}case"base64url":Be(s,Qe.base64url,r.message,a);break;case"jwt":Be(s,Qe.jwt,r.message,a);break;case"cidr":{r.version!=="v6"&&Be(s,Qe.ipv4Cidr,r.message,a),r.version!=="v4"&&Be(s,Qe.ipv6Cidr,r.message,a);break}case"emoji":Be(s,Qe.emoji(),r.message,a);break;case"ulid":{Be(s,Qe.ulid,r.message,a);break}case"base64":{switch(a.base64Strategy){case"format:binary":{Ie(s,"binary",r.message,a);break}case"contentEncoding:base64":{ye(s,"contentEncoding","base64",r.message,a);break}case"pattern:zod":{Be(s,Qe.base64,r.message,a);break}}break}case"nanoid":Be(s,Qe.nanoid,r.message,a)}return s}function Ns(e,a){return a.patternStrategy==="escape"?ou(e):e}const du=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function ou(e){let a="";for(let s=0;s<e.length;s++)du.has(e[s])||(a+="\\"),a+=e[s];return a}function Ie(e,a,s,r){e.format||e.anyOf?.some(n=>n.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format,...e.errorMessage&&r.errorMessages&&{errorMessage:{format:e.errorMessage.format}}}),delete e.format,e.errorMessage&&(delete e.errorMessage.format,Object.keys(e.errorMessage).length===0&&delete e.errorMessage)),e.anyOf.push({format:a,...s&&r.errorMessages&&{errorMessage:{format:s}}})):ye(e,"format",a,s,r)}function Be(e,a,s,r){e.pattern||e.allOf?.some(n=>n.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern,...e.errorMessage&&r.errorMessages&&{errorMessage:{pattern:e.errorMessage.pattern}}}),delete e.pattern,e.errorMessage&&(delete e.errorMessage.pattern,Object.keys(e.errorMessage).length===0&&delete e.errorMessage)),e.allOf.push({pattern:on(a,r),...s&&r.errorMessages&&{errorMessage:{pattern:s}}})):ye(e,"pattern",on(a,r),s,r)}function on(e,a){if(!a.applyRegexFlags||!e.flags)return e.source;const s={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},r=s.i?e.source.toLowerCase():e.source;let n="",d=!1,o=!1,c=!1;for(let l=0;l<r.length;l++){if(d){n+=r[l],d=!1;continue}if(s.i){if(o){if(r[l].match(/[a-z]/)){c?(n+=r[l],n+=`${r[l-2]}-${r[l]}`.toUpperCase(),c=!1):r[l+1]==="-"&&r[l+2]?.match(/[a-z]/)?(n+=r[l],c=!0):n+=`${r[l]}${r[l].toUpperCase()}`;continue}}else if(r[l].match(/[a-z]/)){n+=`[${r[l]}${r[l].toUpperCase()}]`;continue}}if(s.m){if(r[l]==="^"){n+=`(^|(?<=[\r
]))`;continue}else if(r[l]==="$"){n+=`($|(?=[\r
]))`;continue}}if(s.s&&r[l]==="."){n+=o?`${r[l]}\r
`:`[${r[l]}\r
]`;continue}n+=r[l],r[l]==="\\"?d=!0:o&&r[l]==="]"?o=!1:!o&&r[l]==="["&&(o=!0)}try{new RegExp(n)}catch{return console.warn(`Could not convert regex pattern at ${a.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return n}function Jd(e,a){if(a.target==="openAi"&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),a.target==="openApi3"&&e.keyType?._def.typeName===D.ZodEnum)return{type:"object",required:e.keyType._def.values,properties:e.keyType._def.values.reduce((r,n)=>({...r,[n]:me(e.valueType._def,{...a,currentPath:[...a.currentPath,"properties",n]})??ke(a)}),{}),additionalProperties:a.rejectedAdditionalProperties};const s={type:"object",additionalProperties:me(e.valueType._def,{...a,currentPath:[...a.currentPath,"additionalProperties"]})??a.allowedAdditionalProperties};if(a.target==="openApi3")return s;if(e.keyType?._def.typeName===D.ZodString&&e.keyType._def.checks?.length){const{type:r,...n}=Ld(e.keyType._def,a);return{...s,propertyNames:n}}else{if(e.keyType?._def.typeName===D.ZodEnum)return{...s,propertyNames:{enum:e.keyType._def.values}};if(e.keyType?._def.typeName===D.ZodBranded&&e.keyType._def.type._def.typeName===D.ZodString&&e.keyType._def.type._def.checks?.length){const{type:r,...n}=Vd(e.keyType._def,a);return{...s,propertyNames:n}}}return s}function iu(e,a){if(a.mapStrategy==="record")return Jd(e,a);const s=me(e.keyType._def,{...a,currentPath:[...a.currentPath,"items","items","0"]})||ke(a),r=me(e.valueType._def,{...a,currentPath:[...a.currentPath,"items","items","1"]})||ke(a);return{type:"array",maxItems:125,items:{type:"array",items:[s,r],minItems:2,maxItems:2}}}function cu(e){const a=e.values,r=Object.keys(e.values).filter(d=>typeof a[a[d]]!="number").map(d=>a[d]),n=Array.from(new Set(r.map(d=>typeof d)));return{type:n.length===1?n[0]==="string"?"string":"number":["string","number"],enum:r}}function lu(e){return e.target==="openAi"?void 0:{not:ke({...e,currentPath:[...e.currentPath,"not"]})}}function uu(e){return e.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}const Pa={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function mu(e,a){if(a.target==="openApi3")return cn(e,a);const s=e.options instanceof Map?Array.from(e.options.values()):e.options;if(s.every(r=>r._def.typeName in Pa&&(!r._def.checks||!r._def.checks.length))){const r=s.reduce((n,d)=>{const o=Pa[d._def.typeName];return o&&!n.includes(o)?[...n,o]:n},[]);return{type:r.length>1?r:r[0]}}else if(s.every(r=>r._def.typeName==="ZodLiteral"&&!r.description)){const r=s.reduce((n,d)=>{const o=typeof d._def.value;switch(o){case"string":case"number":case"boolean":return[...n,o];case"bigint":return[...n,"integer"];case"object":if(d._def.value===null)return[...n,"null"];case"symbol":case"undefined":case"function":default:return n}},[]);if(r.length===s.length){const n=r.filter((d,o,c)=>c.indexOf(d)===o);return{type:n.length>1?n:n[0],enum:s.reduce((d,o)=>d.includes(o._def.value)?d:[...d,o._def.value],[])}}}else if(s.every(r=>r._def.typeName==="ZodEnum"))return{type:"string",enum:s.reduce((r,n)=>[...r,...n._def.values.filter(d=>!r.includes(d))],[])};return cn(e,a)}const cn=(e,a)=>{const s=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((r,n)=>me(r._def,{...a,currentPath:[...a.currentPath,"anyOf",`${n}`]})).filter(r=>!!r&&(!a.strictUnions||typeof r=="object"&&Object.keys(r).length>0));return s.length?{anyOf:s}:void 0};function vu(e,a){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return a.target==="openApi3"?{type:Pa[e.innerType._def.typeName],nullable:!0}:{type:[Pa[e.innerType._def.typeName],"null"]};if(a.target==="openApi3"){const r=me(e.innerType._def,{...a,currentPath:[...a.currentPath]});return r&&"$ref"in r?{allOf:[r],nullable:!0}:r&&{...r,nullable:!0}}const s=me(e.innerType._def,{...a,currentPath:[...a.currentPath,"anyOf","0"]});return s&&{anyOf:[s,{type:"null"}]}}function yu(e,a){const s={type:"number"};if(!e.checks)return s;for(const r of e.checks)switch(r.kind){case"int":s.type="integer",Nd(s,"type",r.message,a);break;case"min":a.target==="jsonSchema7"?r.inclusive?ye(s,"minimum",r.value,r.message,a):ye(s,"exclusiveMinimum",r.value,r.message,a):(r.inclusive||(s.exclusiveMinimum=!0),ye(s,"minimum",r.value,r.message,a));break;case"max":a.target==="jsonSchema7"?r.inclusive?ye(s,"maximum",r.value,r.message,a):ye(s,"exclusiveMaximum",r.value,r.message,a):(r.inclusive||(s.exclusiveMaximum=!0),ye(s,"maximum",r.value,r.message,a));break;case"multipleOf":ye(s,"multipleOf",r.value,r.message,a);break}return s}function bu(e,a){const s=a.target==="openAi",r={type:"object",properties:{}},n=[],d=e.shape();for(const c in d){let l=d[c];if(l===void 0||l._def===void 0)continue;let i=hu(l);i&&s&&(l._def.typeName==="ZodOptional"&&(l=l._def.innerType),l.isNullable()||(l=l.nullable()),i=!1);const u=me(l._def,{...a,currentPath:[...a.currentPath,"properties",c],propertyPath:[...a.currentPath,"properties",c]});u!==void 0&&(r.properties[c]=u,i||n.push(c))}n.length&&(r.required=n);const o=pu(e,a);return o!==void 0&&(r.additionalProperties=o),r}function pu(e,a){if(e.catchall._def.typeName!=="ZodNever")return me(e.catchall._def,{...a,currentPath:[...a.currentPath,"additionalProperties"]});switch(e.unknownKeys){case"passthrough":return a.allowedAdditionalProperties;case"strict":return a.rejectedAdditionalProperties;case"strip":return a.removeAdditionalStrategy==="strict"?a.allowedAdditionalProperties:a.rejectedAdditionalProperties}}function hu(e){try{return e.isOptional()}catch{return!0}}const wu=(e,a)=>{if(a.currentPath.toString()===a.propertyPath?.toString())return me(e.innerType._def,a);const s=me(e.innerType._def,{...a,currentPath:[...a.currentPath,"anyOf","1"]});return s?{anyOf:[{not:ke(a)},s]}:ke(a)},Nu=(e,a)=>{if(a.pipeStrategy==="input")return me(e.in._def,a);if(a.pipeStrategy==="output")return me(e.out._def,a);const s=me(e.in._def,{...a,currentPath:[...a.currentPath,"allOf","0"]}),r=me(e.out._def,{...a,currentPath:[...a.currentPath,"allOf",s?"1":"0"]});return{allOf:[s,r].filter(n=>n!==void 0)}};function ju(e,a){return me(e.type._def,a)}function xu(e,a){const r={type:"array",uniqueItems:!0,items:me(e.valueType._def,{...a,currentPath:[...a.currentPath,"items"]})};return e.minSize&&ye(r,"minItems",e.minSize.value,e.minSize.message,a),e.maxSize&&ye(r,"maxItems",e.maxSize.value,e.maxSize.message,a),r}function gu(e,a){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((s,r)=>me(s._def,{...a,currentPath:[...a.currentPath,"items",`${r}`]})).reduce((s,r)=>r===void 0?s:[...s,r],[]),additionalItems:me(e.rest._def,{...a,currentPath:[...a.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((s,r)=>me(s._def,{...a,currentPath:[...a.currentPath,"items",`${r}`]})).reduce((s,r)=>r===void 0?s:[...s,r],[])}}function fu(e){return{not:ke(e)}}function Mu(e){return ke(e)}const Eu=(e,a)=>me(e.innerType._def,a),Hu=(e,a,s)=>{switch(a){case D.ZodString:return Ld(e,s);case D.ZodNumber:return yu(e,s);case D.ZodObject:return bu(e,s);case D.ZodBigInt:return $l(e,s);case D.ZodBoolean:return Pl();case D.ZodDate:return Xd(e,s);case D.ZodUndefined:return fu(s);case D.ZodNull:return uu(s);case D.ZodArray:return zl(e,s);case D.ZodUnion:case D.ZodDiscriminatedUnion:return mu(e,s);case D.ZodIntersection:return ru(e,s);case D.ZodTuple:return gu(e,s);case D.ZodRecord:return Jd(e,s);case D.ZodLiteral:return nu(e,s);case D.ZodEnum:return au(e);case D.ZodNativeEnum:return cu(e);case D.ZodNullable:return vu(e,s);case D.ZodOptional:return wu(e,s);case D.ZodMap:return iu(e,s);case D.ZodSet:return xu(e,s);case D.ZodLazy:return()=>e.getter()._def;case D.ZodPromise:return ju(e,s);case D.ZodNaN:case D.ZodNever:return lu(s);case D.ZodEffects:return tu(e,s);case D.ZodAny:return ke(s);case D.ZodUnknown:return Mu(s);case D.ZodDefault:return eu(e,s);case D.ZodBranded:return Vd(e,s);case D.ZodReadonly:return Eu(e,s);case D.ZodCatch:return ql(e,s);case D.ZodPipeline:return Nu(e,s);case D.ZodFunction:case D.ZodVoid:case D.ZodSymbol:return;default:return(r=>{})()}};function me(e,a,s=!1){const r=a.seen.get(e);if(a.override){const c=a.override?.(e,a,r,s);if(c!==Nl)return c}if(r&&!s){const c=Vu(r,a);if(c!==void 0)return c}const n={def:e,path:a.currentPath,jsonSchema:void 0};a.seen.set(e,n);const d=Hu(e,e.typeName,a),o=typeof d=="function"?me(d(),a):d;if(o&&Xu(e,a,o),a.postProcess){const c=a.postProcess(o,e,a);return n.jsonSchema=o,c}return n.jsonSchema=o,o}const Vu=(e,a)=>{switch(a.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:jd(a.currentPath,e.path)};case"none":case"seen":return e.path.length<a.currentPath.length&&e.path.every((s,r)=>a.currentPath[r]===s)?(console.warn(`Recursive reference detected at ${a.currentPath.join("/")}! Defaulting to any`),ke(a)):a.$refStrategy==="seen"?ke(a):void 0}},Xu=(e,a,s)=>(e.description&&(s.description=e.description,a.markdownDescription&&(s.markdownDescription=e.description)),s),Lu=(e,a)=>{const s=xl(a);let r=typeof a=="object"&&a.definitions?Object.entries(a.definitions).reduce((l,[i,u])=>({...l,[i]:me(u._def,{...s,currentPath:[...s.basePath,s.definitionPath,i]},!0)??ke(s)}),{}):void 0;const n=typeof a=="string"?a:a?.nameStrategy==="title"?void 0:a?.name,d=me(e._def,n===void 0?s:{...s,currentPath:[...s.basePath,s.definitionPath,n]},!1)??ke(s),o=typeof a=="object"&&a.name!==void 0&&a.nameStrategy==="title"?a.name:void 0;o!==void 0&&(d.title=o),s.flags.hasReferencedOpenAiAnyType&&(r||(r={}),r[s.openAiAnyTypeName]||(r[s.openAiAnyTypeName]={type:["string","number","integer","boolean","array","null"],items:{$ref:s.$refStrategy==="relative"?"1":[...s.basePath,s.definitionPath,s.openAiAnyTypeName].join("/")}}));const c=n===void 0?r?{...d,[s.definitionPath]:r}:d:{$ref:[...s.$refStrategy==="relative"?[]:s.basePath,s.definitionPath,n].join("/"),[s.definitionPath]:{...r,[n]:d}};return s.target==="jsonSchema7"?c.$schema="http://json-schema.org/draft-07/schema#":(s.target==="jsonSchema2019-09"||s.target==="openAi")&&(c.$schema="https://json-schema.org/draft/2019-09/schema#"),s.target==="openAi"&&("anyOf"in c||"oneOf"in c||"allOf"in c||"type"in c&&Array.isArray(c.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),c};var ma={code:"0",name:"text",parse:e=>{if(typeof e!="string")throw new Error('"text" parts expect a string value.');return{type:"text",value:e}}},va={code:"3",name:"error",parse:e=>{if(typeof e!="string")throw new Error('"error" parts expect a string value.');return{type:"error",value:e}}},ya={code:"4",name:"assistant_message",parse:e=>{if(e==null||typeof e!="object"||!("id"in e)||!("role"in e)||!("content"in e)||typeof e.id!="string"||typeof e.role!="string"||e.role!=="assistant"||!Array.isArray(e.content)||!e.content.every(a=>a!=null&&typeof a=="object"&&"type"in a&&a.type==="text"&&"text"in a&&a.text!=null&&typeof a.text=="object"&&"value"in a.text&&typeof a.text.value=="string"))throw new Error('"assistant_message" parts expect an object with an "id", "role", and "content" property.');return{type:"assistant_message",value:e}}},ba={code:"5",name:"assistant_control_data",parse:e=>{if(e==null||typeof e!="object"||!("threadId"in e)||!("messageId"in e)||typeof e.threadId!="string"||typeof e.messageId!="string")throw new Error('"assistant_control_data" parts expect an object with a "threadId" and "messageId" property.');return{type:"assistant_control_data",value:{threadId:e.threadId,messageId:e.messageId}}}},pa={code:"6",name:"data_message",parse:e=>{if(e==null||typeof e!="object"||!("role"in e)||!("data"in e)||typeof e.role!="string"||e.role!=="data")throw new Error('"data_message" parts expect an object with a "role" and "data" property.');return{type:"data_message",value:e}}},Ju=[ma,va,ya,ba,pa];ma.code+"",va.code+"",ya.code+"",ba.code+"",pa.code+"";ma.name+"",ma.code,va.name+"",va.code,ya.name+"",ya.code,ba.name+"",ba.code,pa.name+"",pa.code;Ju.map(e=>e.code);function Ru(e){const a=["ROOT"];let s=-1,r=null;function n(l,i,u){switch(l){case'"':{s=i,a.pop(),a.push(u),a.push("INSIDE_STRING");break}case"f":case"t":case"n":{s=i,r=i,a.pop(),a.push(u),a.push("INSIDE_LITERAL");break}case"-":{a.pop(),a.push(u),a.push("INSIDE_NUMBER");break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{s=i,a.pop(),a.push(u),a.push("INSIDE_NUMBER");break}case"{":{s=i,a.pop(),a.push(u),a.push("INSIDE_OBJECT_START");break}case"[":{s=i,a.pop(),a.push(u),a.push("INSIDE_ARRAY_START");break}}}function d(l,i){switch(l){case",":{a.pop(),a.push("INSIDE_OBJECT_AFTER_COMMA");break}case"}":{s=i,a.pop();break}}}function o(l,i){switch(l){case",":{a.pop(),a.push("INSIDE_ARRAY_AFTER_COMMA");break}case"]":{s=i,a.pop();break}}}for(let l=0;l<e.length;l++){const i=e[l];switch(a[a.length-1]){case"ROOT":n(i,l,"FINISH");break;case"INSIDE_OBJECT_START":{switch(i){case'"':{a.pop(),a.push("INSIDE_OBJECT_KEY");break}case"}":{s=l,a.pop();break}}break}case"INSIDE_OBJECT_AFTER_COMMA":{switch(i){case'"':{a.pop(),a.push("INSIDE_OBJECT_KEY");break}}break}case"INSIDE_OBJECT_KEY":{switch(i){case'"':{a.pop(),a.push("INSIDE_OBJECT_AFTER_KEY");break}}break}case"INSIDE_OBJECT_AFTER_KEY":{switch(i){case":":{a.pop(),a.push("INSIDE_OBJECT_BEFORE_VALUE");break}}break}case"INSIDE_OBJECT_BEFORE_VALUE":{n(i,l,"INSIDE_OBJECT_AFTER_VALUE");break}case"INSIDE_OBJECT_AFTER_VALUE":{d(i,l);break}case"INSIDE_STRING":{switch(i){case'"':{a.pop(),s=l;break}case"\\":{a.push("INSIDE_STRING_ESCAPE");break}default:s=l}break}case"INSIDE_ARRAY_START":{switch(i){case"]":{s=l,a.pop();break}default:{s=l,n(i,l,"INSIDE_ARRAY_AFTER_VALUE");break}}break}case"INSIDE_ARRAY_AFTER_VALUE":{switch(i){case",":{a.pop(),a.push("INSIDE_ARRAY_AFTER_COMMA");break}case"]":{s=l,a.pop();break}default:{s=l;break}}break}case"INSIDE_ARRAY_AFTER_COMMA":{n(i,l,"INSIDE_ARRAY_AFTER_VALUE");break}case"INSIDE_STRING_ESCAPE":{a.pop(),s=l;break}case"INSIDE_NUMBER":{switch(i){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{s=l;break}case"e":case"E":case"-":case".":break;case",":{a.pop(),a[a.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&o(i,l),a[a.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&d(i,l);break}case"}":{a.pop(),a[a.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&d(i,l);break}case"]":{a.pop(),a[a.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&o(i,l);break}default:{a.pop();break}}break}case"INSIDE_LITERAL":{const m=e.substring(r,l+1);!"false".startsWith(m)&&!"true".startsWith(m)&&!"null".startsWith(m)?(a.pop(),a[a.length-1]==="INSIDE_OBJECT_AFTER_VALUE"?d(i,l):a[a.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&o(i,l)):s=l;break}}}let c=e.slice(0,s+1);for(let l=a.length-1;l>=0;l--)switch(a[l]){case"INSIDE_STRING":{c+='"';break}case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":{c+="}";break}case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":{c+="]";break}case"INSIDE_LITERAL":{const u=e.substring(r,e.length);"true".startsWith(u)?c+="true".slice(u.length):"false".startsWith(u)?c+="false".slice(u.length):"null".startsWith(u)&&(c+="null".slice(u.length))}}return c}function Du(e){if(e===void 0)return{value:void 0,state:"undefined-input"};let a=ka({text:e});return a.success?{value:a.value,state:"successful-parse"}:(a=ka({text:Ru(e)}),a.success?{value:a.value,state:"repaired-parse"}:{value:void 0,state:"failed-parse"})}var Au={code:"0",name:"text",parse:e=>{if(typeof e!="string")throw new Error('"text" parts expect a string value.');return{type:"text",value:e}}},Bu={code:"2",name:"data",parse:e=>{if(!Array.isArray(e))throw new Error('"data" parts expect an array value.');return{type:"data",value:e}}},Wu={code:"3",name:"error",parse:e=>{if(typeof e!="string")throw new Error('"error" parts expect a string value.');return{type:"error",value:e}}},Tu={code:"8",name:"message_annotations",parse:e=>{if(!Array.isArray(e))throw new Error('"message_annotations" parts expect an array value.');return{type:"message_annotations",value:e}}},ku={code:"9",name:"tool_call",parse:e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("toolName"in e)||typeof e.toolName!="string"||!("args"in e)||typeof e.args!="object")throw new Error('"tool_call" parts expect an object with a "toolCallId", "toolName", and "args" property.');return{type:"tool_call",value:e}}},Fu={code:"a",name:"tool_result",parse:e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("result"in e))throw new Error('"tool_result" parts expect an object with a "toolCallId" and a "result" property.');return{type:"tool_result",value:e}}},Zu={code:"b",name:"tool_call_streaming_start",parse:e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("toolName"in e)||typeof e.toolName!="string")throw new Error('"tool_call_streaming_start" parts expect an object with a "toolCallId" and "toolName" property.');return{type:"tool_call_streaming_start",value:e}}},Su={code:"c",name:"tool_call_delta",parse:e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("argsTextDelta"in e)||typeof e.argsTextDelta!="string")throw new Error('"tool_call_delta" parts expect an object with a "toolCallId" and "argsTextDelta" property.');return{type:"tool_call_delta",value:e}}},_u={code:"d",name:"finish_message",parse:e=>{if(e==null||typeof e!="object"||!("finishReason"in e)||typeof e.finishReason!="string")throw new Error('"finish_message" parts expect an object with a "finishReason" property.');const a={finishReason:e.finishReason};return"usage"in e&&e.usage!=null&&typeof e.usage=="object"&&"promptTokens"in e.usage&&"completionTokens"in e.usage&&(a.usage={promptTokens:typeof e.usage.promptTokens=="number"?e.usage.promptTokens:Number.NaN,completionTokens:typeof e.usage.completionTokens=="number"?e.usage.completionTokens:Number.NaN}),{type:"finish_message",value:a}}},Ou={code:"e",name:"finish_step",parse:e=>{if(e==null||typeof e!="object"||!("finishReason"in e)||typeof e.finishReason!="string")throw new Error('"finish_step" parts expect an object with a "finishReason" property.');const a={finishReason:e.finishReason,isContinued:!1};return"usage"in e&&e.usage!=null&&typeof e.usage=="object"&&"promptTokens"in e.usage&&"completionTokens"in e.usage&&(a.usage={promptTokens:typeof e.usage.promptTokens=="number"?e.usage.promptTokens:Number.NaN,completionTokens:typeof e.usage.completionTokens=="number"?e.usage.completionTokens:Number.NaN}),"isContinued"in e&&typeof e.isContinued=="boolean"&&(a.isContinued=e.isContinued),{type:"finish_step",value:a}}},Qu={code:"f",name:"start_step",parse:e=>{if(e==null||typeof e!="object"||!("messageId"in e)||typeof e.messageId!="string")throw new Error('"start_step" parts expect an object with an "id" property.');return{type:"start_step",value:{messageId:e.messageId}}}},Iu={code:"g",name:"reasoning",parse:e=>{if(typeof e!="string")throw new Error('"reasoning" parts expect a string value.');return{type:"reasoning",value:e}}},Gu={code:"h",name:"source",parse:e=>{if(e==null||typeof e!="object")throw new Error('"source" parts expect a Source object.');return{type:"source",value:e}}},Uu={code:"i",name:"redacted_reasoning",parse:e=>{if(e==null||typeof e!="object"||!("data"in e)||typeof e.data!="string")throw new Error('"redacted_reasoning" parts expect an object with a "data" property.');return{type:"redacted_reasoning",value:{data:e.data}}}},Cu={code:"j",name:"reasoning_signature",parse:e=>{if(e==null||typeof e!="object"||!("signature"in e)||typeof e.signature!="string")throw new Error('"reasoning_signature" parts expect an object with a "signature" property.');return{type:"reasoning_signature",value:{signature:e.signature}}}},Yu={code:"k",name:"file",parse:e=>{if(e==null||typeof e!="object"||!("data"in e)||typeof e.data!="string"||!("mimeType"in e)||typeof e.mimeType!="string")throw new Error('"file" parts expect an object with a "data" and "mimeType" property.');return{type:"file",value:e}}},is=[Au,Bu,Wu,Tu,ku,Fu,Zu,Su,_u,Ou,Qu,Iu,Gu,Uu,Cu,Yu];Object.fromEntries(is.map(e=>[e.code,e]));Object.fromEntries(is.map(e=>[e.name,e.code]));is.map(e=>e.code);function Rd(e,a){const s=is.find(r=>r.name===e);if(!s)throw new Error(`Invalid stream part type: ${e}`);return`${s.code}:${JSON.stringify(a)}
`}function zu(e,a){var s;const r=(s=void 0)!=null?s:!1;return $u(Lu(e,{$refStrategy:r?"root":"none",target:"jsonSchema7"}),{validate:n=>{const d=e.safeParse(n);return d.success?{success:!0,value:d.data}:{success:!1,error:d.error}}})}var Qs=Symbol.for("vercel.ai.schema");function $u(e,{validate:a}={}){return{[Qs]:!0,_type:void 0,[Ta]:!0,jsonSchema:e,validate:a}}function Pu(e){return typeof e=="object"&&e!==null&&Qs in e&&e[Qs]===!0&&"jsonSchema"in e&&"validate"in e}function cs(e){return Pu(e)?e:zu(e)}var qu=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{},gt="1.9.0",ln=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function Ku(e){var a=new Set([e]),s=new Set,r=e.match(ln);if(!r)return function(){return!1};var n={major:+r[1],minor:+r[2],patch:+r[3],prerelease:r[4]};if(n.prerelease!=null)return function(l){return l===e};function d(c){return s.add(c),!1}function o(c){return a.add(c),!0}return function(l){if(a.has(l))return!0;if(s.has(l))return!1;var i=l.match(ln);if(!i)return d(l);var u={major:+i[1],minor:+i[2],patch:+i[3],prerelease:i[4]};return u.prerelease!=null||n.major!==u.major?d(l):n.major===0?n.minor===u.minor&&n.patch<=u.patch?o(l):d(l):n.minor<=u.minor?o(l):d(l)}}var em=Ku(gt),tm=gt.split(".")[0],ha=Symbol.for("opentelemetry.js.api."+tm),wa=qu;function cr(e,a,s,r){var n;r===void 0&&(r=!1);var d=wa[ha]=(n=wa[ha])!==null&&n!==void 0?n:{version:gt};if(!r&&d[e]){var o=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return s.error(o.stack||o.message),!1}if(d.version!==gt){var o=new Error("@opentelemetry/api: Registration of version v"+d.version+" for "+e+" does not match previously registered API v"+gt);return s.error(o.stack||o.message),!1}return d[e]=a,s.debug("@opentelemetry/api: Registered a global for "+e+" v"+gt+"."),!0}function Na(e){var a,s,r=(a=wa[ha])===null||a===void 0?void 0:a.version;if(!(!r||!em(r)))return(s=wa[ha])===null||s===void 0?void 0:s[e]}function lr(e,a){a.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+gt+".");var s=wa[ha];s&&delete s[e]}var am=function(e,a){var s=typeof Symbol=="function"&&e[Symbol.iterator];if(!s)return e;var r=s.call(e),n,d=[],o;try{for(;(a===void 0||a-- >0)&&!(n=r.next()).done;)d.push(n.value)}catch(c){o={error:c}}finally{try{n&&!n.done&&(s=r.return)&&s.call(r)}finally{if(o)throw o.error}}return d},sm=function(e,a,s){if(s||arguments.length===2)for(var r=0,n=a.length,d;r<n;r++)(d||!(r in a))&&(d||(d=Array.prototype.slice.call(a,0,r)),d[r]=a[r]);return e.concat(d||Array.prototype.slice.call(a))},rm=function(){function e(a){this._namespace=a.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return aa("debug",this._namespace,a)},e.prototype.error=function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return aa("error",this._namespace,a)},e.prototype.info=function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return aa("info",this._namespace,a)},e.prototype.warn=function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return aa("warn",this._namespace,a)},e.prototype.verbose=function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return aa("verbose",this._namespace,a)},e}();function aa(e,a,s){var r=Na("diag");if(r)return s.unshift(a),r[e].apply(r,sm([],am(s),!1))}var Fe;(function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"})(Fe||(Fe={}));function nm(e,a){e<Fe.NONE?e=Fe.NONE:e>Fe.ALL&&(e=Fe.ALL),a=a||{};function s(r,n){var d=a[r];return typeof d=="function"&&e>=n?d.bind(a):function(){}}return{error:s("error",Fe.ERROR),warn:s("warn",Fe.WARN),info:s("info",Fe.INFO),debug:s("debug",Fe.DEBUG),verbose:s("verbose",Fe.VERBOSE)}}var dm=function(e,a){var s=typeof Symbol=="function"&&e[Symbol.iterator];if(!s)return e;var r=s.call(e),n,d=[],o;try{for(;(a===void 0||a-- >0)&&!(n=r.next()).done;)d.push(n.value)}catch(c){o={error:c}}finally{try{n&&!n.done&&(s=r.return)&&s.call(r)}finally{if(o)throw o.error}}return d},om=function(e,a,s){if(s||arguments.length===2)for(var r=0,n=a.length,d;r<n;r++)(d||!(r in a))&&(d||(d=Array.prototype.slice.call(a,0,r)),d[r]=a[r]);return e.concat(d||Array.prototype.slice.call(a))},im="diag",qa=function(){function e(){function a(n){return function(){for(var d=[],o=0;o<arguments.length;o++)d[o]=arguments[o];var c=Na("diag");if(c)return c[n].apply(c,om([],dm(d),!1))}}var s=this,r=function(n,d){var o,c,l;if(d===void 0&&(d={logLevel:Fe.INFO}),n===s){var i=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return s.error((o=i.stack)!==null&&o!==void 0?o:i.message),!1}typeof d=="number"&&(d={logLevel:d});var u=Na("diag"),m=nm((c=d.logLevel)!==null&&c!==void 0?c:Fe.INFO,n);if(u&&!d.suppressOverrideMessage){var N=(l=new Error().stack)!==null&&l!==void 0?l:"<failed to generate stacktrace>";u.warn("Current logger will be overwritten from "+N),m.warn("Current logger will overwrite one already registered from "+N)}return cr("diag",m,s,!0)};s.setLogger=r,s.disable=function(){lr(im,s)},s.createComponentLogger=function(n){return new rm(n)},s.verbose=a("verbose"),s.debug=a("debug"),s.info=a("info"),s.warn=a("warn"),s.error=a("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}();function cm(e){return Symbol.for(e)}var lm=function(){function e(a){var s=this;s._currentContext=a?new Map(a):new Map,s.getValue=function(r){return s._currentContext.get(r)},s.setValue=function(r,n){var d=new e(s._currentContext);return d._currentContext.set(r,n),d},s.deleteValue=function(r){var n=new e(s._currentContext);return n._currentContext.delete(r),n}}return e}(),um=new lm,mm=function(e,a){var s=typeof Symbol=="function"&&e[Symbol.iterator];if(!s)return e;var r=s.call(e),n,d=[],o;try{for(;(a===void 0||a-- >0)&&!(n=r.next()).done;)d.push(n.value)}catch(c){o={error:c}}finally{try{n&&!n.done&&(s=r.return)&&s.call(r)}finally{if(o)throw o.error}}return d},vm=function(e,a,s){if(s||arguments.length===2)for(var r=0,n=a.length,d;r<n;r++)(d||!(r in a))&&(d||(d=Array.prototype.slice.call(a,0,r)),d[r]=a[r]);return e.concat(d||Array.prototype.slice.call(a))},ym=function(){function e(){}return e.prototype.active=function(){return um},e.prototype.with=function(a,s,r){for(var n=[],d=3;d<arguments.length;d++)n[d-3]=arguments[d];return s.call.apply(s,vm([r],mm(n),!1))},e.prototype.bind=function(a,s){return s},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}(),bm=function(e,a){var s=typeof Symbol=="function"&&e[Symbol.iterator];if(!s)return e;var r=s.call(e),n,d=[],o;try{for(;(a===void 0||a-- >0)&&!(n=r.next()).done;)d.push(n.value)}catch(c){o={error:c}}finally{try{n&&!n.done&&(s=r.return)&&s.call(r)}finally{if(o)throw o.error}}return d},pm=function(e,a,s){if(s||arguments.length===2)for(var r=0,n=a.length,d;r<n;r++)(d||!(r in a))&&(d||(d=Array.prototype.slice.call(a,0,r)),d[r]=a[r]);return e.concat(d||Array.prototype.slice.call(a))},js="context",hm=new ym,Dd=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(a){return cr(js,a,qa.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(a,s,r){for(var n,d=[],o=3;o<arguments.length;o++)d[o-3]=arguments[o];return(n=this._getContextManager()).with.apply(n,pm([a,s,r],bm(d),!1))},e.prototype.bind=function(a,s){return this._getContextManager().bind(a,s)},e.prototype._getContextManager=function(){return Na(js)||hm},e.prototype.disable=function(){this._getContextManager().disable(),lr(js,qa.instance())},e}(),Is;(function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"})(Is||(Is={}));var Ad="0000000000000000",Bd="00000000000000000000000000000000",wm={traceId:Bd,spanId:Ad,traceFlags:Is.NONE},na=function(){function e(a){a===void 0&&(a=wm),this._spanContext=a}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(a,s){return this},e.prototype.setAttributes=function(a){return this},e.prototype.addEvent=function(a,s){return this},e.prototype.addLink=function(a){return this},e.prototype.addLinks=function(a){return this},e.prototype.setStatus=function(a){return this},e.prototype.updateName=function(a){return this},e.prototype.end=function(a){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(a,s){},e}(),ur=cm("OpenTelemetry Context Key SPAN");function mr(e){return e.getValue(ur)||void 0}function Nm(){return mr(Dd.getInstance().active())}function vr(e,a){return e.setValue(ur,a)}function jm(e){return e.deleteValue(ur)}function xm(e,a){return vr(e,new na(a))}function Wd(e){var a;return(a=mr(e))===null||a===void 0?void 0:a.spanContext()}var gm=/^([0-9a-f]{32})$/i,fm=/^[0-9a-f]{16}$/i;function Mm(e){return gm.test(e)&&e!==Bd}function Em(e){return fm.test(e)&&e!==Ad}function Td(e){return Mm(e.traceId)&&Em(e.spanId)}function Hm(e){return new na(e)}var xs=Dd.getInstance(),kd=function(){function e(){}return e.prototype.startSpan=function(a,s,r){r===void 0&&(r=xs.active());var n=!!s?.root;if(n)return new na;var d=r&&Wd(r);return Vm(d)&&Td(d)?new na(d):new na},e.prototype.startActiveSpan=function(a,s,r,n){var d,o,c;if(!(arguments.length<2)){arguments.length===2?c=s:arguments.length===3?(d=s,c=r):(d=s,o=r,c=n);var l=o??xs.active(),i=this.startSpan(a,d,l),u=vr(l,i);return xs.with(u,c,void 0,i)}},e}();function Vm(e){return typeof e=="object"&&typeof e.spanId=="string"&&typeof e.traceId=="string"&&typeof e.traceFlags=="number"}var Xm=new kd,Lm=function(){function e(a,s,r,n){this._provider=a,this.name=s,this.version=r,this.options=n}return e.prototype.startSpan=function(a,s,r){return this._getTracer().startSpan(a,s,r)},e.prototype.startActiveSpan=function(a,s,r,n){var d=this._getTracer();return Reflect.apply(d.startActiveSpan,d,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var a=this._provider.getDelegateTracer(this.name,this.version,this.options);return a?(this._delegate=a,this._delegate):Xm},e}(),Jm=function(){function e(){}return e.prototype.getTracer=function(a,s,r){return new kd},e}(),Rm=new Jm,un=function(){function e(){}return e.prototype.getTracer=function(a,s,r){var n;return(n=this.getDelegateTracer(a,s,r))!==null&&n!==void 0?n:new Lm(this,a,s,r)},e.prototype.getDelegate=function(){var a;return(a=this._delegate)!==null&&a!==void 0?a:Rm},e.prototype.setDelegate=function(a){this._delegate=a},e.prototype.getDelegateTracer=function(a,s,r){var n;return(n=this._delegate)===null||n===void 0?void 0:n.getTracer(a,s,r)},e}(),Ka;(function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"})(Ka||(Ka={}));var gs="trace",Dm=function(){function e(){this._proxyTracerProvider=new un,this.wrapSpanContext=Hm,this.isSpanContextValid=Td,this.deleteSpan=jm,this.getSpan=mr,this.getActiveSpan=Nm,this.getSpanContext=Wd,this.setSpan=vr,this.setSpanContext=xm}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(a){var s=cr(gs,this._proxyTracerProvider,qa.instance());return s&&this._proxyTracerProvider.setDelegate(a),s},e.prototype.getTracerProvider=function(){return Na(gs)||this._proxyTracerProvider},e.prototype.getTracer=function(a,s){return this.getTracerProvider().getTracer(a,s)},e.prototype.disable=function(){lr(gs,qa.instance()),this._proxyTracerProvider=new un},e}(),Am=Dm.getInstance(),Bm=Object.defineProperty,yr=(e,a)=>{for(var s in a)Bm(e,s,{get:a[s],enumerable:!0})};function Fd(e,{contentType:a,dataStreamVersion:s}){const r=new Headers(e??{});return r.has("Content-Type")||r.set("Content-Type",a),r.set("X-Vercel-AI-Data-Stream",s),r}var Zd="AI_InvalidArgumentError",Sd=`vercel.ai.error.${Zd}`,Wm=Symbol.for(Sd),_d,Ge=class extends se{constructor({parameter:e,value:a,message:s}){super({name:Zd,message:`Invalid argument for parameter ${e}: ${s}`}),this[_d]=!0,this.parameter=e,this.value=a}static isInstance(e){return se.hasMarker(e,Sd)}};_d=Wm;var Od="AI_RetryError",Qd=`vercel.ai.error.${Od}`,Tm=Symbol.for(Qd),Id,mn=class extends se{constructor({message:e,reason:a,errors:s}){super({name:Od,message:e}),this[Id]=!0,this.reason=a,this.errors=s,this.lastError=s[s.length-1]}static isInstance(e){return se.hasMarker(e,Qd)}};Id=Tm;var km=({maxRetries:e=2,initialDelayInMs:a=2e3,backoffFactor:s=2}={})=>async r=>Gd(r,{maxRetries:e,delayInMs:a,backoffFactor:s});async function Gd(e,{maxRetries:a,delayInMs:s,backoffFactor:r},n=[]){try{return await e()}catch(d){if(ml(d)||a===0)throw d;const o=ul(d),c=[...n,d],l=c.length;if(l>a)throw new mn({message:`Failed after ${l} attempts. Last error: ${o}`,reason:"maxRetriesExceeded",errors:c});if(d instanceof Error&&_e.isInstance(d)&&d.isRetryable===!0&&l<=a)return await ll(s),Gd(e,{maxRetries:a,delayInMs:r*s,backoffFactor:r},c);throw l===1?d:new mn({message:`Failed after ${l} attempts with non-retryable error: '${o}'`,reason:"errorNotRetryable",errors:c})}}function Fm({maxRetries:e}){if(e!=null){if(!Number.isInteger(e))throw new Ge({parameter:"maxRetries",value:e,message:"maxRetries must be an integer"});if(e<0)throw new Ge({parameter:"maxRetries",value:e,message:"maxRetries must be >= 0"})}const a=e??2;return{maxRetries:a,retry:km({maxRetries:a})}}function Gs({operationId:e,telemetry:a}){return{"operation.name":`${e}${a?.functionId!=null?` ${a.functionId}`:""}`,"resource.name":a?.functionId,"ai.operationId":e,"ai.telemetry.functionId":a?.functionId}}function Zm({model:e,settings:a,telemetry:s,headers:r}){var n;return{"ai.model.provider":e.provider,"ai.model.id":e.modelId,...Object.entries(a).reduce((d,[o,c])=>(d[`ai.settings.${o}`]=c,d),{}),...Object.entries((n=s?.metadata)!=null?n:{}).reduce((d,[o,c])=>(d[`ai.telemetry.metadata.${o}`]=c,d),{}),...Object.entries(r??{}).reduce((d,[o,c])=>(c!==void 0&&(d[`ai.request.headers.${o}`]=c),d),{})}}var Sm={startSpan(){return Aa},startActiveSpan(e,a,s,r){if(typeof a=="function")return a(Aa);if(typeof s=="function")return s(Aa);if(typeof r=="function")return r(Aa)}},Aa={spanContext(){return _m},setAttribute(){return this},setAttributes(){return this},addEvent(){return this},addLink(){return this},addLinks(){return this},setStatus(){return this},updateName(){return this},end(){return this},isRecording(){return!1},recordException(){return this}},_m={traceId:"",spanId:"",traceFlags:0};function Om({isEnabled:e=!1,tracer:a}={}){return e?a||Am.getTracer("ai"):Sm}function Us({name:e,tracer:a,attributes:s,fn:r,endWhenDone:n=!0}){return a.startActiveSpan(e,{attributes:s},async d=>{try{const o=await r(d);return n&&d.end(),o}catch(o){try{o instanceof Error?(d.recordException({name:o.name,message:o.message,stack:o.stack}),d.setStatus({code:Ka.ERROR,message:o.message})):d.setStatus({code:Ka.ERROR})}finally{d.end()}throw o}})}function Zt({telemetry:e,attributes:a}){return e?.isEnabled!==!0?{}:Object.entries(a).reduce((s,[r,n])=>{if(n===void 0)return s;if(typeof n=="object"&&"input"in n&&typeof n.input=="function"){if(e?.recordInputs===!1)return s;const d=n.input();return d===void 0?s:{...s,[r]:d}}if(typeof n=="object"&&"output"in n&&typeof n.output=="function"){if(e?.recordOutputs===!1)return s;const d=n.output();return d===void 0?s:{...s,[r]:d}}return{...s,[r]:n}},{})}var Qm=class{constructor({data:e,mimeType:a}){const s=e instanceof Uint8Array;this.base64Data=s?void 0:e,this.uint8ArrayData=s?e:void 0,this.mimeType=a}get base64(){return this.base64Data==null&&(this.base64Data=Ts(this.uint8ArrayData)),this.base64Data}get uint8Array(){return this.uint8ArrayData==null&&(this.uint8ArrayData=rr(this.base64Data)),this.uint8ArrayData}},Im=[{mimeType:"image/gif",bytesPrefix:[71,73,70],base64Prefix:"R0lG"},{mimeType:"image/png",bytesPrefix:[137,80,78,71],base64Prefix:"iVBORw"},{mimeType:"image/jpeg",bytesPrefix:[255,216],base64Prefix:"/9j/"},{mimeType:"image/webp",bytesPrefix:[82,73,70,70],base64Prefix:"UklGRg"},{mimeType:"image/bmp",bytesPrefix:[66,77],base64Prefix:"Qk"},{mimeType:"image/tiff",bytesPrefix:[73,73,42,0],base64Prefix:"SUkqAA"},{mimeType:"image/tiff",bytesPrefix:[77,77,0,42],base64Prefix:"TU0AKg"},{mimeType:"image/avif",bytesPrefix:[0,0,0,32,102,116,121,112,97,118,105,102],base64Prefix:"AAAAIGZ0eXBhdmlm"},{mimeType:"image/heic",bytesPrefix:[0,0,0,32,102,116,121,112,104,101,105,99],base64Prefix:"AAAAIGZ0eXBoZWlj"}],Gm=e=>{const a=typeof e=="string"?rr(e):e,s=(a[6]&127)<<21|(a[7]&127)<<14|(a[8]&127)<<7|a[9]&127;return a.slice(s+10)};function Um(e){return typeof e=="string"&&e.startsWith("SUQz")||typeof e!="string"&&e.length>10&&e[0]===73&&e[1]===68&&e[2]===51?Gm(e):e}function Cm({data:e,signatures:a}){const s=Um(e);for(const r of a)if(typeof s=="string"?s.startsWith(r.base64Prefix):s.length>=r.bytesPrefix.length&&r.bytesPrefix.every((n,d)=>s[d]===n))return r.mimeType}var Ud="AI_NoObjectGeneratedError",Cd=`vercel.ai.error.${Ud}`,Ym=Symbol.for(Cd),Yd,vn=class extends se{constructor({message:e="No object generated.",cause:a,text:s,response:r,usage:n,finishReason:d}){super({name:Ud,message:e,cause:a}),this[Yd]=!0,this.text=s,this.response=r,this.usage=n,this.finishReason=d}static isInstance(e){return se.hasMarker(e,Cd)}};Yd=Ym;var zd="AI_DownloadError",$d=`vercel.ai.error.${zd}`,zm=Symbol.for($d),Pd,fs=class extends se{constructor({url:e,statusCode:a,statusText:s,cause:r,message:n=r==null?`Failed to download ${e}: ${a} ${s}`:`Failed to download ${e}: ${r}`}){super({name:zd,message:n,cause:r}),this[Pd]=!0,this.url=e,this.statusCode=a,this.statusText=s}static isInstance(e){return se.hasMarker(e,$d)}};Pd=zm;async function $m({url:e}){var a;const s=e.toString();try{const r=await fetch(s);if(!r.ok)throw new fs({url:s,statusCode:r.status,statusText:r.statusText});return{data:new Uint8Array(await r.arrayBuffer()),mimeType:(a=r.headers.get("content-type"))!=null?a:void 0}}catch(r){throw fs.isInstance(r)?r:new fs({url:s,cause:r})}}var qd="AI_InvalidDataContentError",Kd=`vercel.ai.error.${qd}`,Pm=Symbol.for(Kd),eo,yn=class extends se{constructor({content:e,cause:a,message:s=`Invalid data content. Expected a base64 string, Uint8Array, ArrayBuffer, or Buffer, but got ${typeof e}.`}){super({name:qd,message:s,cause:a}),this[eo]=!0,this.content=e}static isInstance(e){return se.hasMarker(e,Kd)}};eo=Pm;var to=xe([E(),$a(Uint8Array),$a(ArrayBuffer),Ed(e=>{var a,s;return(s=(a=globalThis.Buffer)==null?void 0:a.isBuffer(e))!=null?s:!1},{message:"Must be a Buffer"})]);function br(e){return typeof e=="string"?e:e instanceof ArrayBuffer?Ts(new Uint8Array(e)):Ts(e)}function es(e){if(e instanceof Uint8Array)return e;if(typeof e=="string")try{return rr(e)}catch(a){throw new yn({message:"Invalid data content. Content string is not a base64-encoded media.",content:e,cause:a})}if(e instanceof ArrayBuffer)return new Uint8Array(e);throw new yn({content:e})}function qm(e){try{return new TextDecoder().decode(e)}catch{throw new Error("Error decoding Uint8Array to text")}}var ao="AI_InvalidMessageRoleError",so=`vercel.ai.error.${ao}`,Km=Symbol.for(so),ro,ev=class extends se{constructor({role:e,message:a=`Invalid message role: '${e}'. Must be one of: "system", "user", "assistant", "tool".`}){super({name:ao,message:a}),this[ro]=!0,this.role=e}static isInstance(e){return se.hasMarker(e,so)}};ro=Km;function tv(e){try{const[a,s]=e.split(",");return{mimeType:a.split(";")[0].split(":")[1],base64Content:s}}catch{return{mimeType:void 0,base64Content:void 0}}}async function av({prompt:e,modelSupportsImageUrls:a=!0,modelSupportsUrl:s=()=>!1,downloadImplementation:r=$m}){const n=await rv(e.messages,r,a,s);return[...e.system!=null?[{role:"system",content:e.system}]:[],...e.messages.map(d=>sv(d,n))]}function sv(e,a){var s,r,n,d,o,c;const l=e.role;switch(l){case"system":return{role:"system",content:e.content,providerMetadata:(s=e.providerOptions)!=null?s:e.experimental_providerMetadata};case"user":return typeof e.content=="string"?{role:"user",content:[{type:"text",text:e.content}],providerMetadata:(r=e.providerOptions)!=null?r:e.experimental_providerMetadata}:{role:"user",content:e.content.map(i=>nv(i,a)).filter(i=>i.type!=="text"||i.text!==""),providerMetadata:(n=e.providerOptions)!=null?n:e.experimental_providerMetadata};case"assistant":return typeof e.content=="string"?{role:"assistant",content:[{type:"text",text:e.content}],providerMetadata:(d=e.providerOptions)!=null?d:e.experimental_providerMetadata}:{role:"assistant",content:e.content.filter(i=>i.type!=="text"||i.text!=="").map(i=>{var u;const m=(u=i.providerOptions)!=null?u:i.experimental_providerMetadata;switch(i.type){case"file":return{type:"file",data:i.data instanceof URL?i.data:br(i.data),filename:i.filename,mimeType:i.mimeType,providerMetadata:m};case"reasoning":return{type:"reasoning",text:i.text,signature:i.signature,providerMetadata:m};case"redacted-reasoning":return{type:"redacted-reasoning",data:i.data,providerMetadata:m};case"text":return{type:"text",text:i.text,providerMetadata:m};case"tool-call":return{type:"tool-call",toolCallId:i.toolCallId,toolName:i.toolName,args:i.args,providerMetadata:m}}}),providerMetadata:(o=e.providerOptions)!=null?o:e.experimental_providerMetadata};case"tool":return{role:"tool",content:e.content.map(i=>{var u;return{type:"tool-result",toolCallId:i.toolCallId,toolName:i.toolName,result:i.result,content:i.experimental_content,isError:i.isError,providerMetadata:(u=i.providerOptions)!=null?u:i.experimental_providerMetadata}}),providerMetadata:(c=e.providerOptions)!=null?c:e.experimental_providerMetadata};default:{const i=l;throw new ev({role:i})}}}async function rv(e,a,s,r){const n=e.filter(o=>o.role==="user").map(o=>o.content).filter(o=>Array.isArray(o)).flat().filter(o=>o.type==="image"||o.type==="file").filter(o=>!(o.type==="image"&&s===!0)).map(o=>o.type==="image"?o.image:o.data).map(o=>typeof o=="string"&&(o.startsWith("http:")||o.startsWith("https:"))?new URL(o):o).filter(o=>o instanceof URL).filter(o=>!r(o)),d=await Promise.all(n.map(async o=>({url:o,data:await a({url:o})})));return Object.fromEntries(d.map(({url:o,data:c})=>[o.toString(),c]))}function nv(e,a){var s,r,n,d;if(e.type==="text")return{type:"text",text:e.text,providerMetadata:(s=e.providerOptions)!=null?s:e.experimental_providerMetadata};let o=e.mimeType,c,l,i;const u=e.type;switch(u){case"image":c=e.image;break;case"file":c=e.data;break;default:throw new Error(`Unsupported part type: ${u}`)}try{l=typeof c=="string"?new URL(c):c}catch{l=c}if(l instanceof URL)if(l.protocol==="data:"){const{mimeType:m,base64Content:N}=tv(l.toString());if(m==null||N==null)throw new Error(`Invalid data URL format in part ${u}`);o=m,i=es(N)}else{const m=a[l.toString()];m?(i=m.data,o??(o=m.mimeType)):i=l}else i=es(l);switch(u){case"image":return i instanceof Uint8Array&&(o=(r=Cm({data:i,signatures:Im}))!=null?r:o),{type:"image",image:i,mimeType:o,providerMetadata:(n=e.providerOptions)!=null?n:e.experimental_providerMetadata};case"file":{if(o==null)throw new Error("Mime type is missing for file part");return{type:"file",data:i instanceof Uint8Array?br(i):i,filename:e.filename,mimeType:o,providerMetadata:(d=e.providerOptions)!=null?d:e.experimental_providerMetadata}}}}function dv({maxTokens:e,temperature:a,topP:s,topK:r,presencePenalty:n,frequencyPenalty:d,stopSequences:o,seed:c}){if(e!=null){if(!Number.isInteger(e))throw new Ge({parameter:"maxTokens",value:e,message:"maxTokens must be an integer"});if(e<1)throw new Ge({parameter:"maxTokens",value:e,message:"maxTokens must be >= 1"})}if(a!=null&&typeof a!="number")throw new Ge({parameter:"temperature",value:a,message:"temperature must be a number"});if(s!=null&&typeof s!="number")throw new Ge({parameter:"topP",value:s,message:"topP must be a number"});if(r!=null&&typeof r!="number")throw new Ge({parameter:"topK",value:r,message:"topK must be a number"});if(n!=null&&typeof n!="number")throw new Ge({parameter:"presencePenalty",value:n,message:"presencePenalty must be a number"});if(d!=null&&typeof d!="number")throw new Ge({parameter:"frequencyPenalty",value:d,message:"frequencyPenalty must be a number"});if(c!=null&&!Number.isInteger(c))throw new Ge({parameter:"seed",value:c,message:"seed must be an integer"});return{maxTokens:e,temperature:a??0,topP:s,topK:r,presencePenalty:n,frequencyPenalty:d,stopSequences:o!=null&&o.length>0?o:void 0,seed:c}}function bn(e){var a,s,r;const n=[];for(const d of e){let o;try{o=new URL(d.url)}catch{throw new Error(`Invalid URL: ${d.url}`)}switch(o.protocol){case"http:":case"https:":{if((a=d.contentType)!=null&&a.startsWith("image/"))n.push({type:"image",image:o});else{if(!d.contentType)throw new Error("If the attachment is not an image, it must specify a content type");n.push({type:"file",data:o,mimeType:d.contentType})}break}case"data:":{let c,l,i;try{[c,l]=d.url.split(","),i=c.split(";")[0].split(":")[1]}catch{throw new Error(`Error processing data URL: ${d.url}`)}if(i==null||l==null)throw new Error(`Invalid data URL format: ${d.url}`);if((s=d.contentType)!=null&&s.startsWith("image/"))n.push({type:"image",image:es(l)});else if((r=d.contentType)!=null&&r.startsWith("text/"))n.push({type:"text",text:qm(es(l))});else{if(!d.contentType)throw new Error("If the attachment is not an image or text, it must specify a content type");n.push({type:"file",data:l,mimeType:d.contentType})}break}default:throw new Error(`Unsupported URL protocol: ${o.protocol}`)}}return n}var no="AI_MessageConversionError",oo=`vercel.ai.error.${no}`,ov=Symbol.for(oo),io,Ms=class extends se{constructor({originalMessage:e,message:a}){super({name:no,message:a}),this[io]=!0,this.originalMessage=e}static isInstance(e){return se.hasMarker(e,oo)}};io=ov;function iv(e,a){var s,r;const n=(s=a?.tools)!=null?s:{},d=[];for(let o=0;o<e.length;o++){const c=e[o],l=o===e.length-1,{role:i,content:u,experimental_attachments:m}=c;switch(i){case"system":{d.push({role:"system",content:u});break}case"user":{if(c.parts==null)d.push({role:"user",content:m?[{type:"text",text:u},...bn(m)]:u});else{const N=c.parts.filter(x=>x.type==="text").map(x=>({type:"text",text:x.text}));d.push({role:"user",content:m?[...N,...bn(m)]:N})}break}case"assistant":{if(c.parts!=null){let w=function(){const j=[];for(const f of h)switch(f.type){case"file":case"text":{j.push(f);break}case"reasoning":{for(const T of f.details)switch(T.type){case"text":j.push({type:"reasoning",text:T.text,signature:T.signature});break;case"redacted":j.push({type:"redacted-reasoning",data:T.data});break}break}case"tool-invocation":j.push({type:"tool-call",toolCallId:f.toolInvocation.toolCallId,toolName:f.toolInvocation.toolName,args:f.toolInvocation.args});break;default:{const T=f;throw new Error(`Unsupported part: ${T}`)}}d.push({role:"assistant",content:j});const L=h.filter(f=>f.type==="tool-invocation").map(f=>f.toolInvocation);L.length>0&&d.push({role:"tool",content:L.map(f=>{if(!("result"in f))throw new Ms({originalMessage:c,message:"ToolInvocation must have a result: "+JSON.stringify(f)});const{toolCallId:T,toolName:V,result:$}=f,k=n[V];return k?.experimental_toToolResultContent!=null?{type:"tool-result",toolCallId:T,toolName:V,result:k.experimental_toToolResultContent($),experimental_content:k.experimental_toToolResultContent($)}:{type:"tool-result",toolCallId:T,toolName:V,result:$}})}),h=[],p=!1,y++},y=0,p=!1,h=[];for(const j of c.parts)switch(j.type){case"text":{p&&w(),h.push(j);break}case"file":case"reasoning":{h.push(j);break}case"tool-invocation":{((r=j.toolInvocation.step)!=null?r:0)!==y&&w(),h.push(j),p=!0;break}}w();break}const N=c.toolInvocations;if(N==null||N.length===0){d.push({role:"assistant",content:u});break}const x=N.reduce((w,y)=>{var p;return Math.max(w,(p=y.step)!=null?p:0)},0);for(let w=0;w<=x;w++){const y=N.filter(p=>{var h;return((h=p.step)!=null?h:0)===w});y.length!==0&&(d.push({role:"assistant",content:[...l&&u&&w===0?[{type:"text",text:u}]:[],...y.map(({toolCallId:p,toolName:h,args:j})=>({type:"tool-call",toolCallId:p,toolName:h,args:j}))]}),d.push({role:"tool",content:y.map(p=>{if(!("result"in p))throw new Ms({originalMessage:c,message:"ToolInvocation must have a result: "+JSON.stringify(p)});const{toolCallId:h,toolName:j,result:L}=p,f=n[j];return f?.experimental_toToolResultContent!=null?{type:"tool-result",toolCallId:h,toolName:j,result:f.experimental_toToolResultContent(L),experimental_content:f.experimental_toToolResultContent(L)}:{type:"tool-result",toolCallId:h,toolName:j,result:L}})}))}u&&!l&&d.push({role:"assistant",content:u});break}case"data":break;default:{const N=i;throw new Ms({originalMessage:c,message:`Unsupported role: ${N}`})}}}return d}var Cs=Yl(()=>xe([Cl(),E(),z(),ze(),ua(E(),Cs),ie(Cs)])),we=ua(E(),ua(E(),Cs)),cv=ie(xe([H({type:te("text"),text:E()}),H({type:te("image"),data:E(),mimeType:E().optional()})])),co=H({type:te("text"),text:E(),providerOptions:we.optional(),experimental_providerMetadata:we.optional()}),lv=H({type:te("image"),image:xe([to,$a(URL)]),mimeType:E().optional(),providerOptions:we.optional(),experimental_providerMetadata:we.optional()}),lo=H({type:te("file"),data:xe([to,$a(URL)]),filename:E().optional(),mimeType:E(),providerOptions:we.optional(),experimental_providerMetadata:we.optional()}),uv=H({type:te("reasoning"),text:E(),providerOptions:we.optional(),experimental_providerMetadata:we.optional()}),mv=H({type:te("redacted-reasoning"),data:E(),providerOptions:we.optional(),experimental_providerMetadata:we.optional()}),vv=H({type:te("tool-call"),toolCallId:E(),toolName:E(),args:os(),providerOptions:we.optional(),experimental_providerMetadata:we.optional()}),yv=H({type:te("tool-result"),toolCallId:E(),toolName:E(),result:os(),content:cv.optional(),isError:ze().optional(),providerOptions:we.optional(),experimental_providerMetadata:we.optional()}),bv=H({role:te("system"),content:E(),providerOptions:we.optional(),experimental_providerMetadata:we.optional()}),pv=H({role:te("user"),content:xe([E(),ie(xe([co,lv,lo]))]),providerOptions:we.optional(),experimental_providerMetadata:we.optional()}),hv=H({role:te("assistant"),content:xe([E(),ie(xe([co,lo,uv,mv,vv]))]),providerOptions:we.optional(),experimental_providerMetadata:we.optional()}),wv=H({role:te("tool"),content:ie(yv),providerOptions:we.optional(),experimental_providerMetadata:we.optional()}),Nv=xe([bv,pv,hv,wv]);function jv({prompt:e,tools:a}){if(e.prompt==null&&e.messages==null)throw new rt({prompt:e,message:"prompt or messages must be defined"});if(e.prompt!=null&&e.messages!=null)throw new rt({prompt:e,message:"prompt and messages cannot be defined at the same time"});if(e.system!=null&&typeof e.system!="string")throw new rt({prompt:e,message:"system must be a string"});if(e.prompt!=null){if(typeof e.prompt!="string")throw new rt({prompt:e,message:"prompt must be a string"});return{type:"prompt",system:e.system,messages:[{role:"user",content:e.prompt}]}}if(e.messages!=null){const r=xv(e.messages)==="ui-messages"?iv(e.messages,{tools:a}):e.messages;if(r.length===0)throw new rt({prompt:e,message:"messages must not be empty"});const n=ds({value:r,schema:ie(Nv)});if(!n.success)throw new rt({prompt:e,message:["message must be a CoreMessage or a UI message",`Validation error: ${n.error.message}`].join(`
`),cause:n.error});return{type:"messages",messages:r,system:e.system}}throw new Error("unreachable")}function xv(e){if(!Array.isArray(e))throw new rt({prompt:e,message:["messages must be an array of CoreMessage or UIMessage",`Received non-array value: ${JSON.stringify(e)}`].join(`
`),cause:e});if(e.length===0)return"messages";const a=e.map(gv);if(a.some(r=>r==="has-ui-specific-parts"))return"ui-messages";const s=a.findIndex(r=>r!=="has-core-specific-parts"&&r!=="message");if(s===-1)return"messages";throw new rt({prompt:e,message:["messages must be an array of CoreMessage or UIMessage",`Received message of type: "${a[s]}" at index ${s}`,`messages[${s}]: ${JSON.stringify(e[s])}`].join(`
`),cause:e})}function gv(e){return typeof e=="object"&&e!==null&&(e.role==="function"||e.role==="data"||"toolInvocations"in e||"parts"in e||"experimental_attachments"in e)?"has-ui-specific-parts":typeof e=="object"&&e!==null&&"content"in e&&(Array.isArray(e.content)||"experimental_providerMetadata"in e||"providerOptions"in e)?"has-core-specific-parts":typeof e=="object"&&e!==null&&"role"in e&&"content"in e&&typeof e.content=="string"&&["system","user","assistant","tool"].includes(e.role)?"message":"other"}function fv({promptTokens:e,completionTokens:a}){return{promptTokens:e,completionTokens:a,totalTokens:e+a}}function Mv(e,a){return{promptTokens:e.promptTokens+a.promptTokens,completionTokens:e.completionTokens+a.completionTokens,totalTokens:e.totalTokens+a.totalTokens}}var Ev="JSON schema:",Hv="You MUST answer with a JSON object that matches the JSON schema above.",Vv="You MUST answer with JSON.";function Xv({prompt:e,schema:a,schemaPrefix:s=a!=null?Ev:void 0,schemaSuffix:r=a!=null?Hv:Vv}){return[e!=null&&e.length>0?e:void 0,e!=null&&e.length>0?"":void 0,s,a!=null?JSON.stringify(a):void 0,r].filter(n=>n!=null).join(`
`)}function Lv(e){const a=e.map(s=>({...s,content:typeof s.content=="string"?s.content:s.content.map(Jv)}));return JSON.stringify(a)}function Jv(e){return e.type==="image"?{...e,image:e.image instanceof Uint8Array?br(e.image):e.image}:e}Lt({prefix:"aiobj",size:24});Lt({prefix:"aiobj",size:24});var uo="AI_NoOutputSpecifiedError",mo=`vercel.ai.error.${uo}`,Rv=Symbol.for(mo),vo,Dv=class extends se{constructor({message:e="No output specified."}={}){super({name:uo,message:e}),this[vo]=!0}static isInstance(e){return se.hasMarker(e,mo)}};vo=Rv;var yo="AI_ToolExecutionError",bo=`vercel.ai.error.${yo}`,Av=Symbol.for(bo),po,Bv=class extends se{constructor({toolArgs:e,toolName:a,toolCallId:s,cause:r,message:n=`Error executing tool ${a}: ${ga(r)}`}){super({name:yo,message:n,cause:r}),this[po]=!0,this.toolArgs=e,this.toolName=a,this.toolCallId=s}static isInstance(e){return se.hasMarker(e,bo)}};po=Av;function Wv(e){return e!=null&&Object.keys(e).length>0}function Tv({tools:e,toolChoice:a,activeTools:s}){return Wv(e)?{tools:(s!=null?Object.entries(e).filter(([n])=>s.includes(n)):Object.entries(e)).map(([n,d])=>{const o=d.type;switch(o){case void 0:case"function":return{type:"function",name:n,description:d.description,parameters:cs(d.parameters).jsonSchema};case"provider-defined":return{type:"provider-defined",name:n,id:d.id,args:d.args};default:{const c=o;throw new Error(`Unsupported tool type: ${c}`)}}}),toolChoice:a==null?{type:"auto"}:typeof a=="string"?{type:a}:{type:"tool",toolName:a.toolName}}:{tools:void 0,toolChoice:void 0}}var kv=/^([\s\S]*?)(\s+)(\S*)$/;function Fv(e){const a=e.match(kv);return a?{prefix:a[1],whitespace:a[2],suffix:a[3]}:void 0}function Zv(e){const a=Fv(e);return a?a.prefix+a.whitespace:e}var ho="AI_InvalidToolArgumentsError",wo=`vercel.ai.error.${ho}`,Sv=Symbol.for(wo),No,jo=class extends se{constructor({toolArgs:e,toolName:a,cause:s,message:r=`Invalid arguments for tool ${a}: ${ga(s)}`}){super({name:ho,message:r,cause:s}),this[No]=!0,this.toolArgs=e,this.toolName=a}static isInstance(e){return se.hasMarker(e,wo)}};No=Sv;var xo="AI_NoSuchToolError",go=`vercel.ai.error.${xo}`,_v=Symbol.for(go),fo,Ys=class extends se{constructor({toolName:e,availableTools:a=void 0,message:s=`Model tried to call unavailable tool '${e}'. ${a===void 0?"No tools are available.":`Available tools: ${a.join(", ")}.`}`}){super({name:xo,message:s}),this[fo]=!0,this.toolName=e,this.availableTools=a}static isInstance(e){return se.hasMarker(e,go)}};fo=_v;var Mo="AI_ToolCallRepairError",Eo=`vercel.ai.error.${Mo}`,Ov=Symbol.for(Eo),Ho,Qv=class extends se{constructor({cause:e,originalError:a,message:s=`Error repairing tool call: ${ga(e)}`}){super({name:Mo,message:s,cause:e}),this[Ho]=!0,this.originalError=a}static isInstance(e){return se.hasMarker(e,Eo)}};Ho=Ov;async function Iv({toolCall:e,tools:a,repairToolCall:s,system:r,messages:n}){if(a==null)throw new Ys({toolName:e.toolName});try{return await pn({toolCall:e,tools:a})}catch(d){if(s==null||!(Ys.isInstance(d)||jo.isInstance(d)))throw d;let o=null;try{o=await s({toolCall:e,tools:a,parameterSchema:({toolName:c})=>cs(a[c].parameters).jsonSchema,system:r,messages:n,error:d})}catch(c){throw new Qv({cause:c,originalError:d})}if(o==null)throw d;return await pn({toolCall:o,tools:a})}}async function pn({toolCall:e,tools:a}){const s=e.toolName,r=a[s];if(r==null)throw new Ys({toolName:e.toolName,availableTools:Object.keys(a)});const n=cs(r.parameters),d=e.args.trim()===""?ds({value:{},schema:n}):ka({text:e.args,schema:n});if(d.success===!1)throw new jo({toolName:s,toolArgs:e.args,cause:d.error});return{type:"tool-call",toolCallId:e.toolCallId,toolName:s,args:d.value}}function hn(e){const a=e.filter(s=>s.type==="text").map(s=>s.text).join("");return a.length>0?a:void 0}function Gv({text:e="",files:a,reasoning:s,tools:r,toolCalls:n,toolResults:d,messageId:o,generateMessageId:c}){const l=[],i=[];return s.length>0&&i.push(...s.map(u=>u.type==="text"?{...u,type:"reasoning"}:{...u,type:"redacted-reasoning"})),a.length>0&&i.push(...a.map(u=>({type:"file",data:u.base64,mimeType:u.mimeType}))),e.length>0&&i.push({type:"text",text:e}),n.length>0&&i.push(...n),i.length>0&&l.push({role:"assistant",content:i,id:o}),d.length>0&&l.push({role:"tool",id:c(),content:d.map(u=>{const m=r[u.toolName];return m?.experimental_toToolResultContent!=null?{type:"tool-result",toolCallId:u.toolCallId,toolName:u.toolName,result:m.experimental_toToolResultContent(u.result),experimental_content:m.experimental_toToolResultContent(u.result)}:{type:"tool-result",toolCallId:u.toolCallId,toolName:u.toolName,result:u.result}})}),l}var Uv=Lt({prefix:"aitxt",size:24}),Cv=Lt({prefix:"msg",size:24});async function zs({model:e,tools:a,toolChoice:s,system:r,prompt:n,messages:d,maxRetries:o,abortSignal:c,headers:l,maxSteps:i=1,experimental_generateMessageId:u=Cv,experimental_output:m,experimental_continueSteps:N=!1,experimental_telemetry:x,experimental_providerMetadata:w,providerOptions:y=w,experimental_activeTools:p,experimental_prepareStep:h,experimental_repairToolCall:j,_internal:{generateId:L=Uv,currentDate:f=()=>new Date}={},onStepFinish:T,...V}){var $;if(i<1)throw new Ge({parameter:"maxSteps",value:i,message:"maxSteps must be at least 1"});const{maxRetries:k,retry:W}=Fm({maxRetries:o}),U=Zm({model:e,telemetry:x,headers:l,settings:{...V,maxRetries:k}}),P=jv({prompt:{system:($=m?.injectIntoSystemPrompt({system:r,model:e}))!=null?$:r,prompt:n,messages:d},tools:a}),S=Om(x);return Us({name:"ai.generateText",attributes:Zt({telemetry:x,attributes:{...Gs({operationId:"ai.generateText",telemetry:x}),...U,"ai.model.provider":e.provider,"ai.model.id":e.modelId,"ai.prompt":{input:()=>JSON.stringify({system:r,prompt:n,messages:d})},"ai.settings.maxSteps":i}}),tracer:S,fn:async C=>{var g,F,ne,ve,ae,b,M,B,q,de,J,O,Z,Y;const be=dv(V);let I,ue=[],pe=[],he=[],ct=0;const ge=[];let Re="";const Ma=[],ht=[];let Ve={completionTokens:0,promptTokens:0,totalTokens:0},Xe="initial";do{const Jt=ct===0?P.type:"messages",Rt=[...P.messages,...ge],et=await h?.({model:e,steps:ht,maxSteps:i,stepNumber:ct}),Ea=(g=et?.toolChoice)!=null?g:s,Ha=(F=et?.experimental_activeTools)!=null?F:p,Ze=(ne=et?.model)!=null?ne:e,Yt=await av({prompt:{type:Jt,system:P.system,messages:Rt},modelSupportsImageUrls:Ze.supportsImageUrls,modelSupportsUrl:(ve=Ze.supportsUrl)==null?void 0:ve.bind(Ze)}),wt={type:"regular",...Tv({tools:a,toolChoice:Ea,activeTools:Ha})};I=await W(()=>Us({name:"ai.generateText.doGenerate",attributes:Zt({telemetry:x,attributes:{...Gs({operationId:"ai.generateText.doGenerate",telemetry:x}),...U,"ai.model.provider":Ze.provider,"ai.model.id":Ze.modelId,"ai.prompt.format":{input:()=>Jt},"ai.prompt.messages":{input:()=>Lv(Yt)},"ai.prompt.tools":{input:()=>{var Ee;return(Ee=wt.tools)==null?void 0:Ee.map(ut=>JSON.stringify(ut))}},"ai.prompt.toolChoice":{input:()=>wt.toolChoice!=null?JSON.stringify(wt.toolChoice):void 0},"gen_ai.system":Ze.provider,"gen_ai.request.model":Ze.modelId,"gen_ai.request.frequency_penalty":V.frequencyPenalty,"gen_ai.request.max_tokens":V.maxTokens,"gen_ai.request.presence_penalty":V.presencePenalty,"gen_ai.request.stop_sequences":V.stopSequences,"gen_ai.request.temperature":V.temperature,"gen_ai.request.top_k":V.topK,"gen_ai.request.top_p":V.topP}}),tracer:S,fn:async Ee=>{var ut,Ce,Bt,Ye,Wt,at;const Le=await Ze.doGenerate({mode:wt,...be,inputFormat:Jt,responseFormat:m?.responseFormat({model:e}),prompt:Yt,providerMetadata:y,abortSignal:c,headers:l}),Se={id:(Ce=(ut=Le.response)==null?void 0:ut.id)!=null?Ce:L(),timestamp:(Ye=(Bt=Le.response)==null?void 0:Bt.timestamp)!=null?Ye:f(),modelId:(at=(Wt=Le.response)==null?void 0:Wt.modelId)!=null?at:Ze.modelId};return Ee.setAttributes(Zt({telemetry:x,attributes:{"ai.response.finishReason":Le.finishReason,"ai.response.text":{output:()=>Le.text},"ai.response.toolCalls":{output:()=>JSON.stringify(Le.toolCalls)},"ai.response.id":Se.id,"ai.response.model":Se.modelId,"ai.response.timestamp":Se.timestamp.toISOString(),"ai.usage.promptTokens":Le.usage.promptTokens,"ai.usage.completionTokens":Le.usage.completionTokens,"gen_ai.response.finish_reasons":[Le.finishReason],"gen_ai.response.id":Se.id,"gen_ai.response.model":Se.modelId,"gen_ai.usage.input_tokens":Le.usage.promptTokens,"gen_ai.usage.output_tokens":Le.usage.completionTokens}})),{...Le,response:Se}}})),ue=await Promise.all(((ae=I.toolCalls)!=null?ae:[]).map(Ee=>Iv({toolCall:Ee,tools:a,repairToolCall:j,system:r,messages:Rt}))),pe=a==null?[]:await Yv({toolCalls:ue,tools:a,tracer:S,telemetry:x,messages:Rt,abortSignal:c});const Dt=fv(I.usage);Ve=Mv(Ve,Dt);let tt="done";++ct<i&&(N&&I.finishReason==="length"&&ue.length===0?tt="continue":ue.length>0&&pe.length===ue.length&&(tt="tool-result"));const At=(b=I.text)!=null?b:"",zt=Xe==="continue"&&Re.trimEnd()!==Re?At.trimStart():At,lt=tt==="continue"?Zv(zt):zt;if(Re=tt==="continue"||Xe==="continue"?Re+lt:lt,he=wn(I.reasoning),Ma.push(...(M=I.sources)!=null?M:[]),Xe==="continue"){const Ee=ge[ge.length-1];typeof Ee.content=="string"?Ee.content+=lt:Ee.content.push({text:lt,type:"text"})}else ge.push(...Gv({text:Re,files:Es(I.files),reasoning:wn(I.reasoning),tools:a??{},toolCalls:ue,toolResults:pe,messageId:u(),generateMessageId:u}));const $t={stepType:Xe,text:lt,reasoning:hn(he),reasoningDetails:he,files:Es(I.files),sources:(B=I.sources)!=null?B:[],toolCalls:ue,toolResults:pe,finishReason:I.finishReason,usage:Dt,warnings:I.warnings,logprobs:I.logprobs,request:(q=I.request)!=null?q:{},response:{...I.response,headers:(de=I.rawResponse)==null?void 0:de.headers,body:(J=I.rawResponse)==null?void 0:J.body,messages:structuredClone(ge)},providerMetadata:I.providerMetadata,experimental_providerMetadata:I.providerMetadata,isContinued:tt==="continue"};ht.push($t),await T?.($t),Xe=tt}while(Xe!=="done");return C.setAttributes(Zt({telemetry:x,attributes:{"ai.response.finishReason":I.finishReason,"ai.response.text":{output:()=>I.text},"ai.response.toolCalls":{output:()=>JSON.stringify(I.toolCalls)},"ai.usage.promptTokens":I.usage.promptTokens,"ai.usage.completionTokens":I.usage.completionTokens}})),new zv({text:Re,files:Es(I.files),reasoning:hn(he),reasoningDetails:he,sources:Ma,outputResolver:()=>{if(m==null)throw new Dv;return m.parseOutput({text:Re},{response:I.response,usage:Ve,finishReason:I.finishReason})},toolCalls:ue,toolResults:pe,finishReason:I.finishReason,usage:Ve,warnings:I.warnings,request:(O=I.request)!=null?O:{},response:{...I.response,headers:(Z=I.rawResponse)==null?void 0:Z.headers,body:(Y=I.rawResponse)==null?void 0:Y.body,messages:ge},logprobs:I.logprobs,steps:ht,providerMetadata:I.providerMetadata})}})}async function Yv({toolCalls:e,tools:a,tracer:s,telemetry:r,messages:n,abortSignal:d}){return(await Promise.all(e.map(async({toolCallId:c,toolName:l,args:i})=>{const u=a[l];if(u?.execute==null)return;const m=await Us({name:"ai.toolCall",attributes:Zt({telemetry:r,attributes:{...Gs({operationId:"ai.toolCall",telemetry:r}),"ai.toolCall.name":l,"ai.toolCall.id":c,"ai.toolCall.args":{output:()=>JSON.stringify(i)}}}),tracer:s,fn:async N=>{try{const x=await u.execute(i,{toolCallId:c,messages:n,abortSignal:d});try{N.setAttributes(Zt({telemetry:r,attributes:{"ai.toolCall.result":{output:()=>JSON.stringify(x)}}}))}catch{}return x}catch(x){throw new Bv({toolCallId:c,toolName:l,toolArgs:i,cause:x})}}});return{type:"tool-result",toolCallId:c,toolName:l,args:i,result:m}}))).filter(c=>c!=null)}var zv=class{constructor(e){this.text=e.text,this.files=e.files,this.reasoning=e.reasoning,this.reasoningDetails=e.reasoningDetails,this.toolCalls=e.toolCalls,this.toolResults=e.toolResults,this.finishReason=e.finishReason,this.usage=e.usage,this.warnings=e.warnings,this.request=e.request,this.response=e.response,this.steps=e.steps,this.experimental_providerMetadata=e.providerMetadata,this.providerMetadata=e.providerMetadata,this.logprobs=e.logprobs,this.outputResolver=e.outputResolver,this.sources=e.sources}get experimental_output(){return this.outputResolver()}};function wn(e){return e==null?[]:typeof e=="string"?[{type:"text",text:e}]:e}function Es(e){var a;return(a=e?.map(s=>new Qm(s)))!=null?a:[]}var $v={};yr($v,{object:()=>qv,text:()=>Pv});var Pv=()=>({type:"text",responseFormat:()=>({type:"text"}),injectIntoSystemPrompt({system:e}){return e},parsePartial({text:e}){return{partial:e}},parseOutput({text:e}){return e}}),qv=({schema:e})=>{const a=cs(e);return{type:"object",responseFormat:({model:s})=>({type:"json",schema:s.supportsStructuredOutputs?a.jsonSchema:void 0}),injectIntoSystemPrompt({system:s,model:r}){return r.supportsStructuredOutputs?s:Xv({prompt:s,schema:a.jsonSchema})},parsePartial({text:s}){const r=Du(s);switch(r.state){case"failed-parse":case"undefined-input":return;case"repaired-parse":case"successful-parse":return{partial:r.value};default:{const n=r.state;throw new Error(`Unsupported parse state: ${n}`)}}},parseOutput({text:s},r){const n=ka({text:s});if(!n.success)throw new vn({message:"No object generated: could not parse the response.",cause:n.error,text:s,response:r.response,usage:r.usage,finishReason:r.finishReason});const d=ds({value:n.value,schema:a});if(!d.success)throw new vn({message:"No object generated: response did not match schema.",cause:d.error,text:s,response:r.response,usage:r.usage,finishReason:r.finishReason});return d.value}}};function Vo(e,a){const s=e.getReader(),r=a.getReader();let n,d,o=!1,c=!1;async function l(u){try{n==null&&(n=s.read());const m=await n;n=void 0,m.done?u.close():u.enqueue(m.value)}catch(m){u.error(m)}}async function i(u){try{d==null&&(d=r.read());const m=await d;d=void 0,m.done?u.close():u.enqueue(m.value)}catch(m){u.error(m)}}return new ReadableStream({async pull(u){try{if(o){await i(u);return}if(c){await l(u);return}n==null&&(n=s.read()),d==null&&(d=r.read());const{result:m,reader:N}=await Promise.race([n.then(x=>({result:x,reader:s})),d.then(x=>({result:x,reader:r}))]);m.done||u.enqueue(m.value),N===s?(n=void 0,m.done&&(await i(u),o=!0)):(d=void 0,m.done&&(c=!0,await l(u)))}catch(m){u.error(m)}},cancel(){s.cancel(),r.cancel()}})}Lt({prefix:"aitxt",size:24});Lt({prefix:"msg",size:24});var Kv=H({name:E(),version:E()}).passthrough(),pr=H({_meta:fe(H({}).passthrough())}).passthrough(),ja=pr,ey=H({method:E(),params:fe(pr)}),ty=H({experimental:fe(H({}).passthrough()),logging:fe(H({}).passthrough()),prompts:fe(H({listChanged:fe(ze())}).passthrough()),resources:fe(H({subscribe:fe(ze()),listChanged:fe(ze())}).passthrough()),tools:fe(H({listChanged:fe(ze())}).passthrough())}).passthrough();ja.extend({protocolVersion:E(),capabilities:ty,serverInfo:Kv,instructions:fe(E())});var ay=ja.extend({nextCursor:fe(E())}),sy=H({name:E(),description:fe(E()),inputSchema:H({type:te("object"),properties:fe(H({}).passthrough())}).passthrough()}).passthrough();ay.extend({tools:ie(sy)});var ry=H({type:te("text"),text:E()}).passthrough(),ny=H({type:te("image"),data:E().base64(),mimeType:E()}).passthrough(),Xo=H({uri:E(),mimeType:fe(E())}).passthrough(),dy=Xo.extend({text:E()}),oy=Xo.extend({blob:E().base64()}),iy=H({type:te("resource"),resource:xe([dy,oy])}).passthrough();ja.extend({content:ie(xe([ry,ny,iy])),isError:ze().default(!1).optional()}).or(ja.extend({toolResult:os()}));var ls="2.0",cy=H({jsonrpc:te(ls),id:xe([E(),z().int()])}).merge(ey).strict(),ly=H({jsonrpc:te(ls),id:xe([E(),z().int()]),result:ja}).strict(),uy=H({jsonrpc:te(ls),id:xe([E(),z().int()]),error:H({code:z().int(),message:E(),data:fe(os())})}).strict(),my=H({jsonrpc:te(ls)}).merge(H({method:E(),params:fe(pr)})).strict();xe([cy,my,ly,uy]);var vy={};yr(vy,{mergeIntoDataStream:()=>py,toDataStream:()=>yy,toDataStreamResponse:()=>by});function Lo(e={}){const a=new TextEncoder;let s="";return new TransformStream({async start(){e.onStart&&await e.onStart()},async transform(r,n){n.enqueue(a.encode(r)),s+=r,e.onToken&&await e.onToken(r),e.onText&&typeof r=="string"&&await e.onText(r)},async flush(){e.onCompletion&&await e.onCompletion(s),e.onFinal&&await e.onFinal(s)}})}function hr(e,a){return e.pipeThrough(new TransformStream({transform:async(s,r)=>{var n;if(typeof s=="string"){r.enqueue(s);return}if("event"in s){s.event==="on_chat_model_stream"&&Nn((n=s.data)==null?void 0:n.chunk,r);return}Nn(s,r)}})).pipeThrough(Lo(a)).pipeThrough(new TextDecoderStream).pipeThrough(new TransformStream({transform:async(s,r)=>{r.enqueue(Rd("text",s))}}))}function yy(e,a){return hr(e,a).pipeThrough(new TextEncoderStream)}function by(e,a){var s;const r=hr(e,a?.callbacks).pipeThrough(new TextEncoderStream),n=a?.data,d=a?.init,o=n?Vo(n.stream,r):r;return new Response(o,{status:(s=d?.status)!=null?s:200,statusText:d?.statusText,headers:Fd(d?.headers,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}function py(e,a){a.dataStream.merge(hr(e,a.callbacks))}function Nn(e,a){if(typeof e.content=="string")a.enqueue(e.content);else{const s=e.content;for(const r of s)r.type==="text"&&a.enqueue(r.text)}}var hy={};yr(hy,{mergeIntoDataStream:()=>jy,toDataStream:()=>wy,toDataStreamResponse:()=>Ny});function wr(e,a){const s=xy();return cl(e[Symbol.asyncIterator]()).pipeThrough(new TransformStream({async transform(r,n){n.enqueue(s(r.delta))}})).pipeThrough(Lo(a)).pipeThrough(new TextDecoderStream).pipeThrough(new TransformStream({transform:async(r,n)=>{n.enqueue(Rd("text",r))}}))}function wy(e,a){return wr(e,a).pipeThrough(new TextEncoderStream)}function Ny(e,a={}){var s;const{init:r,data:n,callbacks:d}=a,o=wr(e,d).pipeThrough(new TextEncoderStream),c=n?Vo(n.stream,o):o;return new Response(c,{status:(s=r?.status)!=null?s:200,statusText:r?.statusText,headers:Fd(r?.headers,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}function jy(e,a){a.dataStream.merge(wr(e,a.callbacks))}function xy(){let e=!0;return a=>(e&&(a=a.trimStart(),a&&(e=!1)),a)}var gy={};function qe(...e){return e.reduce((a,s)=>({...a,...s??{}}),{})}function fy(){let e="",a,s=[],r,n;function d(l,i){if(l===""){o(i);return}if(l.startsWith(":"))return;const u=l.indexOf(":");if(u===-1){c(l,"");return}const m=l.slice(0,u),N=u+1,x=N<l.length&&l[N]===" "?l.slice(N+1):l.slice(N);c(m,x)}function o(l){s.length>0&&(l.enqueue({event:a,data:s.join(`
`),id:r,retry:n}),s=[],a=void 0,n=void 0)}function c(l,i){switch(l){case"event":a=i;break;case"data":s.push(i);break;case"id":r=i;break;case"retry":const u=parseInt(i,10);isNaN(u)||(n=u);break}}return new TransformStream({transform(l,i){const{lines:u,incompleteLine:m}=My(e,l);e=m;for(let N=0;N<u.length;N++)d(u[N],i)},flush(l){d(e,l),o(l)}})}function My(e,a){const s=[];let r=e;for(let n=0;n<a.length;){const d=a[n++];d===`
`?(s.push(r),r=""):d==="\r"?(s.push(r),r="",a[n]===`
`&&n++):r+=d}return{lines:s,incompleteLine:r}}function fa(e){const a={};return e.headers.forEach((s,r)=>{a[r]=s}),a}var Ey=({prefix:e,size:a=16,alphabet:s="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:r="-"}={})=>{const n=wd(s,a);if(e==null)return n;if(s.includes(r))throw new sr({argument:"separator",message:`The separator "${r}" must not be part of the alphabet "${s}".`});return d=>`${e}${r}${n(d)}`},xt=Ey();function Hy(e){return Object.fromEntries(Object.entries(e).filter(([a,s])=>s!=null))}function Hs(e){return e instanceof Error&&(e.name==="AbortError"||e.name==="TimeoutError")}function Vy({apiKey:e,environmentVariableName:a,apiKeyParameterName:s="apiKey",description:r}){if(typeof e=="string")return e;if(e!=null)throw new Da({message:`${r} API key must be a string.`});if(typeof process>"u")throw new Da({message:`${r} API key is missing. Pass it using the '${s}' parameter. Environment variables is not supported in this environment.`});if(e=gy[a],e==null)throw new Da({message:`${r} API key is missing. Pass it using the '${s}' parameter or the ${a} environment variable.`});if(typeof e!="string")throw new Da({message:`${r} API key must be a string. The value of the ${a} environment variable is not a string.`});return e}var $s=Symbol.for("vercel.ai.validator");function Xy(e){return{[$s]:!0,validate:e}}function Ly(e){return typeof e=="object"&&e!==null&&$s in e&&e[$s]===!0&&"validate"in e}function Jy(e){return Ly(e)?e:Ry(e)}function Ry(e){return Xy(a=>{const s=e.safeParse(a);return s.success?{success:!0,value:s.data}:{success:!1,error:s.error}})}function Dy({value:e,schema:a}){const s=Nr({value:e,schema:a});if(!s.success)throw It.wrap({value:e,cause:s.error});return s.value}function Nr({value:e,schema:a}){const s=Jy(a);try{if(s.validate==null)return{success:!0,value:e};const r=s.validate(e);return r.success?r:{success:!1,error:It.wrap({value:e,cause:r.error})}}catch(r){return{success:!1,error:It.wrap({value:e,cause:r})}}}function Ay({text:e,schema:a}){try{const s=ns.parse(e);return a==null?s:Dy({value:s,schema:a})}catch(s){throw Qt.isInstance(s)||It.isInstance(s)?s:new Qt({text:e,cause:s})}}function Jo({text:e,schema:a}){try{const s=ns.parse(e);if(a==null)return{success:!0,value:s,rawValue:s};const r=Nr({value:s,schema:a});return r.success?{...r,rawValue:s}:r}catch(s){return{success:!1,error:Qt.isInstance(s)?s:new Qt({text:e,cause:s})}}}function jn(e){try{return ns.parse(e),!0}catch{return!1}}function jr({provider:e,providerOptions:a,schema:s}){if(a?.[e]==null)return;const r=Nr({value:a[e],schema:s});if(!r.success)throw new sr({argument:"providerOptions",message:`invalid ${e} provider options`,cause:r.error});return r.value}var By=()=>globalThis.fetch,it=async({url:e,headers:a,body:s,failedResponseHandler:r,successfulResponseHandler:n,abortSignal:d,fetch:o})=>Ro({url:e,headers:{"Content-Type":"application/json",...a},body:{content:JSON.stringify(s),values:s},failedResponseHandler:r,successfulResponseHandler:n,abortSignal:d,fetch:o}),Wy=async({url:e,headers:a,formData:s,failedResponseHandler:r,successfulResponseHandler:n,abortSignal:d,fetch:o})=>Ro({url:e,headers:a,body:{content:s,values:Object.fromEntries(s.entries())},failedResponseHandler:r,successfulResponseHandler:n,abortSignal:d,fetch:o}),Ro=async({url:e,headers:a={},body:s,successfulResponseHandler:r,failedResponseHandler:n,abortSignal:d,fetch:o=By()})=>{try{const c=await o(e,{method:"POST",headers:Hy(a),body:s.content,signal:d}),l=fa(c);if(!c.ok){let i;try{i=await n({response:c,url:e,requestBodyValues:s.values})}catch(u){throw Hs(u)||_e.isInstance(u)?u:new _e({message:"Failed to process error response",cause:u,statusCode:c.status,url:e,responseHeaders:l,requestBodyValues:s.values})}throw i.value}try{return await r({response:c,url:e,requestBodyValues:s.values})}catch(i){throw i instanceof Error&&(Hs(i)||_e.isInstance(i))?i:new _e({message:"Failed to process successful response",cause:i,statusCode:c.status,url:e,responseHeaders:l,requestBodyValues:s.values})}}catch(c){if(Hs(c))throw c;if(c instanceof TypeError&&c.message==="fetch failed"){const l=c.cause;if(l!=null)throw new _e({message:`Cannot connect to API: ${l.message}`,cause:l,url:e,requestBodyValues:s.values,isRetryable:!0})}throw c}},Ty=({errorSchema:e,errorToMessage:a,isRetryable:s})=>async({response:r,url:n,requestBodyValues:d})=>{const o=await r.text(),c=fa(r);if(o.trim()==="")return{responseHeaders:c,value:new _e({message:r.statusText,url:n,requestBodyValues:d,statusCode:r.status,responseHeaders:c,responseBody:o,isRetryable:s?.(r)})};try{const l=Ay({text:o,schema:e});return{responseHeaders:c,value:new _e({message:a(l),url:n,requestBodyValues:d,statusCode:r.status,responseHeaders:c,responseBody:o,data:l,isRetryable:s?.(r,l)})}}catch{return{responseHeaders:c,value:new _e({message:r.statusText,url:n,requestBodyValues:d,statusCode:r.status,responseHeaders:c,responseBody:o,isRetryable:s?.(r)})}}},xr=e=>async({response:a})=>{const s=fa(a);if(a.body==null)throw new $c({});return{responseHeaders:s,value:a.body.pipeThrough(new TextDecoderStream).pipeThrough(fy()).pipeThrough(new TransformStream({transform({data:r},n){r!=="[DONE]"&&n.enqueue(Jo({text:r,schema:e}))}}))}},Ct=e=>async({response:a,url:s,requestBodyValues:r})=>{const n=await a.text(),d=Jo({text:n,schema:e}),o=fa(a);if(!d.success)throw new _e({message:"Invalid JSON response",cause:d.error,statusCode:a.status,responseHeaders:o,responseBody:n,url:s,requestBodyValues:r});return{responseHeaders:o,value:d.value,rawValue:d.rawValue}},ky=()=>async({response:e,url:a,requestBodyValues:s})=>{const r=fa(e);if(!e.body)throw new _e({message:"Response body is empty",url:a,requestBodyValues:s,statusCode:e.status,responseHeaders:r,responseBody:void 0});try{const n=await e.arrayBuffer();return{responseHeaders:r,value:new Uint8Array(n)}}catch(n){throw new _e({message:"Failed to read response as array buffer",url:a,requestBodyValues:s,statusCode:e.status,responseHeaders:r,responseBody:void 0,cause:n})}},{btoa:Fy,atob:Zy}=globalThis;function Sy(e){const a=e.replace(/-/g,"+").replace(/_/g,"/"),s=Zy(a);return Uint8Array.from(s,r=>r.codePointAt(0))}function Do(e){let a="";for(let s=0;s<e.length;s++)a+=String.fromCodePoint(e[s]);return Fy(a)}function _y(e){return e?.replace(/\/$/,"")}function Oy({prompt:e,useLegacyFunctionCalling:a=!1,systemMessageMode:s="system"}){const r=[],n=[];for(const{role:d,content:o}of e)switch(d){case"system":{switch(s){case"system":{r.push({role:"system",content:o});break}case"developer":{r.push({role:"developer",content:o});break}case"remove":{n.push({type:"other",message:"system messages are removed for this model"});break}default:{const c=s;throw new Error(`Unsupported system message mode: ${c}`)}}break}case"user":{if(o.length===1&&o[0].type==="text"){r.push({role:"user",content:o[0].text});break}r.push({role:"user",content:o.map((c,l)=>{var i,u,m,N;switch(c.type){case"text":return{type:"text",text:c.text};case"image":return{type:"image_url",image_url:{url:c.image instanceof URL?c.image.toString():`data:${(i=c.mimeType)!=null?i:"image/jpeg"};base64,${Do(c.image)}`,detail:(m=(u=c.providerMetadata)==null?void 0:u.openai)==null?void 0:m.imageDetail}};case"file":{if(c.data instanceof URL)throw new He({functionality:"'File content parts with URL data' functionality not supported."});switch(c.mimeType){case"audio/wav":return{type:"input_audio",input_audio:{data:c.data,format:"wav"}};case"audio/mp3":case"audio/mpeg":return{type:"input_audio",input_audio:{data:c.data,format:"mp3"}};case"application/pdf":return{type:"file",file:{filename:(N=c.filename)!=null?N:`part-${l}.pdf`,file_data:`data:application/pdf;base64,${c.data}`}};default:throw new He({functionality:`File content part type ${c.mimeType} in user messages`})}}}})});break}case"assistant":{let c="";const l=[];for(const i of o)switch(i.type){case"text":{c+=i.text;break}case"tool-call":{l.push({id:i.toolCallId,type:"function",function:{name:i.toolName,arguments:JSON.stringify(i.args)}});break}}if(a){if(l.length>1)throw new He({functionality:"useLegacyFunctionCalling with multiple tool calls in one message"});r.push({role:"assistant",content:c,function_call:l.length>0?l[0].function:void 0})}else r.push({role:"assistant",content:c,tool_calls:l.length>0?l:void 0});break}case"tool":{for(const c of o)a?r.push({role:"function",name:c.toolName,content:JSON.stringify(c.result)}):r.push({role:"tool",tool_call_id:c.toolCallId,content:JSON.stringify(c.result)});break}default:{const c=d;throw new Error(`Unsupported role: ${c}`)}}return{messages:r,warnings:n}}function xn(e){var a,s;return(s=(a=e?.content)==null?void 0:a.map(({token:r,logprob:n,top_logprobs:d})=>({token:r,logprob:n,topLogprobs:d?d.map(({token:o,logprob:c})=>({token:o,logprob:c})):[]})))!=null?s:void 0}function ts(e){switch(e){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"unknown"}}var gr=H({error:H({message:E(),type:E().nullish(),param:Hd().nullish(),code:xe([E(),z()]).nullish()})}),Ke=Ty({errorSchema:gr,errorToMessage:e=>e.error.message});function as({id:e,model:a,created:s}){return{id:e??void 0,modelId:a??void 0,timestamp:s!=null?new Date(s*1e3):void 0}}function Qy({mode:e,useLegacyFunctionCalling:a=!1,structuredOutputs:s}){var r;const n=(r=e.tools)!=null&&r.length?e.tools:void 0,d=[];if(n==null)return{tools:void 0,tool_choice:void 0,toolWarnings:d};const o=e.toolChoice;if(a){const i=[];for(const m of n)m.type==="provider-defined"?d.push({type:"unsupported-tool",tool:m}):i.push({name:m.name,description:m.description,parameters:m.parameters});if(o==null)return{functions:i,function_call:void 0,toolWarnings:d};switch(o.type){case"auto":case"none":case void 0:return{functions:i,function_call:void 0,toolWarnings:d};case"required":throw new He({functionality:"useLegacyFunctionCalling and toolChoice: required"});default:return{functions:i,function_call:{name:o.toolName},toolWarnings:d}}}const c=[];for(const i of n)i.type==="provider-defined"?d.push({type:"unsupported-tool",tool:i}):c.push({type:"function",function:{name:i.name,description:i.description,parameters:i.parameters,strict:s?!0:void 0}});if(o==null)return{tools:c,tool_choice:void 0,toolWarnings:d};const l=o.type;switch(l){case"auto":case"none":case"required":return{tools:c,tool_choice:l,toolWarnings:d};case"tool":return{tools:c,tool_choice:{type:"function",function:{name:o.toolName}},toolWarnings:d};default:{const i=l;throw new He({functionality:`Unsupported tool choice type: ${i}`})}}}var Iy=class{constructor(e,a,s){this.specificationVersion="v1",this.modelId=e,this.settings=a,this.config=s}get supportsStructuredOutputs(){var e;return(e=this.settings.structuredOutputs)!=null?e:Ps(this.modelId)}get defaultObjectGenerationMode(){return Cy(this.modelId)?"tool":this.supportsStructuredOutputs?"json":"tool"}get provider(){return this.config.provider}get supportsImageUrls(){return!this.settings.downloadImages}getArgs({mode:e,prompt:a,maxTokens:s,temperature:r,topP:n,topK:d,frequencyPenalty:o,presencePenalty:c,stopSequences:l,responseFormat:i,seed:u,providerMetadata:m}){var N,x,w,y,p,h,j,L;const f=e.type,T=[];d!=null&&T.push({type:"unsupported-setting",setting:"topK"}),i?.type==="json"&&i.schema!=null&&!this.supportsStructuredOutputs&&T.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format schema is only supported with structuredOutputs"});const V=this.settings.useLegacyFunctionCalling;if(V&&this.settings.parallelToolCalls===!0)throw new He({functionality:"useLegacyFunctionCalling with parallelToolCalls"});if(V&&this.supportsStructuredOutputs)throw new He({functionality:"structuredOutputs with useLegacyFunctionCalling"});const{messages:$,warnings:k}=Oy({prompt:a,useLegacyFunctionCalling:V,systemMessageMode:Yy(this.modelId)});T.push(...k);const W={model:this.modelId,logit_bias:this.settings.logitBias,logprobs:this.settings.logprobs===!0||typeof this.settings.logprobs=="number"?!0:void 0,top_logprobs:typeof this.settings.logprobs=="number"?this.settings.logprobs:typeof this.settings.logprobs=="boolean"&&this.settings.logprobs?0:void 0,user:this.settings.user,parallel_tool_calls:this.settings.parallelToolCalls,max_tokens:s,temperature:r,top_p:n,frequency_penalty:o,presence_penalty:c,response_format:i?.type==="json"?this.supportsStructuredOutputs&&i.schema!=null?{type:"json_schema",json_schema:{schema:i.schema,strict:!0,name:(N=i.name)!=null?N:"response",description:i.description}}:{type:"json_object"}:void 0,stop:l,seed:u,max_completion_tokens:(x=m?.openai)==null?void 0:x.maxCompletionTokens,store:(w=m?.openai)==null?void 0:w.store,metadata:(y=m?.openai)==null?void 0:y.metadata,prediction:(p=m?.openai)==null?void 0:p.prediction,reasoning_effort:(j=(h=m?.openai)==null?void 0:h.reasoningEffort)!=null?j:this.settings.reasoningEffort,messages:$};switch(Ps(this.modelId)?(W.temperature!=null&&(W.temperature=void 0,T.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for reasoning models"})),W.top_p!=null&&(W.top_p=void 0,T.push({type:"unsupported-setting",setting:"topP",details:"topP is not supported for reasoning models"})),W.frequency_penalty!=null&&(W.frequency_penalty=void 0,T.push({type:"unsupported-setting",setting:"frequencyPenalty",details:"frequencyPenalty is not supported for reasoning models"})),W.presence_penalty!=null&&(W.presence_penalty=void 0,T.push({type:"unsupported-setting",setting:"presencePenalty",details:"presencePenalty is not supported for reasoning models"})),W.logit_bias!=null&&(W.logit_bias=void 0,T.push({type:"other",message:"logitBias is not supported for reasoning models"})),W.logprobs!=null&&(W.logprobs=void 0,T.push({type:"other",message:"logprobs is not supported for reasoning models"})),W.top_logprobs!=null&&(W.top_logprobs=void 0,T.push({type:"other",message:"topLogprobs is not supported for reasoning models"})),W.max_tokens!=null&&(W.max_completion_tokens==null&&(W.max_completion_tokens=W.max_tokens),W.max_tokens=void 0)):(this.modelId.startsWith("gpt-4o-search-preview")||this.modelId.startsWith("gpt-4o-mini-search-preview"))&&W.temperature!=null&&(W.temperature=void 0,T.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for the search preview models and has been removed."})),f){case"regular":{const{tools:U,tool_choice:P,functions:S,function_call:C,toolWarnings:g}=Qy({mode:e,useLegacyFunctionCalling:V,structuredOutputs:this.supportsStructuredOutputs});return{args:{...W,tools:U,tool_choice:P,functions:S,function_call:C},warnings:[...T,...g]}}case"object-json":return{args:{...W,response_format:this.supportsStructuredOutputs&&e.schema!=null?{type:"json_schema",json_schema:{schema:e.schema,strict:!0,name:(L=e.name)!=null?L:"response",description:e.description}}:{type:"json_object"}},warnings:T};case"object-tool":return{args:V?{...W,function_call:{name:e.tool.name},functions:[{name:e.tool.name,description:e.tool.description,parameters:e.tool.parameters}]}:{...W,tool_choice:{type:"function",function:{name:e.tool.name}},tools:[{type:"function",function:{name:e.tool.name,description:e.tool.description,parameters:e.tool.parameters,strict:this.supportsStructuredOutputs?!0:void 0}}]},warnings:T};default:{const U=f;throw new Error(`Unsupported type: ${U}`)}}}async doGenerate(e){var a,s,r,n,d,o,c,l;const{args:i,warnings:u}=this.getArgs(e),{responseHeaders:m,value:N,rawValue:x}=await it({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:qe(this.config.headers(),e.headers),body:i,failedResponseHandler:Ke,successfulResponseHandler:Ct(Gy),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:w,...y}=i,p=N.choices[0],h=(a=N.usage)==null?void 0:a.completion_tokens_details,j=(s=N.usage)==null?void 0:s.prompt_tokens_details,L={openai:{}};return h?.reasoning_tokens!=null&&(L.openai.reasoningTokens=h?.reasoning_tokens),h?.accepted_prediction_tokens!=null&&(L.openai.acceptedPredictionTokens=h?.accepted_prediction_tokens),h?.rejected_prediction_tokens!=null&&(L.openai.rejectedPredictionTokens=h?.rejected_prediction_tokens),j?.cached_tokens!=null&&(L.openai.cachedPromptTokens=j?.cached_tokens),{text:(r=p.message.content)!=null?r:void 0,toolCalls:this.settings.useLegacyFunctionCalling&&p.message.function_call?[{toolCallType:"function",toolCallId:xt(),toolName:p.message.function_call.name,args:p.message.function_call.arguments}]:(n=p.message.tool_calls)==null?void 0:n.map(f=>{var T;return{toolCallType:"function",toolCallId:(T=f.id)!=null?T:xt(),toolName:f.function.name,args:f.function.arguments}}),finishReason:ts(p.finish_reason),usage:{promptTokens:(o=(d=N.usage)==null?void 0:d.prompt_tokens)!=null?o:NaN,completionTokens:(l=(c=N.usage)==null?void 0:c.completion_tokens)!=null?l:NaN},rawCall:{rawPrompt:w,rawSettings:y},rawResponse:{headers:m,body:x},request:{body:JSON.stringify(i)},response:as(N),warnings:u,logprobs:xn(p.logprobs),providerMetadata:L}}async doStream(e){if(this.settings.simulateStreaming){const y=await this.doGenerate(e);return{stream:new ReadableStream({start(h){if(h.enqueue({type:"response-metadata",...y.response}),y.text&&h.enqueue({type:"text-delta",textDelta:y.text}),y.toolCalls)for(const j of y.toolCalls)h.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:j.toolCallId,toolName:j.toolName,argsTextDelta:j.args}),h.enqueue({type:"tool-call",...j});h.enqueue({type:"finish",finishReason:y.finishReason,usage:y.usage,logprobs:y.logprobs,providerMetadata:y.providerMetadata}),h.close()}}),rawCall:y.rawCall,rawResponse:y.rawResponse,warnings:y.warnings}}const{args:a,warnings:s}=this.getArgs(e),r={...a,stream:!0,stream_options:this.config.compatibility==="strict"?{include_usage:!0}:void 0},{responseHeaders:n,value:d}=await it({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:qe(this.config.headers(),e.headers),body:r,failedResponseHandler:Ke,successfulResponseHandler:xr(Uy),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:o,...c}=a,l=[];let i="unknown",u={promptTokens:void 0,completionTokens:void 0},m,N=!0;const{useLegacyFunctionCalling:x}=this.settings,w={openai:{}};return{stream:d.pipeThrough(new TransformStream({transform(y,p){var h,j,L,f,T,V,$,k,W,U,P,S;if(!y.success){i="error",p.enqueue({type:"error",error:y.error});return}const C=y.value;if("error"in C){i="error",p.enqueue({type:"error",error:C.error});return}if(N&&(N=!1,p.enqueue({type:"response-metadata",...as(C)})),C.usage!=null){const{prompt_tokens:ae,completion_tokens:b,prompt_tokens_details:M,completion_tokens_details:B}=C.usage;u={promptTokens:ae??void 0,completionTokens:b??void 0},B?.reasoning_tokens!=null&&(w.openai.reasoningTokens=B?.reasoning_tokens),B?.accepted_prediction_tokens!=null&&(w.openai.acceptedPredictionTokens=B?.accepted_prediction_tokens),B?.rejected_prediction_tokens!=null&&(w.openai.rejectedPredictionTokens=B?.rejected_prediction_tokens),M?.cached_tokens!=null&&(w.openai.cachedPromptTokens=M?.cached_tokens)}const g=C.choices[0];if(g?.finish_reason!=null&&(i=ts(g.finish_reason)),g?.delta==null)return;const F=g.delta;F.content!=null&&p.enqueue({type:"text-delta",textDelta:F.content});const ne=xn(g?.logprobs);ne?.length&&(m===void 0&&(m=[]),m.push(...ne));const ve=x&&F.function_call!=null?[{type:"function",id:xt(),function:F.function_call,index:0}]:F.tool_calls;if(ve!=null)for(const ae of ve){const b=ae.index;if(l[b]==null){if(ae.type!=="function")throw new ps({data:ae,message:"Expected 'function' type."});if(ae.id==null)throw new ps({data:ae,message:"Expected 'id' to be a string."});if(((h=ae.function)==null?void 0:h.name)==null)throw new ps({data:ae,message:"Expected 'function.name' to be a string."});l[b]={id:ae.id,type:"function",function:{name:ae.function.name,arguments:(j=ae.function.arguments)!=null?j:""},hasFinished:!1};const B=l[b];((L=B.function)==null?void 0:L.name)!=null&&((f=B.function)==null?void 0:f.arguments)!=null&&(B.function.arguments.length>0&&p.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:B.id,toolName:B.function.name,argsTextDelta:B.function.arguments}),jn(B.function.arguments)&&(p.enqueue({type:"tool-call",toolCallType:"function",toolCallId:(T=B.id)!=null?T:xt(),toolName:B.function.name,args:B.function.arguments}),B.hasFinished=!0));continue}const M=l[b];M.hasFinished||(((V=ae.function)==null?void 0:V.arguments)!=null&&(M.function.arguments+=(k=($=ae.function)==null?void 0:$.arguments)!=null?k:""),p.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:M.id,toolName:M.function.name,argsTextDelta:(W=ae.function.arguments)!=null?W:""}),((U=M.function)==null?void 0:U.name)!=null&&((P=M.function)==null?void 0:P.arguments)!=null&&jn(M.function.arguments)&&(p.enqueue({type:"tool-call",toolCallType:"function",toolCallId:(S=M.id)!=null?S:xt(),toolName:M.function.name,args:M.function.arguments}),M.hasFinished=!0))}},flush(y){var p,h;y.enqueue({type:"finish",finishReason:i,logprobs:m,usage:{promptTokens:(p=u.promptTokens)!=null?p:NaN,completionTokens:(h=u.completionTokens)!=null?h:NaN},...w!=null?{providerMetadata:w}:{}})}})),rawCall:{rawPrompt:o,rawSettings:c},rawResponse:{headers:n},request:{body:JSON.stringify(r)},warnings:s}}},Ao=H({prompt_tokens:z().nullish(),completion_tokens:z().nullish(),prompt_tokens_details:H({cached_tokens:z().nullish()}).nullish(),completion_tokens_details:H({reasoning_tokens:z().nullish(),accepted_prediction_tokens:z().nullish(),rejected_prediction_tokens:z().nullish()}).nullish()}).nullish(),Gy=H({id:E().nullish(),created:z().nullish(),model:E().nullish(),choices:ie(H({message:H({role:te("assistant").nullish(),content:E().nullish(),function_call:H({arguments:E(),name:E()}).nullish(),tool_calls:ie(H({id:E().nullish(),type:te("function"),function:H({name:E(),arguments:E()})})).nullish()}),index:z(),logprobs:H({content:ie(H({token:E(),logprob:z(),top_logprobs:ie(H({token:E(),logprob:z()}))})).nullable()}).nullish(),finish_reason:E().nullish()})),usage:Ao}),Uy=xe([H({id:E().nullish(),created:z().nullish(),model:E().nullish(),choices:ie(H({delta:H({role:ir(["assistant"]).nullish(),content:E().nullish(),function_call:H({name:E().optional(),arguments:E().optional()}).nullish(),tool_calls:ie(H({index:z(),id:E().nullish(),type:te("function").nullish(),function:H({name:E().nullish(),arguments:E().nullish()})})).nullish()}).nullish(),logprobs:H({content:ie(H({token:E(),logprob:z(),top_logprobs:ie(H({token:E(),logprob:z()}))})).nullable()}).nullish(),finish_reason:E().nullish(),index:z()})),usage:Ao}),gr]);function Ps(e){return e.startsWith("o")}function Cy(e){return e.startsWith("gpt-4o-audio-preview")}function Yy(e){var a,s;return Ps(e)?(s=(a=zy[e])==null?void 0:a.systemMessageMode)!=null?s:"developer":"system"}var zy={"o1-mini":{systemMessageMode:"remove"},"o1-mini-2024-09-12":{systemMessageMode:"remove"},"o1-preview":{systemMessageMode:"remove"},"o1-preview-2024-09-12":{systemMessageMode:"remove"},o3:{systemMessageMode:"developer"},"o3-2025-04-16":{systemMessageMode:"developer"},"o3-mini":{systemMessageMode:"developer"},"o3-mini-2025-01-31":{systemMessageMode:"developer"},"o4-mini":{systemMessageMode:"developer"},"o4-mini-2025-04-16":{systemMessageMode:"developer"}};function $y({prompt:e,inputFormat:a,user:s="user",assistant:r="assistant"}){if(a==="prompt"&&e.length===1&&e[0].role==="user"&&e[0].content.length===1&&e[0].content[0].type==="text")return{prompt:e[0].content[0].text};let n="";e[0].role==="system"&&(n+=`${e[0].content}

`,e=e.slice(1));for(const{role:d,content:o}of e)switch(d){case"system":throw new rt({message:"Unexpected system message in prompt: ${content}",prompt:e});case"user":{const c=o.map(l=>{switch(l.type){case"text":return l.text;case"image":throw new He({functionality:"images"})}}).join("");n+=`${s}:
${c}

`;break}case"assistant":{const c=o.map(l=>{switch(l.type){case"text":return l.text;case"tool-call":throw new He({functionality:"tool-call messages"})}}).join("");n+=`${r}:
${c}

`;break}case"tool":throw new He({functionality:"tool messages"});default:{const c=d;throw new Error(`Unsupported role: ${c}`)}}return n+=`${r}:
`,{prompt:n,stopSequences:[`
${s}:`]}}function gn(e){return e?.tokens.map((a,s)=>({token:a,logprob:e.token_logprobs[s],topLogprobs:e.top_logprobs?Object.entries(e.top_logprobs[s]).map(([r,n])=>({token:r,logprob:n})):[]}))}var Py=class{constructor(e,a,s){this.specificationVersion="v1",this.defaultObjectGenerationMode=void 0,this.modelId=e,this.settings=a,this.config=s}get provider(){return this.config.provider}getArgs({mode:e,inputFormat:a,prompt:s,maxTokens:r,temperature:n,topP:d,topK:o,frequencyPenalty:c,presencePenalty:l,stopSequences:i,responseFormat:u,seed:m}){var N;const x=e.type,w=[];o!=null&&w.push({type:"unsupported-setting",setting:"topK"}),u!=null&&u.type!=="text"&&w.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format is not supported."});const{prompt:y,stopSequences:p}=$y({prompt:s,inputFormat:a}),h=[...p??[],...i??[]],j={model:this.modelId,echo:this.settings.echo,logit_bias:this.settings.logitBias,logprobs:typeof this.settings.logprobs=="number"?this.settings.logprobs:typeof this.settings.logprobs=="boolean"&&this.settings.logprobs?0:void 0,suffix:this.settings.suffix,user:this.settings.user,max_tokens:r,temperature:n,top_p:d,frequency_penalty:c,presence_penalty:l,seed:m,prompt:y,stop:h.length>0?h:void 0};switch(x){case"regular":{if((N=e.tools)!=null&&N.length)throw new He({functionality:"tools"});if(e.toolChoice)throw new He({functionality:"toolChoice"});return{args:j,warnings:w}}case"object-json":throw new He({functionality:"object-json mode"});case"object-tool":throw new He({functionality:"object-tool mode"});default:{const L=x;throw new Error(`Unsupported type: ${L}`)}}}async doGenerate(e){const{args:a,warnings:s}=this.getArgs(e),{responseHeaders:r,value:n,rawValue:d}=await it({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:qe(this.config.headers(),e.headers),body:a,failedResponseHandler:Ke,successfulResponseHandler:Ct(qy),abortSignal:e.abortSignal,fetch:this.config.fetch}),{prompt:o,...c}=a,l=n.choices[0];return{text:l.text,usage:{promptTokens:n.usage.prompt_tokens,completionTokens:n.usage.completion_tokens},finishReason:ts(l.finish_reason),logprobs:gn(l.logprobs),rawCall:{rawPrompt:o,rawSettings:c},rawResponse:{headers:r,body:d},response:as(n),warnings:s,request:{body:JSON.stringify(a)}}}async doStream(e){const{args:a,warnings:s}=this.getArgs(e),r={...a,stream:!0,stream_options:this.config.compatibility==="strict"?{include_usage:!0}:void 0},{responseHeaders:n,value:d}=await it({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:qe(this.config.headers(),e.headers),body:r,failedResponseHandler:Ke,successfulResponseHandler:xr(Ky),abortSignal:e.abortSignal,fetch:this.config.fetch}),{prompt:o,...c}=a;let l="unknown",i={promptTokens:Number.NaN,completionTokens:Number.NaN},u,m=!0;return{stream:d.pipeThrough(new TransformStream({transform(N,x){if(!N.success){l="error",x.enqueue({type:"error",error:N.error});return}const w=N.value;if("error"in w){l="error",x.enqueue({type:"error",error:w.error});return}m&&(m=!1,x.enqueue({type:"response-metadata",...as(w)})),w.usage!=null&&(i={promptTokens:w.usage.prompt_tokens,completionTokens:w.usage.completion_tokens});const y=w.choices[0];y?.finish_reason!=null&&(l=ts(y.finish_reason)),y?.text!=null&&x.enqueue({type:"text-delta",textDelta:y.text});const p=gn(y?.logprobs);p?.length&&(u===void 0&&(u=[]),u.push(...p))},flush(N){N.enqueue({type:"finish",finishReason:l,logprobs:u,usage:i})}})),rawCall:{rawPrompt:o,rawSettings:c},rawResponse:{headers:n},warnings:s,request:{body:JSON.stringify(r)}}}},qy=H({id:E().nullish(),created:z().nullish(),model:E().nullish(),choices:ie(H({text:E(),finish_reason:E(),logprobs:H({tokens:ie(E()),token_logprobs:ie(z()),top_logprobs:ie(ua(E(),z())).nullable()}).nullish()})),usage:H({prompt_tokens:z(),completion_tokens:z()})}),Ky=xe([H({id:E().nullish(),created:z().nullish(),model:E().nullish(),choices:ie(H({text:E(),finish_reason:E().nullish(),index:z(),logprobs:H({tokens:ie(E()),token_logprobs:ie(z()),top_logprobs:ie(ua(E(),z())).nullable()}).nullish()})),usage:H({prompt_tokens:z(),completion_tokens:z()}).nullish()}),gr]),eb=class{constructor(e,a,s){this.specificationVersion="v1",this.modelId=e,this.settings=a,this.config=s}get provider(){return this.config.provider}get maxEmbeddingsPerCall(){var e;return(e=this.settings.maxEmbeddingsPerCall)!=null?e:2048}get supportsParallelCalls(){var e;return(e=this.settings.supportsParallelCalls)!=null?e:!0}async doEmbed({values:e,headers:a,abortSignal:s}){if(e.length>this.maxEmbeddingsPerCall)throw new sl({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:e});const{responseHeaders:r,value:n}=await it({url:this.config.url({path:"/embeddings",modelId:this.modelId}),headers:qe(this.config.headers(),a),body:{model:this.modelId,input:e,encoding_format:"float",dimensions:this.settings.dimensions,user:this.settings.user},failedResponseHandler:Ke,successfulResponseHandler:Ct(tb),abortSignal:s,fetch:this.config.fetch});return{embeddings:n.data.map(d=>d.embedding),usage:n.usage?{tokens:n.usage.prompt_tokens}:void 0,rawResponse:{headers:r}}}},tb=H({data:ie(H({embedding:ie(z())})),usage:H({prompt_tokens:z()}).nullish()}),ab={"dall-e-3":1,"dall-e-2":10,"gpt-image-1":10},sb=new Set(["gpt-image-1"]),rb=class{constructor(e,a,s){this.modelId=e,this.settings=a,this.config=s,this.specificationVersion="v1"}get maxImagesPerCall(){var e,a;return(a=(e=this.settings.maxImagesPerCall)!=null?e:ab[this.modelId])!=null?a:1}get provider(){return this.config.provider}async doGenerate({prompt:e,n:a,size:s,aspectRatio:r,seed:n,providerOptions:d,headers:o,abortSignal:c}){var l,i,u,m;const N=[];r!=null&&N.push({type:"unsupported-setting",setting:"aspectRatio",details:"This model does not support aspect ratio. Use `size` instead."}),n!=null&&N.push({type:"unsupported-setting",setting:"seed"});const x=(u=(i=(l=this.config._internal)==null?void 0:l.currentDate)==null?void 0:i.call(l))!=null?u:new Date,{value:w,responseHeaders:y}=await it({url:this.config.url({path:"/images/generations",modelId:this.modelId}),headers:qe(this.config.headers(),o),body:{model:this.modelId,prompt:e,n:a,size:s,...(m=d.openai)!=null?m:{},...sb.has(this.modelId)?{}:{response_format:"b64_json"}},failedResponseHandler:Ke,successfulResponseHandler:Ct(nb),abortSignal:c,fetch:this.config.fetch});return{images:w.data.map(p=>p.b64_json),warnings:N,response:{timestamp:x,modelId:this.modelId,headers:y}}}},nb=H({data:ie(H({b64_json:E()}))}),db=H({include:ie(E()).nullish(),language:E().nullish(),prompt:E().nullish(),temperature:z().min(0).max(1).nullish().default(0),timestampGranularities:ie(ir(["word","segment"])).nullish().default(["segment"])}),fn={afrikaans:"af",arabic:"ar",armenian:"hy",azerbaijani:"az",belarusian:"be",bosnian:"bs",bulgarian:"bg",catalan:"ca",chinese:"zh",croatian:"hr",czech:"cs",danish:"da",dutch:"nl",english:"en",estonian:"et",finnish:"fi",french:"fr",galician:"gl",german:"de",greek:"el",hebrew:"he",hindi:"hi",hungarian:"hu",icelandic:"is",indonesian:"id",italian:"it",japanese:"ja",kannada:"kn",kazakh:"kk",korean:"ko",latvian:"lv",lithuanian:"lt",macedonian:"mk",malay:"ms",marathi:"mr",maori:"mi",nepali:"ne",norwegian:"no",persian:"fa",polish:"pl",portuguese:"pt",romanian:"ro",russian:"ru",serbian:"sr",slovak:"sk",slovenian:"sl",spanish:"es",swahili:"sw",swedish:"sv",tagalog:"tl",tamil:"ta",thai:"th",turkish:"tr",ukrainian:"uk",urdu:"ur",vietnamese:"vi",welsh:"cy"},ob=class{constructor(e,a){this.modelId=e,this.config=a,this.specificationVersion="v1"}get provider(){return this.config.provider}getArgs({audio:e,mediaType:a,providerOptions:s}){var r,n,d,o,c;const l=[],i=jr({provider:"openai",providerOptions:s,schema:db}),u=new FormData,m=e instanceof Uint8Array?new Blob([e]):new Blob([Sy(e)]);if(u.append("model",this.modelId),u.append("file",new File([m],"audio",{type:a})),i){const N={include:(r=i.include)!=null?r:void 0,language:(n=i.language)!=null?n:void 0,prompt:(d=i.prompt)!=null?d:void 0,temperature:(o=i.temperature)!=null?o:void 0,timestamp_granularities:(c=i.timestampGranularities)!=null?c:void 0};for(const x in N){const w=N[x];w!==void 0&&u.append(x,String(w))}}return{formData:u,warnings:l}}async doGenerate(e){var a,s,r,n,d,o;const c=(r=(s=(a=this.config._internal)==null?void 0:a.currentDate)==null?void 0:s.call(a))!=null?r:new Date,{formData:l,warnings:i}=this.getArgs(e),{value:u,responseHeaders:m,rawValue:N}=await Wy({url:this.config.url({path:"/audio/transcriptions",modelId:this.modelId}),headers:qe(this.config.headers(),e.headers),formData:l,failedResponseHandler:Ke,successfulResponseHandler:Ct(ib),abortSignal:e.abortSignal,fetch:this.config.fetch}),x=u.language!=null&&u.language in fn?fn[u.language]:void 0;return{text:u.text,segments:(d=(n=u.words)==null?void 0:n.map(w=>({text:w.word,startSecond:w.start,endSecond:w.end})))!=null?d:[],language:x,durationInSeconds:(o=u.duration)!=null?o:void 0,warnings:i,response:{timestamp:c,modelId:this.modelId,headers:m,body:N}}}},ib=H({text:E(),language:E().nullish(),duration:z().nullish(),words:ie(H({word:E(),start:z(),end:z()})).nullish()});function cb({prompt:e,systemMessageMode:a}){const s=[],r=[];for(const{role:n,content:d}of e)switch(n){case"system":{switch(a){case"system":{s.push({role:"system",content:d});break}case"developer":{s.push({role:"developer",content:d});break}case"remove":{r.push({type:"other",message:"system messages are removed for this model"});break}default:{const o=a;throw new Error(`Unsupported system message mode: ${o}`)}}break}case"user":{s.push({role:"user",content:d.map((o,c)=>{var l,i,u,m;switch(o.type){case"text":return{type:"input_text",text:o.text};case"image":return{type:"input_image",image_url:o.image instanceof URL?o.image.toString():`data:${(l=o.mimeType)!=null?l:"image/jpeg"};base64,${Do(o.image)}`,detail:(u=(i=o.providerMetadata)==null?void 0:i.openai)==null?void 0:u.imageDetail};case"file":{if(o.data instanceof URL)throw new He({functionality:"File URLs in user messages"});switch(o.mimeType){case"application/pdf":return{type:"input_file",filename:(m=o.filename)!=null?m:`part-${c}.pdf`,file_data:`data:application/pdf;base64,${o.data}`};default:throw new He({functionality:"Only PDF files are supported in user messages"})}}}})});break}case"assistant":{for(const o of d)switch(o.type){case"text":{s.push({role:"assistant",content:[{type:"output_text",text:o.text}]});break}case"tool-call":{s.push({type:"function_call",call_id:o.toolCallId,name:o.toolName,arguments:JSON.stringify(o.args)});break}}break}case"tool":{for(const o of d)s.push({type:"function_call_output",call_id:o.toolCallId,output:JSON.stringify(o.result)});break}default:{const o=n;throw new Error(`Unsupported role: ${o}`)}}return{messages:s,warnings:r}}function Mn({finishReason:e,hasToolCalls:a}){switch(e){case void 0:case null:return a?"tool-calls":"stop";case"max_output_tokens":return"length";case"content_filter":return"content-filter";default:return a?"tool-calls":"unknown"}}function lb({mode:e,strict:a}){var s;const r=(s=e.tools)!=null&&s.length?e.tools:void 0,n=[];if(r==null)return{tools:void 0,tool_choice:void 0,toolWarnings:n};const d=e.toolChoice,o=[];for(const l of r)switch(l.type){case"function":o.push({type:"function",name:l.name,description:l.description,parameters:l.parameters,strict:a?!0:void 0});break;case"provider-defined":switch(l.id){case"openai.web_search_preview":o.push({type:"web_search_preview",search_context_size:l.args.searchContextSize,user_location:l.args.userLocation});break;default:n.push({type:"unsupported-tool",tool:l});break}break;default:n.push({type:"unsupported-tool",tool:l});break}if(d==null)return{tools:o,tool_choice:void 0,toolWarnings:n};const c=d.type;switch(c){case"auto":case"none":case"required":return{tools:o,tool_choice:c,toolWarnings:n};case"tool":return d.toolName==="web_search_preview"?{tools:o,tool_choice:{type:"web_search_preview"},toolWarnings:n}:{tools:o,tool_choice:{type:"function",name:d.toolName},toolWarnings:n};default:{const l=c;throw new He({functionality:`Unsupported tool choice type: ${l}`})}}}var ub=class{constructor(e,a){this.specificationVersion="v1",this.defaultObjectGenerationMode="json",this.supportsStructuredOutputs=!0,this.modelId=e,this.config=a}get provider(){return this.config.provider}getArgs({mode:e,maxTokens:a,temperature:s,stopSequences:r,topP:n,topK:d,presencePenalty:o,frequencyPenalty:c,seed:l,prompt:i,providerMetadata:u,responseFormat:m}){var N,x,w;const y=[],p=Lb(this.modelId),h=e.type;d!=null&&y.push({type:"unsupported-setting",setting:"topK"}),l!=null&&y.push({type:"unsupported-setting",setting:"seed"}),o!=null&&y.push({type:"unsupported-setting",setting:"presencePenalty"}),c!=null&&y.push({type:"unsupported-setting",setting:"frequencyPenalty"}),r!=null&&y.push({type:"unsupported-setting",setting:"stopSequences"});const{messages:j,warnings:L}=cb({prompt:i,systemMessageMode:p.systemMessageMode});y.push(...L);const f=jr({provider:"openai",providerOptions:u,schema:Jb}),T=(N=f?.strictSchemas)!=null?N:!0,V={model:this.modelId,input:j,temperature:s,top_p:n,max_output_tokens:a,...m?.type==="json"&&{text:{format:m.schema!=null?{type:"json_schema",strict:T,name:(x=m.name)!=null?x:"response",description:m.description,schema:m.schema}:{type:"json_object"}}},metadata:f?.metadata,parallel_tool_calls:f?.parallelToolCalls,previous_response_id:f?.previousResponseId,store:f?.store,user:f?.user,instructions:f?.instructions,...p.isReasoningModel&&(f?.reasoningEffort!=null||f?.reasoningSummary!=null)&&{reasoning:{...f?.reasoningEffort!=null&&{effort:f.reasoningEffort},...f?.reasoningSummary!=null&&{summary:f.reasoningSummary}}},...p.requiredAutoTruncation&&{truncation:"auto"}};switch(p.isReasoningModel&&(V.temperature!=null&&(V.temperature=void 0,y.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for reasoning models"})),V.top_p!=null&&(V.top_p=void 0,y.push({type:"unsupported-setting",setting:"topP",details:"topP is not supported for reasoning models"}))),h){case"regular":{const{tools:$,tool_choice:k,toolWarnings:W}=lb({mode:e,strict:T});return{args:{...V,tools:$,tool_choice:k},warnings:[...y,...W]}}case"object-json":return{args:{...V,text:{format:e.schema!=null?{type:"json_schema",strict:T,name:(w=e.name)!=null?w:"response",description:e.description,schema:e.schema}:{type:"json_object"}}},warnings:y};case"object-tool":return{args:{...V,tool_choice:{type:"function",name:e.tool.name},tools:[{type:"function",name:e.tool.name,description:e.tool.description,parameters:e.tool.parameters,strict:T}]},warnings:y};default:{const $=h;throw new Error(`Unsupported type: ${$}`)}}}async doGenerate(e){var a,s,r,n,d,o,c;const{args:l,warnings:i}=this.getArgs(e),{responseHeaders:u,value:m,rawValue:N}=await it({url:this.config.url({path:"/responses",modelId:this.modelId}),headers:qe(this.config.headers(),e.headers),body:l,failedResponseHandler:Ke,successfulResponseHandler:Ct(H({id:E(),created_at:z(),model:E(),output:ie(or("type",[H({type:te("message"),role:te("assistant"),content:ie(H({type:te("output_text"),text:E(),annotations:ie(H({type:te("url_citation"),start_index:z(),end_index:z(),url:E(),title:E()}))}))}),H({type:te("function_call"),call_id:E(),name:E(),arguments:E()}),H({type:te("web_search_call")}),H({type:te("computer_call")}),H({type:te("reasoning"),summary:ie(H({type:te("summary_text"),text:E()}))})])),incomplete_details:H({reason:E()}).nullable(),usage:Bo})),abortSignal:e.abortSignal,fetch:this.config.fetch}),x=m.output.filter(p=>p.type==="message").flatMap(p=>p.content).filter(p=>p.type==="output_text"),w=m.output.filter(p=>p.type==="function_call").map(p=>({toolCallType:"function",toolCallId:p.call_id,toolName:p.name,args:p.arguments})),y=(s=(a=m.output.find(p=>p.type==="reasoning"))==null?void 0:a.summary)!=null?s:null;return{text:x.map(p=>p.text).join(`
`),sources:x.flatMap(p=>p.annotations.map(h=>{var j,L,f;return{sourceType:"url",id:(f=(L=(j=this.config).generateId)==null?void 0:L.call(j))!=null?f:xt(),url:h.url,title:h.title}})),finishReason:Mn({finishReason:(r=m.incomplete_details)==null?void 0:r.reason,hasToolCalls:w.length>0}),toolCalls:w.length>0?w:void 0,reasoning:y?y.map(p=>({type:"text",text:p.text})):void 0,usage:{promptTokens:m.usage.input_tokens,completionTokens:m.usage.output_tokens},rawCall:{rawPrompt:void 0,rawSettings:{}},rawResponse:{headers:u,body:N},request:{body:JSON.stringify(l)},response:{id:m.id,timestamp:new Date(m.created_at*1e3),modelId:m.model},providerMetadata:{openai:{responseId:m.id,cachedPromptTokens:(d=(n=m.usage.input_tokens_details)==null?void 0:n.cached_tokens)!=null?d:null,reasoningTokens:(c=(o=m.usage.output_tokens_details)==null?void 0:o.reasoning_tokens)!=null?c:null}},warnings:i}}async doStream(e){const{args:a,warnings:s}=this.getArgs(e),{responseHeaders:r,value:n}=await it({url:this.config.url({path:"/responses",modelId:this.modelId}),headers:qe(this.config.headers(),e.headers),body:{...a,stream:!0},failedResponseHandler:Ke,successfulResponseHandler:xr(jb),abortSignal:e.abortSignal,fetch:this.config.fetch}),d=this;let o="unknown",c=NaN,l=NaN,i=null,u=null,m=null;const N={};let x=!1;return{stream:n.pipeThrough(new TransformStream({transform(w,y){var p,h,j,L,f,T,V,$;if(!w.success){o="error",y.enqueue({type:"error",error:w.error});return}const k=w.value;if(Hb(k))k.item.type==="function_call"&&(N[k.output_index]={toolName:k.item.name,toolCallId:k.item.call_id},y.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:k.item.call_id,toolName:k.item.name,argsTextDelta:k.item.arguments}));else if(Eb(k)){const W=N[k.output_index];W!=null&&y.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:W.toolCallId,toolName:W.toolName,argsTextDelta:k.delta})}else Mb(k)?(m=k.response.id,y.enqueue({type:"response-metadata",id:k.response.id,timestamp:new Date(k.response.created_at*1e3),modelId:k.response.model})):xb(k)?y.enqueue({type:"text-delta",textDelta:k.delta}):Xb(k)?y.enqueue({type:"reasoning",textDelta:k.delta}):gb(k)&&k.item.type==="function_call"?(N[k.output_index]=void 0,x=!0,y.enqueue({type:"tool-call",toolCallType:"function",toolCallId:k.item.call_id,toolName:k.item.name,args:k.item.arguments})):fb(k)?(o=Mn({finishReason:(p=k.response.incomplete_details)==null?void 0:p.reason,hasToolCalls:x}),c=k.response.usage.input_tokens,l=k.response.usage.output_tokens,i=(j=(h=k.response.usage.input_tokens_details)==null?void 0:h.cached_tokens)!=null?j:i,u=(f=(L=k.response.usage.output_tokens_details)==null?void 0:L.reasoning_tokens)!=null?f:u):Vb(k)&&y.enqueue({type:"source",source:{sourceType:"url",id:($=(V=(T=d.config).generateId)==null?void 0:V.call(T))!=null?$:xt(),url:k.annotation.url,title:k.annotation.title}})},flush(w){w.enqueue({type:"finish",finishReason:o,usage:{promptTokens:c,completionTokens:l},...(i!=null||u!=null)&&{providerMetadata:{openai:{responseId:m,cachedPromptTokens:i,reasoningTokens:u}}}})}})),rawCall:{rawPrompt:void 0,rawSettings:{}},rawResponse:{headers:r},request:{body:JSON.stringify(a)},warnings:s}}},Bo=H({input_tokens:z(),input_tokens_details:H({cached_tokens:z().nullish()}).nullish(),output_tokens:z(),output_tokens_details:H({reasoning_tokens:z().nullish()}).nullish()}),mb=H({type:te("response.output_text.delta"),delta:E()}),vb=H({type:ir(["response.completed","response.incomplete"]),response:H({incomplete_details:H({reason:E()}).nullish(),usage:Bo})}),yb=H({type:te("response.created"),response:H({id:E(),created_at:z(),model:E()})}),bb=H({type:te("response.output_item.done"),output_index:z(),item:or("type",[H({type:te("message")}),H({type:te("function_call"),id:E(),call_id:E(),name:E(),arguments:E(),status:te("completed")})])}),pb=H({type:te("response.function_call_arguments.delta"),item_id:E(),output_index:z(),delta:E()}),hb=H({type:te("response.output_item.added"),output_index:z(),item:or("type",[H({type:te("message")}),H({type:te("function_call"),id:E(),call_id:E(),name:E(),arguments:E()})])}),wb=H({type:te("response.output_text.annotation.added"),annotation:H({type:te("url_citation"),url:E(),title:E()})}),Nb=H({type:te("response.reasoning_summary_text.delta"),item_id:E(),output_index:z(),summary_index:z(),delta:E()}),jb=xe([mb,vb,yb,bb,pb,hb,wb,Nb,H({type:E()}).passthrough()]);function xb(e){return e.type==="response.output_text.delta"}function gb(e){return e.type==="response.output_item.done"}function fb(e){return e.type==="response.completed"||e.type==="response.incomplete"}function Mb(e){return e.type==="response.created"}function Eb(e){return e.type==="response.function_call_arguments.delta"}function Hb(e){return e.type==="response.output_item.added"}function Vb(e){return e.type==="response.output_text.annotation.added"}function Xb(e){return e.type==="response.reasoning_summary_text.delta"}function Lb(e){return e.startsWith("o")?e.startsWith("o1-mini")||e.startsWith("o1-preview")?{isReasoningModel:!0,systemMessageMode:"remove",requiredAutoTruncation:!1}:{isReasoningModel:!0,systemMessageMode:"developer",requiredAutoTruncation:!1}:{isReasoningModel:!1,systemMessageMode:"system",requiredAutoTruncation:!1}}var Jb=H({metadata:Hd().nullish(),parallelToolCalls:ze().nullish(),previousResponseId:E().nullish(),store:ze().nullish(),user:E().nullish(),reasoningEffort:E().nullish(),strictSchemas:ze().nullish(),instructions:E().nullish(),reasoningSummary:E().nullish()}),Rb=H({});function Db({searchContextSize:e,userLocation:a}={}){return{type:"provider-defined",id:"openai.web_search_preview",args:{searchContextSize:e,userLocation:a},parameters:Rb}}var Ab={webSearchPreview:Db},Bb=H({instructions:E().nullish(),speed:z().min(.25).max(4).default(1).nullish()}),Wb=class{constructor(e,a){this.modelId=e,this.config=a,this.specificationVersion="v1"}get provider(){return this.config.provider}getArgs({text:e,voice:a="alloy",outputFormat:s="mp3",speed:r,instructions:n,providerOptions:d}){const o=[],c=jr({provider:"openai",providerOptions:d,schema:Bb}),l={model:this.modelId,input:e,voice:a,response_format:"mp3",speed:r,instructions:n};if(s&&(["mp3","opus","aac","flac","wav","pcm"].includes(s)?l.response_format=s:o.push({type:"unsupported-setting",setting:"outputFormat",details:`Unsupported output format: ${s}. Using mp3 instead.`})),c){const i={};for(const u in i){const m=i[u];m!==void 0&&(l[u]=m)}}return{requestBody:l,warnings:o}}async doGenerate(e){var a,s,r;const n=(r=(s=(a=this.config._internal)==null?void 0:a.currentDate)==null?void 0:s.call(a))!=null?r:new Date,{requestBody:d,warnings:o}=this.getArgs(e),{value:c,responseHeaders:l,rawValue:i}=await it({url:this.config.url({path:"/audio/speech",modelId:this.modelId}),headers:qe(this.config.headers(),e.headers),body:d,failedResponseHandler:Ke,successfulResponseHandler:ky(),abortSignal:e.abortSignal,fetch:this.config.fetch});return{audio:c,warnings:o,request:{body:JSON.stringify(d)},response:{timestamp:n,modelId:this.modelId,headers:l,body:i}}}};function ss(e={}){var a,s,r;const n=(a=_y(e.baseURL))!=null?a:"https://api.openai.com/v1",d=(s=e.compatibility)!=null?s:"compatible",o=(r=e.name)!=null?r:"openai",c=()=>({Authorization:`Bearer ${Vy({apiKey:e.apiKey,environmentVariableName:"OPENAI_API_KEY",description:"OpenAI"})}`,"OpenAI-Organization":e.organization,"OpenAI-Project":e.project,...e.headers}),l=(h,j={})=>new Iy(h,j,{provider:`${o}.chat`,url:({path:L})=>`${n}${L}`,headers:c,compatibility:d,fetch:e.fetch}),i=(h,j={})=>new Py(h,j,{provider:`${o}.completion`,url:({path:L})=>`${n}${L}`,headers:c,compatibility:d,fetch:e.fetch}),u=(h,j={})=>new eb(h,j,{provider:`${o}.embedding`,url:({path:L})=>`${n}${L}`,headers:c,fetch:e.fetch}),m=(h,j={})=>new rb(h,j,{provider:`${o}.image`,url:({path:L})=>`${n}${L}`,headers:c,fetch:e.fetch}),N=h=>new ob(h,{provider:`${o}.transcription`,url:({path:j})=>`${n}${j}`,headers:c,fetch:e.fetch}),x=h=>new Wb(h,{provider:`${o}.speech`,url:({path:j})=>`${n}${j}`,headers:c,fetch:e.fetch}),w=(h,j)=>{if(new.target)throw new Error("The OpenAI model function cannot be called with the new keyword.");return h==="gpt-3.5-turbo-instruct"?i(h,j):l(h,j)},y=h=>new ub(h,{provider:`${o}.responses`,url:({path:j})=>`${n}${j}`,headers:c,fetch:e.fetch}),p=function(h,j){return w(h,j)};return p.languageModel=w,p.chat=l,p.completion=i,p.responses=y,p.embedding=u,p.textEmbedding=u,p.textEmbeddingModel=u,p.image=m,p.imageModel=m,p.transcription=N,p.transcriptionModel=N,p.speech=x,p.speechModel=x,p.tools=Ab,p}ss({compatibility:"strict"});const Tb=({event:e,isOpen:a,onClose:s})=>{const{settings:r,updateEvent:n}=Je(),[d,o]=X.useState(null),[c,l]=X.useState([]),[i,u]=X.useState([]),[m,N]=X.useState(!1),[x,w]=X.useState(8.5),[y,p]=X.useState(0),[h,j]=X.useState(""),[L,f]=X.useState(!1),[T,V]=X.useState(!1);X.useEffect(()=>{a&&e&&$()},[a,e]);const $=()=>{const J=`INV-${e.id.slice(-6).toUpperCase()}`,O=new Date().toISOString().split("T")[0],Z=new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],Y=e.pricing?.menuItems||[{id:"1",name:"Event Package",price:250,quantity:1,description:"Base event package"}],be=e.pricing?.deposits||[];l(Y),u(be),j(e.contact.email);const I=Y.reduce((ge,Re)=>ge+Re.price*Re.quantity,0),ue=(I-y)*(x/100),pe=I-y+ue,he=be.reduce((ge,Re)=>ge+Re.amount,0),ct={eventId:e.id,invoiceNumber:J,issueDate:O,dueDate:Z,customerInfo:{name:e.contact.name,email:e.contact.email,phone:e.contact.phone},eventDetails:{title:e.title,date:le(new Date(e.date),"MMMM dd, yyyy"),time:`${k(e.startTime)} - ${k(e.endTime)}`,venue:e.venue},lineItems:Y,subtotal:I,taxAmount:ue,discount:y,total:pe,amountPaid:he,remainingBalance:pe-he,terms:"Payment due within 30 days. Late payments may incur fees."};o(ct)},k=J=>{const[O,Z]=J.split(":").map(Number),Y=O>=12?"PM":"AM";return`${O===0?12:O>12?O-12:O}:${Z.toString().padStart(2,"0")} ${Y}`},W=()=>{const J={id:Date.now().toString(),name:"",price:0,quantity:1,description:""};l([...c,J])},U=(J,O,Z)=>{l(c.map(Y=>Y.id===J?{...Y,[O]:Z}:Y))},P=J=>{l(c.filter(O=>O.id!==J))},S=()=>{const J={id:Date.now().toString(),amount:0,method:"cash",date:new Date().toISOString().split("T")[0],notes:""};u([...i,J])},C=(J,O,Z)=>{u(i.map(Y=>Y.id===J?{...Y,[O]:Z}:Y))},g=J=>{u(i.filter(O=>O.id!==J))},F=()=>{const J=c.reduce((I,ue)=>I+ue.price*ue.quantity,0),O=(J-y)*(x/100),Z=J-y+O,Y=i.reduce((I,ue)=>I+ue.amount,0),be=Z-Y;return{subtotal:J,taxAmount:O,total:Z,amountPaid:Y,remainingBalance:be}},ne=()=>{const{subtotal:J,taxAmount:O,total:Z,amountPaid:Y,remainingBalance:be}=F(),I={mode:"custom",menuItems:c,personCount:0,pricePerPerson:0,customPlatters:[],subtotal:J,discount:{type:"fixed",value:y,amount:y},taxRate:x,taxAmount:O,includeTax:!0,total:Z,deposits:i,amountPaid:Y,remainingBalance:be};n(e.id,{pricing:I,paymentStatus:be<=0?"paid":"unpaid"}),N(!1)},ve=async()=>{if(!d)return;f(!0);const J=Date.now();console.log("ðŸ“„ Starting PDF generation for invoice:",{invoiceNumber:d.invoiceNumber,customer:d.customerInfo.name,total:d.total});try{const O=globalThis.ywConfig?.ai_config?.pdf_content_generator;if(!O)throw new Error("PDF generator configuration not found");const Z=ss({baseURL:"https://api.youware.com/public/v1/ai",apiKey:"sk-YOUWARE"}),Y=`${r.storeName}, ${r.storeEmail}, ${r.storePhone}`,{text:be}=await zs({model:Z(O.model),messages:[{role:"system",content:O.system_prompt({documentType:"invoice",businessInfo:Y})},{role:"user",content:`Generate a professional HTML invoice document with the following data:
            
Business: ${r.storeName}
Address: ${r.storeAddress}
Contact: ${r.storeEmail}, ${r.storePhone}

Invoice: ${d.invoiceNumber}
Date: ${d.issueDate}
Due Date: ${d.dueDate}

Customer: ${d.customerInfo.name}
Email: ${d.customerInfo.email}
Phone: ${d.customerInfo.phone}

Event: ${d.eventDetails.title}
Date: ${d.eventDetails.date}
Time: ${d.eventDetails.time}
Venue: ${d.eventDetails.venue}

Line Items:
${d.lineItems.map(he=>`- ${he.name}: $${he.price.toFixed(2)} x ${he.quantity} = $${(he.price*he.quantity).toFixed(2)}`).join(`
`)}

Subtotal: $${d.subtotal.toFixed(2)}
Discount: $${d.discount.toFixed(2)}
Tax (${x}%): $${d.taxAmount.toFixed(2)}
Total: $${d.total.toFixed(2)}

Deposits Paid:
${i.map(he=>`- ${he.date}: $${he.amount.toFixed(2)} (${he.method})`).join(`
`)}
Amount Paid: $${d.amountPaid.toFixed(2)}
Remaining Balance: $${d.remainingBalance.toFixed(2)}

Terms: ${d.terms}

Create a professional, printable HTML invoice with proper styling, company branding, and clear layout.`}],temperature:O.temperature||.3,maxTokens:O.maxTokens||6e3});console.log("âœ… PDF content generated successfully:",{contentLength:be.length,processingTime:`${Date.now()-J}ms`});const I=new Blob([be],{type:"text/html"}),ue=URL.createObjectURL(I),pe=document.createElement("a");pe.href=ue,pe.download=`${d.invoiceNumber}_${d.customerInfo.name.replace(/\s+/g,"_")}.html`,document.body.appendChild(pe),pe.click(),document.body.removeChild(pe),URL.revokeObjectURL(ue)}catch(O){console.error("âŒ PDF generation failed:",{error:O.message,processingTime:`${Date.now()-J}ms`}),alert(`PDF generation failed: ${O.message}`)}finally{f(!1)}},ae=async()=>{if(!d||!h)return;V(!0);const J=Date.now();console.log("ðŸ“§ Starting invoice email generation:",{recipient:h,invoiceNumber:d.invoiceNumber,customer:d.customerInfo.name});try{const O=globalThis.ywConfig?.ai_config?.email_generator;if(!O)throw new Error("Email generator configuration not found");const Z=ss({baseURL:"https://api.youware.com/public/v1/ai",apiKey:"sk-YOUWARE"}),Y=`${r.storeName} - Event Management & Catering`,{text:be}=await zs({model:Z(O.model),messages:[{role:"system",content:O.system_prompt({emailType:"invoice",businessContext:Y})},{role:"user",content:`Generate a professional invoice email for:

Business: ${r.storeName}
Customer: ${d.customerInfo.name}
Invoice: ${d.invoiceNumber}
Event: ${d.eventDetails.title}
Date: ${d.eventDetails.date}
Total: $${d.total.toFixed(2)}
Amount Paid: $${d.amountPaid.toFixed(2)}
Balance Due: $${d.remainingBalance.toFixed(2)}
Due Date: ${le(new Date(d.dueDate),"MMMM dd, yyyy")}

Include:
- Professional subject line
- Friendly greeting
- Invoice details summary
- Payment instructions
- Contact information
- Professional closing

Make it warm but professional, suitable for hospitality business.`}],temperature:O.temperature||.7,maxTokens:O.maxTokens||4e3});console.log("âœ… Email content generated successfully:",{contentLength:be.length,processingTime:`${Date.now()-J}ms`});const I=`Invoice ${d.invoiceNumber} - ${d.eventDetails.title}`,ue=encodeURIComponent(be),pe=`mailto:${h}?subject=${encodeURIComponent(I)}&body=${ue}`;window.open(pe),alert("Email client opened with generated invoice email content!")}catch(O){console.error("âŒ Email generation failed:",{error:O.message,processingTime:`${Date.now()-J}ms`}),alert(`Email generation failed: ${O.message}`)}finally{V(!1)}},{subtotal:b,taxAmount:M,total:B,amountPaid:q,remainingBalance:de}=F();return!a||!d?null:t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hAMzY5OjQ","data-yw-s":!0,children:t.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hAMzcwOjY","data-yw-s":!0,children:[t.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hAMzcyOjg","data-yw-s":!0,children:[t.jsxs("div",{className:"flex items-center gap-3","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hAMzczOjEw","data-yw-s":!0,children:[t.jsx(_t,{className:"h-6 w-6 text-amber-600","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hAMzc0OjEy","data-yw-s":!0}),t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hAMzc1OjEy","data-yw-s":!0,children:[t.jsx("h2",{className:"text-xl font-bold text-slate-800","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hAMzc2OjE0","data-yw-t":!0,"data-yw-s":!0,children:"Invoice"}),t.jsx("p",{className:"text-slate-600","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hAMzc3OjE0","data-yw-s":!0,children:d.invoiceNumber})]})]}),t.jsxs("div",{className:"flex items-center gap-2","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hAMzgwOjEw","data-yw-s":!0,children:[t.jsx("button",{onClick:()=>N(!m),className:"px-4 py-2 bg-slate-600 hover:bg-slate-700 text-white rounded-lg font-medium transition-colors","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hAMzgxOjEy","data-yw-s":!0,children:m?"Save Changes":"Edit Invoice"}),t.jsx("button",{onClick:s,className:"p-2 text-slate-600 hover:text-slate-800 transition-colors","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hAMzg3OjEy","data-yw-s":!0,children:t.jsx(Ot,{className:"h-5 w-5","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hAMzkxOjE0","data-yw-s":!0})})]})]}),t.jsxs("div",{className:"p-6","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hAMzk2Ojg","data-yw-s":!0,children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hAMzk4OjEw","data-yw-s":!0,children:[t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hAMzk5OjEy","data-yw-s":!0,children:[t.jsx("h3",{className:"font-semibold text-slate-800 mb-2","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANDAwOjE0","data-yw-t":!0,"data-yw-s":!0,children:"From:"}),t.jsxs("div",{className:"text-slate-600","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANDAxOjE0","data-yw-s":!0,children:[t.jsx("p",{className:"font-medium","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANDAyOjE2","data-yw-s":!0,children:r.storeName}),t.jsx("p",{"data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANDAzOjE2","data-yw-s":!0,children:r.storeAddress}),t.jsx("p",{"data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANDA0OjE2","data-yw-s":!0,children:r.storeEmail}),t.jsx("p",{"data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANDA1OjE2","data-yw-s":!0,children:r.storePhone})]})]}),t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANDA4OjEy","data-yw-s":!0,children:[t.jsx("h3",{className:"font-semibold text-slate-800 mb-2","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANDA5OjE0","data-yw-t":!0,"data-yw-s":!0,children:"Bill To:"}),t.jsxs("div",{className:"text-slate-600","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANDEwOjE0","data-yw-s":!0,children:[t.jsx("p",{className:"font-medium","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANDExOjE2","data-yw-s":!0,children:d.customerInfo.name}),t.jsx("p",{"data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANDEyOjE2","data-yw-s":!0,children:d.customerInfo.email}),t.jsx("p",{"data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANDEzOjE2","data-yw-s":!0,children:d.customerInfo.phone})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8 p-4 bg-slate-50 rounded-lg","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANDE5OjEw","data-yw-s":!0,children:[t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANDIwOjEy","data-yw-s":!0,children:[t.jsx("p",{className:"text-sm text-slate-600","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANDIxOjE0","data-yw-t":!0,"data-yw-s":!0,children:"Invoice Date"}),t.jsx("p",{className:"font-medium","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANDIyOjE0","data-yw-s":!0,children:le(new Date(d.issueDate),"MMM dd, yyyy")})]}),t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANDI0OjEy","data-yw-s":!0,children:[t.jsx("p",{className:"text-sm text-slate-600","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANDI1OjE0","data-yw-t":!0,"data-yw-s":!0,children:"Due Date"}),t.jsx("p",{className:"font-medium","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANDI2OjE0","data-yw-s":!0,children:le(new Date(d.dueDate),"MMM dd, yyyy")})]}),t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANDI4OjEy","data-yw-s":!0,children:[t.jsx("p",{className:"text-sm text-slate-600","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANDI5OjE0","data-yw-t":!0,"data-yw-s":!0,children:"Event Date"}),t.jsx("p",{className:"font-medium","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANDMwOjE0","data-yw-s":!0,children:d.eventDetails.date})]})]}),t.jsxs("div",{className:"mb-8","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANDM1OjEw","data-yw-s":!0,children:[t.jsx("h3",{className:"font-semibold text-slate-800 mb-4","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANDM2OjEy","data-yw-t":!0,"data-yw-s":!0,children:"Event Details"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 bg-blue-50 rounded-lg","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANDM3OjEy","data-yw-s":!0,children:[t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANDM4OjE0","data-yw-s":!0,children:[t.jsx("p",{className:"text-sm text-slate-600","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANDM5OjE2","data-yw-t":!0,"data-yw-s":!0,children:"Event"}),t.jsx("p",{className:"font-medium","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANDQwOjE2","data-yw-s":!0,children:d.eventDetails.title})]}),t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANDQyOjE0","data-yw-s":!0,children:[t.jsx("p",{className:"text-sm text-slate-600","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANDQzOjE2","data-yw-t":!0,"data-yw-s":!0,children:"Time"}),t.jsx("p",{className:"font-medium","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANDQ0OjE2","data-yw-s":!0,children:d.eventDetails.time})]}),t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANDQ2OjE0","data-yw-s":!0,children:[t.jsx("p",{className:"text-sm text-slate-600","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANDQ3OjE2","data-yw-t":!0,"data-yw-s":!0,children:"Venue"}),t.jsx("p",{className:"font-medium capitalize","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANDQ4OjE2","data-yw-s":!0,children:d.eventDetails.venue})]})]})]}),t.jsxs("div",{className:"mb-8","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANDU0OjEw","data-yw-s":!0,children:[t.jsxs("div",{className:"flex items-center justify-between mb-4","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANDU1OjEy","data-yw-s":!0,children:[t.jsx("h3",{className:"font-semibold text-slate-800","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANDU2OjE0","data-yw-t":!0,"data-yw-s":!0,children:"Line Items"}),m&&t.jsxs("button",{onClick:W,className:"flex items-center gap-2 px-3 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg text-sm font-medium transition-colors","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANDU4OjE2","data-yw-s":!0,children:[t.jsx(Ue,{className:"h-4 w-4","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANDYyOjE4","data-yw-s":!0}),t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANDYyOjQ2","data-yw-t":!0,"data-yw-auto":!0,children:"Add Item"})]})]}),t.jsx("div",{className:"border border-slate-200 rounded-lg overflow-hidden","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANDY3OjEy","data-yw-s":!0,children:t.jsxs("table",{className:"w-full","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANDY4OjE0","data-yw-s":!0,children:[t.jsx("thead",{className:"bg-slate-50","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANDY5OjE2","data-yw-s":!0,children:t.jsxs("tr",{"data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANDcwOjE4","data-yw-s":!0,children:[t.jsx("th",{className:"text-left p-3 text-sm font-medium text-slate-600","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANDcxOjIw","data-yw-t":!0,"data-yw-s":!0,children:"Description"}),t.jsx("th",{className:"text-right p-3 text-sm font-medium text-slate-600","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANDcyOjIw","data-yw-t":!0,"data-yw-s":!0,children:"Price"}),t.jsx("th",{className:"text-center p-3 text-sm font-medium text-slate-600","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANDczOjIw","data-yw-t":!0,"data-yw-s":!0,children:"Qty"}),t.jsx("th",{className:"text-right p-3 text-sm font-medium text-slate-600","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANDc0OjIw","data-yw-t":!0,"data-yw-s":!0,children:"Total"}),m&&t.jsx("th",{className:"w-10","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANDc1OjM2","data-yw-s":!0})]})}),t.jsx("tbody",{"data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANDc4OjE2","data-yw-s":!0,children:c.map((J,O)=>t.jsxs("tr",{className:"border-t border-slate-200","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANDgwOjIw","data-yw-s":!0,children:[t.jsx("td",{className:"p-3","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANDgxOjIy","data-yw-s":!0,children:m?t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANDgzOjI2","data-yw-s":!0,children:[t.jsx("input",{type:"text",value:J.name,onChange:Z=>U(J.id,"name",Z.target.value),className:"w-full p-2 border border-slate-300 rounded mb-1",placeholder:"Item name","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANDg0OjI4","data-yw-s":!0}),t.jsx("input",{type:"text",value:J.description||"",onChange:Z=>U(J.id,"description",Z.target.value),className:"w-full p-2 border border-slate-300 rounded text-sm",placeholder:"Description (optional)","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANDkxOjI4","data-yw-s":!0})]}):t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANTAwOjI2","data-yw-s":!0,children:[t.jsx("p",{className:"font-medium","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANTAxOjI4","data-yw-s":!0,children:J.name}),J.description&&t.jsx("p",{className:"text-sm text-slate-600","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANTAyOjQ5","data-yw-s":!0,children:J.description})]})}),t.jsx("td",{className:"p-3 text-right","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANTA2OjIy","data-yw-s":!0,children:m?t.jsx("input",{type:"number",value:J.price,onChange:Z=>U(J.id,"price",parseFloat(Z.target.value)||0),className:"w-20 p-2 border border-slate-300 rounded text-right",min:"0",step:"0.01","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANTA4OjI2","data-yw-s":!0}):`$${J.price.toFixed(2)}`}),t.jsx("td",{className:"p-3 text-center","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANTIwOjIy","data-yw-s":!0,children:m?t.jsx("input",{type:"number",value:J.quantity,onChange:Z=>U(J.id,"quantity",parseInt(Z.target.value)||1),className:"w-16 p-2 border border-slate-300 rounded text-center",min:"1","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANTIyOjI2","data-yw-s":!0}):J.quantity}),t.jsxs("td",{className:"p-3 text-right font-medium","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANTMzOjIy","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANTMzOjY1","data-yw-t":!0,"data-yw-auto":!0,children:"$"}),(J.price*J.quantity).toFixed(2)]}),m&&t.jsx("td",{className:"p-3","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANTM3OjI0","data-yw-s":!0,children:t.jsx("button",{onClick:()=>P(J.id),className:"p-1 text-red-600 hover:text-red-800 transition-colors","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANTM4OjI2","data-yw-s":!0,children:t.jsx(Fr,{className:"h-4 w-4","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANTQyOjI4","data-yw-s":!0})})})]},J.id))})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANTU0OjEw","data-yw-s":!0,children:[t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANTU2OjEy","data-yw-s":!0,children:[t.jsx("h3",{className:"font-semibold text-slate-800 mb-4","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANTU3OjE0","data-yw-t":!0,"data-yw-s":!0,children:"Invoice Summary"}),t.jsxs("div",{className:"space-y-3 p-4 bg-slate-50 rounded-lg","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANTU4OjE0","data-yw-s":!0,children:[t.jsxs("div",{className:"flex justify-between","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANTU5OjE2","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANTYwOjE4","data-yw-t":!0,"data-yw-s":!0,children:"Subtotal:"}),t.jsxs("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANTYxOjE4","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANTYxOjI0","data-yw-t":!0,"data-yw-auto":!0,children:"$"}),b.toFixed(2)]})]}),t.jsxs("div",{className:"flex justify-between items-center","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANTYzOjE2","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANTY0OjE4","data-yw-t":!0,"data-yw-s":!0,children:"Discount:"}),t.jsx("div",{className:"flex items-center gap-2","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANTY1OjE4","data-yw-s":!0,children:m?t.jsx("input",{type:"number",value:y,onChange:J=>p(parseFloat(J.target.value)||0),className:"w-20 p-1 border border-slate-300 rounded text-right text-sm",min:"0",step:"0.01","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANTY3OjIy","data-yw-s":!0}):t.jsxs("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANTc2OjIy","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANTc2OjI4","data-yw-t":!0,"data-yw-auto":!0,children:"-$"}),y.toFixed(2)]})})]}),t.jsxs("div",{className:"flex justify-between items-center","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANTgwOjE2","data-yw-s":!0,children:[t.jsxs("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANTgxOjE4","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANTgxOjI0","data-yw-t":!0,"data-yw-auto":!0,children:"Tax ("}),x,t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANTgxOjM4","data-yw-t":!0,"data-yw-auto":!0,children:"%):"})]}),t.jsxs("div",{className:"flex items-center gap-2","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANTgyOjE4","data-yw-s":!0,children:[m&&t.jsx("input",{type:"number",value:x,onChange:J=>w(parseFloat(J.target.value)||0),className:"w-16 p-1 border border-slate-300 rounded text-right text-sm",min:"0",max:"50",step:"0.1","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANTg0OjIy","data-yw-s":!0}),t.jsxs("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANTk0OjIw","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANTk0OjI2","data-yw-t":!0,"data-yw-auto":!0,children:"$"}),M.toFixed(2)]})]})]}),t.jsx("div",{className:"border-t border-slate-300 pt-3 font-semibold text-lg","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANTk3OjE2","data-yw-s":!0,children:t.jsxs("div",{className:"flex justify-between","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANTk4OjE4","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANTk5OjIw","data-yw-t":!0,"data-yw-s":!0,children:"Total:"}),t.jsxs("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANjAwOjIw","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANjAwOjI2","data-yw-t":!0,"data-yw-auto":!0,children:"$"}),B.toFixed(2)]})]})})]})]}),t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANjA3OjEy","data-yw-s":!0,children:[t.jsxs("div",{className:"flex items-center justify-between mb-4","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANjA4OjE0","data-yw-s":!0,children:[t.jsx("h3",{className:"font-semibold text-slate-800","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANjA5OjE2","data-yw-t":!0,"data-yw-s":!0,children:"Payments & Deposits"}),m&&t.jsxs("button",{onClick:S,className:"flex items-center gap-2 px-3 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-medium transition-colors","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANjExOjE4","data-yw-s":!0,children:[t.jsx(Ue,{className:"h-4 w-4","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANjE1OjIw","data-yw-s":!0}),t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANjE1OjQ4","data-yw-t":!0,"data-yw-auto":!0,children:"Add Payment"})]})]}),t.jsxs("div",{className:"space-y-3","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANjIwOjE0","data-yw-s":!0,children:[i.map(J=>t.jsx("div",{className:"p-3 border border-slate-200 rounded-lg","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANjIyOjE4","data-yw-s":!0,children:m?t.jsxs("div",{className:"space-y-2","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANjI0OjIy","data-yw-s":!0,children:[t.jsxs("div",{className:"flex gap-2","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANjI1OjI0","data-yw-s":!0,children:[t.jsx("input",{type:"date",value:J.date,onChange:O=>C(J.id,"date",O.target.value),className:"flex-1 p-2 border border-slate-300 rounded text-sm","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANjI2OjI2","data-yw-s":!0}),t.jsx("button",{onClick:()=>g(J.id),className:"p-2 text-red-600 hover:text-red-800 transition-colors","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANjMyOjI2","data-yw-s":!0,children:t.jsx(Fr,{className:"h-4 w-4","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANjM2OjI4","data-yw-s":!0})})]}),t.jsxs("div",{className:"flex gap-2","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANjM5OjI0","data-yw-s":!0,children:[t.jsx("input",{type:"number",value:J.amount,onChange:O=>C(J.id,"amount",parseFloat(O.target.value)||0),className:"w-24 p-2 border border-slate-300 rounded text-sm",placeholder:"Amount",min:"0",step:"0.01","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANjQwOjI2","data-yw-s":!0}),t.jsxs("select",{value:J.method,onChange:O=>C(J.id,"method",O.target.value),className:"flex-1 p-2 border border-slate-300 rounded text-sm","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANjQ5OjI2","data-yw-s":!0,children:[t.jsx("option",{value:"cash","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANjU0OjI4","data-yw-t":!0,"data-yw-s":!0,children:"Cash"}),t.jsx("option",{value:"credit_card","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANjU1OjI4","data-yw-t":!0,"data-yw-s":!0,children:"Credit Card"}),t.jsx("option",{value:"check","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANjU2OjI4","data-yw-t":!0,"data-yw-s":!0,children:"Check"})]})]}),t.jsx("input",{type:"text",value:J.notes||"",onChange:O=>C(J.id,"notes",O.target.value),className:"w-full p-2 border border-slate-300 rounded text-sm",placeholder:"Notes (optional)","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANjU5OjI0","data-yw-s":!0})]}):t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANjY4OjIy","data-yw-s":!0,children:[t.jsxs("div",{className:"flex justify-between items-start","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANjY5OjI0","data-yw-s":!0,children:[t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANjcwOjI2","data-yw-s":!0,children:[t.jsxs("p",{className:"font-medium","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANjcxOjI4","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANjcxOjU1","data-yw-t":!0,"data-yw-auto":!0,children:"$"}),J.amount.toFixed(2)]}),t.jsx("p",{className:"text-sm text-slate-600 capitalize","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANjcyOjI4","data-yw-s":!0,children:J.method.replace("_"," ")})]}),t.jsx("div",{className:"text-right","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANjc0OjI2","data-yw-s":!0,children:t.jsx("p",{className:"text-sm","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANjc1OjI4","data-yw-s":!0,children:le(new Date(J.date),"MMM dd, yyyy")})})]}),J.notes&&t.jsx("p",{className:"text-sm text-slate-600 mt-2","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANjc5OjI2","data-yw-s":!0,children:J.notes})]})},J.id)),t.jsxs("div",{className:"p-4 bg-green-50 rounded-lg","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANjg2OjE2","data-yw-s":!0,children:[t.jsxs("div",{className:"flex justify-between items-center","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANjg3OjE4","data-yw-s":!0,children:[t.jsx("span",{className:"font-medium text-green-800","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANjg4OjIw","data-yw-t":!0,"data-yw-s":!0,children:"Amount Paid:"}),t.jsxs("span",{className:"font-semibold text-green-800","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANjg5OjIw","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANjg5OjY3","data-yw-t":!0,"data-yw-auto":!0,children:"$"}),q.toFixed(2)]})]}),t.jsxs("div",{className:"flex justify-between items-center mt-2","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANjkxOjE4","data-yw-s":!0,children:[t.jsx("span",{className:`font-medium ${de>0?"text-red-800":"text-green-800"}`,"data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANjkyOjIw","data-yw-t":!0,"data-yw-s":!0,children:"Remaining Balance:"}),t.jsxs("span",{className:`font-semibold ${de>0?"text-red-800":"text-green-800"}`,"data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANjk1OjIw","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANjk1OjExNA","data-yw-t":!0,"data-yw-auto":!0,children:"$"}),de.toFixed(2)]})]})]})]})]})]}),t.jsx("div",{className:"border-t border-slate-200 pt-6","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANzA1OjEw","data-yw-s":!0,children:t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANzA2OjEy","data-yw-s":!0,children:[t.jsxs("div",{className:"flex-1","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANzA3OjE0","data-yw-s":!0,children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANzA4OjE2","data-yw-t":!0,"data-yw-s":!0,children:"Email Address for Invoice"}),t.jsx("input",{type:"email",value:h,onChange:J=>j(J.target.value),className:"w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Enter email address","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANzExOjE2","data-yw-s":!0})]}),t.jsxs("div",{className:"flex gap-3","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANzE5OjE0","data-yw-s":!0,children:[t.jsxs("button",{onClick:ve,disabled:L,className:"flex items-center gap-2 px-6 py-3 bg-slate-600 hover:bg-slate-700 disabled:bg-slate-400 text-white rounded-lg font-medium transition-colors","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANzIwOjE2","data-yw-s":!0,children:[L?t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANzI2OjIw","data-yw-s":!0}):t.jsx(St,{className:"h-4 w-4","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANzI4OjIw","data-yw-s":!0}),L?"Generating...":"Download PDF"]}),t.jsxs("button",{onClick:ae,disabled:T||!h,className:"flex items-center gap-2 px-6 py-3 bg-amber-600 hover:bg-amber-700 disabled:bg-amber-400 text-white rounded-lg font-medium transition-colors","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANzMyOjE2","data-yw-s":!0,children:[T?t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANzM4OjIw","data-yw-s":!0}):t.jsx(rs,{className:"h-4 w-4","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANzQwOjIw","data-yw-s":!0}),T?"Generating...":"Send Email"]})]})]})}),m&&t.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANzQ5OjEy","data-yw-s":!0,children:[t.jsxs("div",{className:"flex items-center justify-between","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANzUwOjE0","data-yw-s":!0,children:[t.jsxs("div",{className:"flex items-center gap-3","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANzUxOjE2","data-yw-s":!0,children:[t.jsx(Js,{className:"h-5 w-5 text-blue-600","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANzUyOjE4","data-yw-s":!0}),t.jsx("span",{className:"font-medium text-blue-800","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANzUzOjE4","data-yw-t":!0,"data-yw-s":!0,children:"Editing Mode Active"})]}),t.jsx("button",{onClick:ne,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANzU1OjE2","data-yw-t":!0,"data-yw-s":!0,children:"Save Changes"})]}),t.jsx("p",{className:"text-sm text-blue-700 mt-2","data-yw":"c3JjL2NvbXBvbmVudHMvSW52b2ljZURpYWxvZy50c3hANzYyOjE0","data-yw-t":!0,"data-yw-s":!0,children:'Make changes to line items, payments, and pricing. Click "Save Changes" to update the event record.'})]})]})]})})},kb=({isOpen:e,onClose:a})=>{const{events:s}=Je(),[r,n]=X.useState("monthly"),[d,o]=X.useState({start:le(Xs(new Date),"yyyy-MM-dd"),end:le(Ls(new Date),"yyyy-MM-dd")}),c=X.useMemo(()=>{let w=s;const y=new Date;let p;switch(r){case"daily":p={start:le(di(y),"yyyy-MM-dd"),end:le(ni(y),"yyyy-MM-dd")};break;case"monthly":p={start:le(Xs(y),"yyyy-MM-dd"),end:le(Ls(y),"yyyy-MM-dd")};break;case"yearly":p={start:le(ri(y),"yyyy-MM-dd"),end:le(si(y),"yyyy-MM-dd")};break;case"custom":p=d;break}w=s.filter(W=>{const U=Tt(W.date);return oi(U,{start:Tt(p.start),end:Tt(p.end)})});let h=0,j=0,L=0;const f={cash:0,credit_card:0,check:0},T={},V={},$={};w.forEach(W=>{const U=W.pricing?.total||0,P=W.pricing?.amountPaid||0,S=W.pricing?.deposits||[],C=W.pricing?.remainingBalance||0,g=S.reduce((M,B)=>M+B.amount,0);L+=g,W.paymentStatus==="paid"?h+=U:(h+=P,j+=C),S.forEach(M=>{f[M.method]!==void 0?f[M.method]+=M.amount:f[M.method]=M.amount});const F=W.date,ne=F,ve=F.substring(0,7),ae=F.substring(0,4),b=W.paymentStatus==="paid"?U:P;T[ne]=(T[ne]||0)+b,V[ve]=(V[ve]||0)+b,$[ae]=($[ae]||0)+b});const k=w.length>0?(h+j)/w.length:0;return{totalPaid:h,totalUnpaid:j,totalDeposits:L,averageEventValue:k,paymentMethodBreakdown:f,dailyRevenue:T,monthlyRevenue:V,yearlyRevenue:$}},[s,r,d]),i=(()=>{switch(r){case"daily":return Object.entries(c.dailyRevenue).map(([w,y])=>({period:le(Tt(w),"MMM dd"),revenue:y}));case"monthly":return Object.entries(c.monthlyRevenue).map(([w,y])=>({period:le(Tt(`${w}-01`),"MMM yyyy"),revenue:y}));case"yearly":return Object.entries(c.yearlyRevenue).map(([w,y])=>({period:w,revenue:y}));case"custom":return Object.entries(c.dailyRevenue).map(([w,y])=>({period:le(Tt(w),"MMM dd"),revenue:y}));default:return[]}})(),u=Math.max(...i.map(w=>w.revenue),1),m=()=>{const w=[["Period","Revenue"],...i.map(j=>[j.period,j.revenue.toFixed(2)])].map(j=>j.join(",")).join(`
`),y=new Blob([w],{type:"text/csv"}),p=URL.createObjectURL(y),h=document.createElement("a");h.href=p,h.download=`payment_analytics_${r}_${le(new Date,"yyyy-MM-dd")}.csv`,document.body.appendChild(h),h.click(),document.body.removeChild(h),URL.revokeObjectURL(p)},N=()=>{const w=le(new Date,"MMMM dd, yyyy"),y=`Payment Analytics Report - ${r.charAt(0).toUpperCase()+r.slice(1)}`,p=`
<!DOCTYPE html>
<html>
<head>
  <title>${y}</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    .header { text-align: center; border-bottom: 2px solid #333; padding-bottom: 20px; margin-bottom: 30px; }
    .metrics { display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; margin-bottom: 30px; }
    .metric-card { border: 1px solid #ddd; padding: 20px; border-radius: 8px; }
    .metric-value { font-size: 2em; font-weight: bold; color: #333; }
    .metric-label { color: #666; font-size: 0.9em; }
    .table { width: 100%; border-collapse: collapse; margin-bottom: 30px; }
    .table th, .table td { border: 1px solid #ddd; padding: 12px; text-align: left; }
    .table th { background-color: #f5f5f5; font-weight: bold; }
    .summary { background-color: #f8f9fa; padding: 20px; border-radius: 8px; }
  </style>
</head>
<body>
  <div class="header">
    <h1>${y}</h1>
    <p>Generated on ${w}</p>
  </div>
  
  <div class="metrics">
    <div class="metric-card">
      <div class="metric-value">$${c.totalPaid.toFixed(2)}</div>
      <div class="metric-label">Total Paid</div>
    </div>
    <div class="metric-card">
      <div class="metric-value">$${c.totalUnpaid.toFixed(2)}</div>
      <div class="metric-label">Total Unpaid</div>
    </div>
    <div class="metric-card">
      <div class="metric-value">$${c.totalDeposits.toFixed(2)}</div>
      <div class="metric-label">Total Deposits</div>
    </div>
    <div class="metric-card">
      <div class="metric-value">$${c.averageEventValue.toFixed(2)}</div>
      <div class="metric-label">Average Event Value</div>
    </div>
  </div>

  <h2>Revenue by Period</h2>
  <table class="table">
    <thead>
      <tr><th>Period</th><th>Revenue</th></tr>
    </thead>
    <tbody>
      ${i.map(f=>`<tr><td>${f.period}</td><td>$${f.revenue.toFixed(2)}</td></tr>`).join("")}
    </tbody>
  </table>

  <h2>Payment Methods Breakdown</h2>
  <table class="table">
    <thead>
      <tr><th>Method</th><th>Amount</th><th>Percentage</th></tr>
    </thead>
    <tbody>
      ${Object.entries(c.paymentMethodBreakdown).map(([f,T])=>{const V=c.totalDeposits>0?(T/c.totalDeposits*100).toFixed(1):"0.0";return`<tr><td>${f.replace("_"," ").toUpperCase()}</td><td>$${T.toFixed(2)}</td><td>${V}%</td></tr>`}).join("")}
    </tbody>
  </table>

  <div class="summary">
    <h3>Summary Statistics</h3>
    <p><strong>Collection Rate:</strong> ${c.totalPaid>0&&c.totalUnpaid>0?(c.totalPaid/(c.totalPaid+c.totalUnpaid)*100).toFixed(1):"0.0"}%</p>
    <p><strong>Total Revenue:</strong> $${(c.totalPaid+c.totalUnpaid).toFixed(2)}</p>
    <p><strong>Events in Period:</strong> ${i.length}</p>
  </div>
</body>
</html>
    `,h=new Blob([p],{type:"text/html"}),j=URL.createObjectURL(h),L=document.createElement("a");L.href=j,L.download=`payment_analytics_${r}_${le(new Date,"yyyy-MM-dd")}.html`,document.body.appendChild(L),L.click(),document.body.removeChild(L),URL.revokeObjectURL(j)},x=()=>{const w=window.open("","_blank");if(!w)return;const y=le(new Date,"MMMM dd, yyyy"),p=`Payment Analytics Report - ${r.charAt(0).toUpperCase()+r.slice(1)}`;w.document.write(`
<!DOCTYPE html>
<html>
<head>
  <title>${p}</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    .header { text-align: center; border-bottom: 2px solid #333; padding-bottom: 20px; margin-bottom: 30px; }
    .metrics { display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; margin-bottom: 30px; }
    .metric-card { border: 1px solid #ddd; padding: 20px; border-radius: 8px; }
    .metric-value { font-size: 2em; font-weight: bold; color: #333; }
    .metric-label { color: #666; font-size: 0.9em; }
    .table { width: 100%; border-collapse: collapse; margin-bottom: 30px; }
    .table th, .table td { border: 1px solid #ddd; padding: 12px; text-align: left; }
    .table th { background-color: #f5f5f5; font-weight: bold; }
    .summary { background-color: #f8f9fa; padding: 20px; border-radius: 8px; }
    @media print { body { margin: 0; } }
  </style>
</head>
<body>
  <div class="header">
    <h1>${p}</h1>
    <p>Generated on ${y}</p>
  </div>
  
  <div class="metrics">
    <div class="metric-card">
      <div class="metric-value">$${c.totalPaid.toFixed(2)}</div>
      <div class="metric-label">Total Paid</div>
    </div>
    <div class="metric-card">
      <div class="metric-value">$${c.totalUnpaid.toFixed(2)}</div>
      <div class="metric-label">Total Unpaid</div>
    </div>
    <div class="metric-card">
      <div class="metric-value">$${c.totalDeposits.toFixed(2)}</div>
      <div class="metric-label">Total Deposits</div>
    </div>
    <div class="metric-card">
      <div class="metric-value">$${c.averageEventValue.toFixed(2)}</div>
      <div class="metric-label">Average Event Value</div>
    </div>
  </div>

  <h2>Revenue by Period</h2>
  <table class="table">
    <thead>
      <tr><th>Period</th><th>Revenue</th></tr>
    </thead>
    <tbody>
      ${i.map(h=>`<tr><td>${h.period}</td><td>$${h.revenue.toFixed(2)}</td></tr>`).join("")}
    </tbody>
  </table>

  <h2>Payment Methods Breakdown</h2>
  <table class="table">
    <thead>
      <tr><th>Method</th><th>Amount</th><th>Percentage</th></tr>
    </thead>
    <tbody>
      ${Object.entries(c.paymentMethodBreakdown).map(([h,j])=>{const L=c.totalDeposits>0?(j/c.totalDeposits*100).toFixed(1):"0.0";return`<tr><td>${h.replace("_"," ").toUpperCase()}</td><td>$${j.toFixed(2)}</td><td>${L}%</td></tr>`}).join("")}
    </tbody>
  </table>

  <div class="summary">
    <h3>Summary Statistics</h3>
    <p><strong>Collection Rate:</strong> ${c.totalPaid>0&&c.totalUnpaid>0?(c.totalPaid/(c.totalPaid+c.totalUnpaid)*100).toFixed(1):"0.0"}%</p>
    <p><strong>Total Revenue:</strong> $${(c.totalPaid+c.totalUnpaid).toFixed(2)}</p>
    <p><strong>Events in Period:</strong> ${i.length}</p>
  </div>
</body>
</html>
    `),w.document.close(),w.print()};return e?t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hAMzYzOjQ","data-yw-s":!0,children:t.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-6xl w-full max-h-[90vh] overflow-y-auto","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hAMzY0OjY","data-yw-s":!0,children:[t.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hAMzY2Ojg","data-yw-s":!0,children:[t.jsxs("div",{className:"flex items-center gap-3","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hAMzY3OjEw","data-yw-s":!0,children:[t.jsx(Rs,{className:"h-6 w-6 text-amber-600","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hAMzY4OjEy","data-yw-s":!0}),t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hAMzY5OjEy","data-yw-s":!0,children:[t.jsx("h2",{className:"text-xl font-bold text-slate-800","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hAMzcwOjE0","data-yw-t":!0,"data-yw-s":!0,children:"Payment Analytics"}),t.jsx("p",{className:"text-slate-600","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hAMzcxOjE0","data-yw-t":!0,"data-yw-s":!0,children:"Revenue and payment insights"})]})]}),t.jsxs("div",{className:"flex items-center gap-3","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hAMzc0OjEw","data-yw-s":!0,children:[t.jsxs("div",{className:"flex items-center gap-2","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hAMzc1OjEy","data-yw-s":!0,children:[t.jsxs("button",{onClick:m,className:"flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium transition-colors","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hAMzc2OjE0","data-yw-s":!0,children:[t.jsx(St,{className:"h-4 w-4","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hAMzgwOjE2","data-yw-s":!0}),t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hAMzgwOjQ4","data-yw-t":!0,"data-yw-auto":!0,children:"Export CSV"})]}),t.jsxs("button",{onClick:N,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hAMzgzOjE0","data-yw-s":!0,children:[t.jsx(_t,{className:"h-4 w-4","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hAMzg3OjE2","data-yw-s":!0}),t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hAMzg3OjQ4","data-yw-t":!0,"data-yw-auto":!0,children:"Export PDF"})]}),t.jsxs("button",{onClick:x,className:"flex items-center gap-2 px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-medium transition-colors","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hAMzkwOjE0","data-yw-s":!0,children:[t.jsx(Bn,{className:"h-4 w-4","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hAMzk0OjE2","data-yw-s":!0}),t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hAMzk0OjQ3","data-yw-t":!0,"data-yw-auto":!0,children:"Print"})]})]}),t.jsx("button",{onClick:a,className:"p-2 text-slate-600 hover:text-slate-800 transition-colors","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hAMzk4OjEy","data-yw-t":!0,"data-yw-s":!0,children:"Ã—"})]})]}),t.jsxs("div",{className:"p-6","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANDA3Ojg","data-yw-s":!0,children:[t.jsxs("div",{className:"mb-8","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANDA5OjEw","data-yw-s":!0,children:[t.jsxs("div",{className:"flex items-center gap-4 mb-4","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANDEwOjEy","data-yw-s":!0,children:[t.jsx(Ba,{className:"h-5 w-5 text-slate-500","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANDExOjE0","data-yw-s":!0}),t.jsx("div",{className:"flex gap-2","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANDEyOjE0","data-yw-s":!0,children:["daily","monthly","yearly","custom"].map(w=>t.jsx("button",{onClick:()=>n(w),className:`px-4 py-2 rounded-lg font-medium transition-colors ${r===w?"bg-amber-600 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,"data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANDE0OjE4","data-yw-s":!0,children:w.charAt(0).toUpperCase()+w.slice(1)},w))})]}),r==="custom"&&t.jsxs("div",{className:"flex items-center gap-4","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANDMwOjE0","data-yw-s":!0,children:[t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANDMxOjE2","data-yw-s":!0,children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANDMyOjE4","data-yw-t":!0,"data-yw-s":!0,children:"Start Date"}),t.jsx("input",{type:"date",value:d.start,onChange:w=>o(y=>({...y,start:w.target.value})),className:"p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANDMzOjE4","data-yw-s":!0})]}),t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANDQwOjE2","data-yw-s":!0,children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANDQxOjE4","data-yw-t":!0,"data-yw-s":!0,children:"End Date"}),t.jsx("input",{type:"date",value:d.end,onChange:w=>o(y=>({...y,end:w.target.value})),className:"p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANDQyOjE4","data-yw-s":!0})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANDU0OjEw","data-yw-s":!0,children:[t.jsx("div",{className:"bg-green-50 p-6 rounded-lg border border-green-200","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANDU1OjEy","data-yw-s":!0,children:t.jsxs("div",{className:"flex items-center justify-between","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANDU2OjE0","data-yw-s":!0,children:[t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANDU3OjE2","data-yw-s":!0,children:[t.jsx("p",{className:"text-sm font-medium text-green-800","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANDU4OjE4","data-yw-t":!0,"data-yw-s":!0,children:"Total Paid"}),t.jsxs("p",{className:"text-2xl font-bold text-green-900","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANDU5OjE4","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANDU5OjY3","data-yw-t":!0,"data-yw-auto":!0,children:"$"}),c.totalPaid.toFixed(2)]})]}),t.jsx(Nc,{className:"h-8 w-8 text-green-600","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANDYxOjE2","data-yw-s":!0})]})}),t.jsx("div",{className:"bg-red-50 p-6 rounded-lg border border-red-200","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANDY1OjEy","data-yw-s":!0,children:t.jsxs("div",{className:"flex items-center justify-between","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANDY2OjE0","data-yw-s":!0,children:[t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANDY3OjE2","data-yw-s":!0,children:[t.jsx("p",{className:"text-sm font-medium text-red-800","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANDY4OjE4","data-yw-t":!0,"data-yw-s":!0,children:"Total Unpaid"}),t.jsxs("p",{className:"text-2xl font-bold text-red-900","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANDY5OjE4","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANDY5OjY1","data-yw-t":!0,"data-yw-auto":!0,children:"$"}),c.totalUnpaid.toFixed(2)]})]}),t.jsx(hc,{className:"h-8 w-8 text-red-600","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANDcxOjE2","data-yw-s":!0})]})}),t.jsx("div",{className:"bg-blue-50 p-6 rounded-lg border border-blue-200","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANDc1OjEy","data-yw-s":!0,children:t.jsxs("div",{className:"flex items-center justify-between","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANDc2OjE0","data-yw-s":!0,children:[t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANDc3OjE2","data-yw-s":!0,children:[t.jsx("p",{className:"text-sm font-medium text-blue-800","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANDc4OjE4","data-yw-t":!0,"data-yw-s":!0,children:"Total Deposits"}),t.jsxs("p",{className:"text-2xl font-bold text-blue-900","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANDc5OjE4","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANDc5OjY2","data-yw-t":!0,"data-yw-auto":!0,children:"$"}),c.totalDeposits.toFixed(2)]})]}),t.jsx(er,{className:"h-8 w-8 text-blue-600","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANDgxOjE2","data-yw-s":!0})]})}),t.jsx("div",{className:"bg-amber-50 p-6 rounded-lg border border-amber-200","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANDg1OjEy","data-yw-s":!0,children:t.jsxs("div",{className:"flex items-center justify-between","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANDg2OjE0","data-yw-s":!0,children:[t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANDg3OjE2","data-yw-s":!0,children:[t.jsx("p",{className:"text-sm font-medium text-amber-800","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANDg4OjE4","data-yw-t":!0,"data-yw-s":!0,children:"Avg Event Value"}),t.jsxs("p",{className:"text-2xl font-bold text-amber-900","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANDg5OjE4","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANDg5OjY3","data-yw-t":!0,"data-yw-auto":!0,children:"$"}),c.averageEventValue.toFixed(2)]})]}),t.jsx(Rs,{className:"h-8 w-8 text-amber-600","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANDkxOjE2","data-yw-s":!0})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANDk2OjEw","data-yw-s":!0,children:[t.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg p-6","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANDk4OjEy","data-yw-s":!0,children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANDk5OjE0","data-yw-t":!0,"data-yw-s":!0,children:"Revenue Trend"}),t.jsx("div",{className:"space-y-3","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANTAwOjE0","data-yw-s":!0,children:i.length===0?t.jsxs("div",{className:"text-center py-8 text-slate-500","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANTAyOjE4","data-yw-s":!0,children:[t.jsx(bt,{className:"h-12 w-12 mx-auto mb-3 text-slate-400","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANTAzOjIw","data-yw-s":!0}),t.jsx("p",{"data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANTA0OjIw","data-yw-t":!0,"data-yw-s":!0,children:"No revenue data for selected period"})]}):i.map((w,y)=>t.jsx("div",{className:"flex items-center justify-between","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANTA4OjIw","data-yw-s":!0,children:t.jsxs("div",{className:"flex-1","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANTA5OjIy","data-yw-s":!0,children:[t.jsxs("div",{className:"flex items-center justify-between mb-1","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANTEwOjI0","data-yw-s":!0,children:[t.jsx("span",{className:"text-sm font-medium text-slate-700","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANTExOjI2","data-yw-s":!0,children:w.period}),t.jsxs("span",{className:"text-sm font-semibold text-slate-900","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANTEyOjI2","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANTEyOjgx","data-yw-t":!0,"data-yw-auto":!0,children:"$"}),w.revenue.toFixed(2)]})]}),t.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANTE0OjI0","data-yw-s":!0,children:t.jsx("div",{className:"bg-amber-600 h-2 rounded-full transition-all duration-300",style:{width:`${w.revenue/u*100}%`},"data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANTE1OjI2"})})]})},y))})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg p-6","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANTI4OjEy","data-yw-s":!0,children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANTI5OjE0","data-yw-t":!0,"data-yw-s":!0,children:"Payment Methods"}),t.jsxs("div",{className:"space-y-4","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANTMwOjE0","data-yw-s":!0,children:[Object.entries(c.paymentMethodBreakdown).map(([w,y])=>{const p=c.totalDeposits>0?y/c.totalDeposits*100:0,h={cash:"bg-green-500",credit_card:"bg-blue-500",check:"bg-purple-500"};return t.jsxs("div",{className:"flex items-center justify-between","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANTQwOjIw","data-yw-s":!0,children:[t.jsxs("div",{className:"flex items-center gap-3","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANTQxOjIy","data-yw-s":!0,children:[t.jsx("div",{className:`w-4 h-4 rounded ${h[w]}`,"data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANTQyOjI0","data-yw-s":!0}),t.jsx("span",{className:"text-sm font-medium text-slate-700 capitalize","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANTQzOjI0","data-yw-s":!0,children:w.replace("_"," ")})]}),t.jsxs("div",{className:"text-right","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANTQ3OjIy","data-yw-s":!0,children:[t.jsxs("p",{className:"text-sm font-semibold text-slate-900","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANTQ4OjI0","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANTQ4Ojc2","data-yw-t":!0,"data-yw-auto":!0,children:"$"}),y.toFixed(2)]}),t.jsxs("p",{className:"text-xs text-slate-500","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANTQ5OjI0","data-yw-s":!0,children:[p.toFixed(1),t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANTQ5Ojg1","data-yw-t":!0,"data-yw-auto":!0,children:"%"})]})]})]},w)}),c.totalDeposits===0&&t.jsxs("div",{className:"text-center py-4 text-slate-500","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANTU2OjE4","data-yw-s":!0,children:[t.jsx(fi,{className:"h-8 w-8 mx-auto mb-2 text-slate-400","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANTU3OjIw","data-yw-s":!0}),t.jsx("p",{className:"text-sm","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANTU4OjIw","data-yw-t":!0,"data-yw-s":!0,children:"No payment data available"})]})]})]})]}),t.jsxs("div",{className:"mt-8 p-6 bg-slate-50 rounded-lg","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANTY2OjEw","data-yw-s":!0,children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANTY3OjEy","data-yw-t":!0,"data-yw-s":!0,children:"Summary"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANTY4OjEy","data-yw-s":!0,children:[t.jsxs("div",{className:"text-center","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANTY5OjE0","data-yw-s":!0,children:[t.jsxs("p",{className:"text-2xl font-bold text-slate-900","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANTcwOjE2","data-yw-s":!0,children:[c.totalPaid>0&&c.totalUnpaid>0?(c.totalPaid/(c.totalPaid+c.totalUnpaid)*100).toFixed(1):"0.0",t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANTc0OjE5","data-yw-t":!0,"data-yw-auto":!0,children:"%"})]}),t.jsx("p",{className:"text-sm text-slate-600","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANTc2OjE2","data-yw-t":!0,"data-yw-s":!0,children:"Collection Rate"})]}),t.jsxs("div",{className:"text-center","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANTc4OjE0","data-yw-s":!0,children:[t.jsxs("p",{className:"text-2xl font-bold text-slate-900","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANTc5OjE2","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANTc5OjY1","data-yw-t":!0,"data-yw-auto":!0,children:"$"}),(c.totalPaid+c.totalUnpaid).toFixed(2)]}),t.jsx("p",{className:"text-sm text-slate-600","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANTgyOjE2","data-yw-t":!0,"data-yw-s":!0,children:"Total Revenue"})]}),t.jsxs("div",{className:"text-center","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANTg0OjE0","data-yw-s":!0,children:[t.jsx("p",{className:"text-2xl font-bold text-slate-900","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANTg1OjE2","data-yw-s":!0,children:i.length}),t.jsx("p",{className:"text-sm text-slate-600","data-yw":"c3JjL2NvbXBvbmVudHMvUGF5bWVudEFuYWx5dGljcy50c3hANTg4OjE2","data-yw-t":!0,"data-yw-s":!0,children:"Events in Period"})]})]})]})]})]})}):null},Fb=({onEditEvent:e,onNavigateToDate:a,statusFilter:s,paymentFilter:r,currentUser:n})=>{const d=n??{role:"guest"},{events:o,deleteEvent:c,clearAllEvents:l}=Je(),i=d.role==="admin"||d.role==="manager",[u,m]=X.useState(new Set),[N,x]=X.useState("all"),[w,y]=X.useState("all"),[p,h]=X.useState(null),[j,L]=X.useState(!1),[f,T]=X.useState(!1);Rr.useEffect(()=>{s?x(s):s===void 0&&N!=="all"&&x("all")},[s]),Rr.useEffect(()=>{r?y(r):r===void 0&&w!=="all"&&y("all")},[r]);const V=o.filter(g=>!(N!=="all"&&g.status!==N||w!=="all"&&g.paymentStatus!==w)),$=g=>{const F=new Set(u);F.has(g)?F.delete(g):F.add(g),m(F)},k=()=>{u.size===V.length?m(new Set):m(new Set(V.map(g=>g.id)))},W=()=>{if(!i){window.alert("Only administrators and managers can delete events.");return}if(V.length===0){window.alert("There are no events to clear.");return}window.confirm(`Are you sure you want to clear ALL filtered events? This will permanently delete ${V.length} event(s) and cannot be undone.`)&&(l().catch(g=>{console.error("Failed to clear events:",g),window.alert("Failed to clear events. Please try again.")}),m(new Set))},U=g=>{const[F,ne]=g.split(":").map(Number),ve=F>=12?"PM":"AM";return`${F===0?12:F>12?F-12:F}:${ne.toString().padStart(2,"0")} ${ve}`},P=g=>{switch(g){case"restaurant":return"bg-emerald-500";case"bar":return"bg-amber-500";case"banquet":return"bg-indigo-500";default:return"bg-gray-500"}},S=g=>{switch(g){case"restaurant":return"ðŸ½ï¸";case"bar":return"ðŸº";case"banquet":return"ðŸŽ‰";default:return"ðŸ“…"}},C=g=>{a&&a(g)};return V.length===0?t.jsxs("div",{className:"flex-1 flex flex-col","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMTYzOjY","data-yw-s":!0,children:[t.jsx("div",{className:"bg-white border-b border-slate-200 p-6","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMTY1Ojg","data-yw-s":!0,children:t.jsxs("div",{className:"flex items-center gap-4","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMTY2OjEw","data-yw-s":!0,children:[t.jsx(Ba,{className:"h-5 w-5 text-slate-500","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMTY3OjEy","data-yw-s":!0}),t.jsxs("select",{value:N,onChange:g=>{const F=g.target.value;x(F)},className:"px-3 py-2 border border-slate-300 rounded-md focus:ring-2 focus:ring-amber-500 focus:border-transparent","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMTY4OjEy","data-yw-s":!0,children:[t.jsx("option",{value:"all","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMTc2OjE0","data-yw-t":!0,"data-yw-s":!0,children:"All Status"}),t.jsx("option",{value:"confirmed","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMTc3OjE0","data-yw-t":!0,"data-yw-s":!0,children:"Confirmed"}),t.jsx("option",{value:"pending","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMTc4OjE0","data-yw-t":!0,"data-yw-s":!0,children:"Pending"}),t.jsx("option",{value:"cancelled","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMTc5OjE0","data-yw-t":!0,"data-yw-s":!0,children:"Cancelled"}),t.jsx("option",{value:"closed","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMTgwOjE0","data-yw-t":!0,"data-yw-s":!0,children:"Closed"})]}),t.jsxs("select",{value:w,onChange:g=>{const F=g.target.value;y(F)},className:"px-3 py-2 border border-slate-300 rounded-md focus:ring-2 focus:ring-amber-500 focus:border-transparent","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMTgyOjEy","data-yw-s":!0,children:[t.jsx("option",{value:"all","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMTkwOjE0","data-yw-t":!0,"data-yw-s":!0,children:"All Payments"}),t.jsx("option",{value:"paid","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMTkxOjE0","data-yw-t":!0,"data-yw-s":!0,children:"Paid"}),t.jsx("option",{value:"unpaid","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMTkyOjE0","data-yw-t":!0,"data-yw-s":!0,children:"Unpaid"})]})]})}),t.jsx("div",{className:"flex-1 flex items-center justify-center","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMTk3Ojg","data-yw-s":!0,children:t.jsxs("div",{className:"text-center py-12","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMTk4OjEw","data-yw-s":!0,children:[t.jsx(Ks,{className:"h-16 w-16 text-slate-400 mx-auto mb-4","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMTk5OjEy","data-yw-s":!0}),t.jsx("h3",{className:"text-xl font-semibold text-slate-600 mb-2","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMjAwOjEy","data-yw-t":!0,"data-yw-s":!0,children:"No Events Found"}),t.jsx("p",{className:"text-slate-500","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMjAxOjEy","data-yw-t":!0,"data-yw-s":!0,children:"No events match your current filter criteria."})]})})]}):t.jsxs("div",{className:"flex-1 flex flex-col h-full","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMjExOjQ","data-yw-s":!0,children:[t.jsxs("div",{className:"bg-white border-b border-slate-200 px-6 py-5","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMjEzOjY","data-yw-s":!0,children:[t.jsxs("div",{className:"flex flex-wrap items-center gap-4","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMjE0Ojg","data-yw-s":!0,children:[t.jsxs("div",{className:"flex flex-col gap-1 mr-auto min-w-[220px]","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMjE1OjEw","data-yw-s":!0,children:[t.jsx("h2",{className:"text-[20px] font-semibold text-slate-900","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMjE2OjEy","data-yw-t":!0,"data-yw-s":!0,children:"Event History"}),t.jsxs("span",{className:"text-[13px] text-slate-500","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMjE3OjEy","data-yw-s":!0,children:[V.length,t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMjE4OjM2","data-yw-t":!0,"data-yw-auto":!0,children:" event"}),V.length!==1?"s":"",t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMjE4Ojgx","data-yw-t":!0,"data-yw-auto":!0,children:" found"})]})]}),t.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 border border-slate-200 rounded-lg px-3 py-2","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMjIyOjEw","data-yw-s":!0,children:[t.jsx(Ba,{className:"h-4 w-4 text-slate-500","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMjIzOjEy","data-yw-s":!0}),t.jsxs("select",{value:N,onChange:g=>{const F=g.target.value;x(F)},className:"text-sm px-3 py-1.5 border border-slate-200 rounded-md bg-white text-slate-700 focus:outline-none focus:ring-2 focus:ring-blue-400","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMjI0OjEy","data-yw-s":!0,children:[t.jsx("option",{value:"confirmed","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMjMyOjE0","data-yw-t":!0,"data-yw-s":!0,children:"Confirmed"}),t.jsx("option",{value:"all","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMjMzOjE0","data-yw-t":!0,"data-yw-s":!0,children:"All Status"}),t.jsx("option",{value:"pending","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMjM0OjE0","data-yw-t":!0,"data-yw-s":!0,children:"Pending"}),t.jsx("option",{value:"cancelled","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMjM1OjE0","data-yw-t":!0,"data-yw-s":!0,children:"Cancelled"}),t.jsx("option",{value:"closed","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMjM2OjE0","data-yw-t":!0,"data-yw-s":!0,children:"Closed"})]}),t.jsxs("select",{value:w,onChange:g=>y(g.target.value),className:"text-sm px-3 py-1.5 border border-slate-200 rounded-md bg-white text-slate-700 focus:outline-none focus:ring-2 focus:ring-blue-400","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMjM4OjEy","data-yw-s":!0,children:[t.jsx("option",{value:"all","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMjQzOjE0","data-yw-t":!0,"data-yw-s":!0,children:"All Payments"}),t.jsx("option",{value:"paid","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMjQ0OjE0","data-yw-t":!0,"data-yw-s":!0,children:"Paid"}),t.jsx("option",{value:"unpaid","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMjQ1OjE0","data-yw-t":!0,"data-yw-s":!0,children:"Unpaid"})]}),(s||r)&&t.jsxs("span",{className:"text-xs text-slate-500 bg-white border border-slate-200 rounded-md px-2 py-1","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMjQ4OjE0","data-yw-s":!0,children:[s&&`Status: ${s}`,s&&r&&" â€¢ ",r&&`Payment: ${r}`]})]}),t.jsxs("div",{className:"flex items-center gap-2","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMjU2OjEw","data-yw-s":!0,children:[t.jsxs("button",{onClick:()=>T(!0),className:"inline-flex items-center gap-2 px-4 py-2 rounded-md bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium shadow-sm transition-colors","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMjU3OjEy","data-yw-s":!0,children:[t.jsx(Rs,{className:"h-4 w-4","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMjYxOjE0","data-yw-s":!0}),t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMjYxOjQ3","data-yw-t":!0,"data-yw-auto":!0,children:"Analytics"})]}),i&&t.jsx("button",{onClick:W,className:"inline-flex items-center gap-2 px-4 py-2 rounded-md bg-slate-700 hover:bg-slate-800 text-white text-sm font-medium shadow-sm transition-colors disabled:opacity-50",disabled:V.length===0,"data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMjY1OjE0","data-yw-t":!0,"data-yw-s":!0,children:"Clear All Data"})]})]}),V.length>0&&t.jsxs("div",{className:"flex items-center gap-3 mt-4 text-sm text-slate-600","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMjc3OjEw","data-yw-s":!0,children:[t.jsxs("button",{onClick:k,className:"flex items-center gap-2 text-slate-600 hover:text-blue-600 transition-colors","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMjc4OjEy","data-yw-s":!0,children:[u.size===V.length?t.jsx(_r,{className:"h-4 w-4","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMjgzOjE2","data-yw-s":!0}):t.jsx(Or,{className:"h-4 w-4","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMjg1OjE2","data-yw-s":!0}),t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMjg2OjE2","data-yw-t":!0,"data-yw-auto":!0,children:"Select All"})]}),t.jsxs("span",{className:"text-xs text-slate-400","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMjg5OjEy","data-yw-s":!0,children:[u.size,t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMjkwOjM1","data-yw-t":!0,"data-yw-auto":!0,children:" of "}),V.length,t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMjkwOjYx","data-yw-t":!0,"data-yw-auto":!0,children:" selected"})]})]})]}),t.jsx("div",{className:"flex-1 overflow-y-auto p-6","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMjk3OjY","data-yw-s":!0,children:t.jsx("div",{className:"grid gap-4","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMjk4Ojg","data-yw-s":!0,children:V.map(g=>t.jsx("div",{className:`
                bg-white rounded-lg shadow-lg border-2 p-6 transition-all duration-200
                ${u.has(g.id)?"border-amber-400 shadow-amber-100":"border-slate-200 hover:border-slate-300 hover:shadow-xl"}
              `,"data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMzAwOjEy","data-yw-s":!0,children:t.jsxs("div",{className:"flex items-start justify-between","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMzEwOjE0","data-yw-s":!0,children:[t.jsxs("div",{className:"flex-1","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMzEyOjE2","data-yw-s":!0,children:[t.jsxs("div",{className:"flex items-center gap-3 mb-3","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMzEzOjE4","data-yw-s":!0,children:[t.jsx("button",{onClick:()=>$(g.id),className:"text-slate-400 hover:text-slate-600 transition-colors","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMzE1OjIw","data-yw-s":!0,children:u.has(g.id)?t.jsx(_r,{className:"h-5 w-5 text-amber-600","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMzIwOjI0","data-yw-s":!0}):t.jsx(Or,{className:"h-5 w-5","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMzIyOjI0","data-yw-s":!0})}),t.jsxs("div",{className:"flex items-center gap-2","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMzI3OjIw","data-yw-s":!0,children:[t.jsx("div",{className:`w-3 h-3 rounded-full ${P(g.venue)}`,"data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMzI4OjIy","data-yw-s":!0}),t.jsx("span",{className:"text-lg","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMzI5OjIy","data-yw-s":!0,children:S(g.venue)})]}),t.jsxs("h3",{className:`text-lg font-semibold text-slate-800 ${g.status==="closed"?"line-through":""}`,"data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMzMzOjIw","data-yw-s":!0,children:[g.title,g.status==="cancelled"&&t.jsx("span",{className:"text-red-600 text-sm font-normal ml-2","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMzM4OjI0","data-yw-t":!0,"data-yw-s":!0,children:"(Cancelled)"})]}),t.jsxs("div",{className:"flex gap-2","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMzQzOjIw","data-yw-s":!0,children:[t.jsx("span",{className:`px-2 py-1 rounded-md text-xs font-medium border ${g.status==="confirmed"?"bg-blue-50 text-blue-700 border-blue-200":g.status==="pending"?"bg-amber-50 text-amber-700 border-amber-200":g.status==="cancelled"?"bg-red-50 text-red-700 border-red-200":"bg-slate-50 text-slate-700 border-slate-200"}`,"data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMzQ0OjIy","data-yw-s":!0,children:g.status}),t.jsx("span",{className:`px-2 py-1 rounded-md text-xs font-medium border ${g.paymentStatus==="paid"?"bg-green-50 text-green-700 border-green-200":"bg-orange-50 text-orange-700 border-orange-200"}`,"data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMzUyOjIy","data-yw-s":!0,children:g.paymentStatus})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMzYzOjE4","data-yw-s":!0,children:[t.jsxs("div",{className:"flex items-center gap-2 text-slate-600","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMzY1OjIw","data-yw-s":!0,children:[t.jsx(bt,{className:"h-4 w-4","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMzY2OjIy","data-yw-s":!0}),t.jsxs("div",{className:"flex-1","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMzY3OjIy","data-yw-s":!0,children:[t.jsxs("button",{onClick:()=>C(g.date),className:"font-medium text-left hover:text-blue-600 hover:underline transition-colors flex items-center gap-1",title:"Go to calendar date","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMzY4OjI0","data-yw-s":!0,children:[le(new Date(g.date+"T00:00:00"),"MMM dd, yyyy"),t.jsx(As,{className:"h-3 w-3","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMzc0OjI2","data-yw-s":!0})]}),t.jsxs("div",{className:"text-slate-500","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMzc2OjI0","data-yw-s":!0,children:[U(g.startTime),t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMzc3OjU1","data-yw-t":!0,"data-yw-auto":!0,children:" â€“ "}),U(g.endTime)]})]})]}),t.jsxs("div",{className:"text-slate-600 space-y-1","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMzgzOjIw","data-yw-s":!0,children:[t.jsx("div",{className:"font-medium","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMzg0OjIy","data-yw-s":!0,children:g.contact.name}),t.jsx("div",{className:"text-slate-500","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMzg1OjIy","data-yw-s":!0,children:g.contact.phone}),t.jsx("div",{className:"text-slate-500","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMzg2OjIy","data-yw-s":!0,children:g.contact.email}),g.createdBy&&t.jsxs("div",{className:"text-xs text-slate-500","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMzg4OjI0","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMzg4OjY0","data-yw-t":!0,"data-yw-auto":!0,children:"Added by "}),t.jsx("span",{className:"font-semibold text-slate-700","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMzg5OjM1","data-yw-s":!0,children:g.createdBy.displayName||g.createdBy.userId}),g.createdBy.role&&` (${g.createdBy.role})`]}),g.updatedBy&&g.updatedBy.userId!==g.createdBy?.userId&&t.jsxs("div",{className:"text-xs text-slate-500","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMzk0OjI0","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMzk0OjY0","data-yw-t":!0,"data-yw-auto":!0,children:"Last edit by "}),t.jsx("span",{className:"font-semibold text-slate-700","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hAMzk1OjM5","data-yw-s":!0,children:g.updatedBy.displayName||g.updatedBy.userId}),g.updatedBy.role&&` (${g.updatedBy.role})`]})]}),t.jsxs("div",{className:"flex items-center gap-2 text-slate-600","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hANDAyOjIw","data-yw-s":!0,children:[t.jsx(er,{className:"h-4 w-4","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hANDAzOjIy","data-yw-s":!0}),t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hANDA0OjIy","data-yw-s":!0,children:[t.jsx("div",{className:`font-medium ${g.paymentStatus==="paid"?"text-green-700":"text-orange-700"}`,"data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hANDA1OjI0","data-yw-s":!0,children:g.paymentStatus==="paid"?"Paid":"Unpaid"}),g.paymentMethod&&g.paymentStatus==="paid"&&t.jsx("div",{className:"text-slate-500 capitalize","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hANDExOjI2","data-yw-s":!0,children:g.paymentMethod.replace("_"," ")})]})]})]}),g.notes&&t.jsx("div",{className:"mt-3 p-3 bg-slate-50 rounded-md","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hANDIxOjIw","data-yw-s":!0,children:t.jsxs("div",{className:"text-sm text-slate-600","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hANDIyOjIy","data-yw-s":!0,children:[t.jsx("span",{className:"font-medium","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hANDIzOjI0","data-yw-t":!0,"data-yw-s":!0,children:"Notes: "}),g.notes]})}),t.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-slate-500","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hANDMwOjE4","data-yw-s":!0,children:[t.jsxs("div",{className:"capitalize","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hANDMxOjIw","data-yw-s":!0,children:[g.venue,t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hANDMyOjM1","data-yw-t":!0,"data-yw-auto":!0,children:" venue"})]}),t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hANDM0OjIw","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hANDM0OjI1","data-yw-t":!0,"data-yw-auto":!0,children:"Updated: "}),le(new Date(g.updatedAt),"MMM dd, yyyy HH:mm")]})]})]}),t.jsxs("div",{className:"flex flex-col gap-2 ml-4","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hANDQxOjE2","data-yw-s":!0,children:[t.jsx("button",{onClick:()=>{h(g),L(!0)},className:"p-2 text-slate-600 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"View Invoice","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hANDQyOjE4","data-yw-s":!0,children:t.jsx(_t,{className:"h-4 w-4","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hANDUwOjIw","data-yw-s":!0})}),t.jsx("button",{onClick:()=>e(g),className:"p-2 text-slate-600 hover:text-amber-600 hover:bg-amber-50 rounded-lg transition-colors",title:"Edit Event","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hANDUyOjE4","data-yw-s":!0,children:t.jsx(sa,{className:"h-4 w-4","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hANDU3OjIw","data-yw-s":!0})}),t.jsx("button",{onClick:()=>{window.confirm(`Are you sure you want to delete "${g.title}"? This action cannot be undone.`)&&c(g.id)},className:"p-2 text-slate-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete Event","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hANDU5OjE4","data-yw-s":!0,children:t.jsx(ft,{className:"h-4 w-4","data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hANDY4OjIw","data-yw-s":!0})})]})]})},g.id))})}),p&&t.jsx(Tb,{event:p,isOpen:j,onClose:()=>{L(!1),h(null)},"data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hANDc5Ojg","data-yw-s":!0}),t.jsx(kb,{isOpen:f,onClose:()=>T(!1),"data-yw":"c3JjL2NvbXBvbmVudHMvSGlzdG9yeVRhYi50c3hANDkwOjY","data-yw-s":!0})]})},Zb={};function Sb(e,a){let s;try{s=e()}catch{return}return{getItem:n=>{var d;const o=l=>l===null?null:JSON.parse(l,void 0),c=(d=s.getItem(n))!=null?d:null;return c instanceof Promise?c.then(o):o(c)},setItem:(n,d)=>s.setItem(n,JSON.stringify(d,void 0)),removeItem:n=>s.removeItem(n)}}const xa=e=>a=>{try{const s=e(a);return s instanceof Promise?s:{then(r){return xa(r)(s)},catch(r){return this}}}catch(s){return{then(r){return this},catch(r){return xa(r)(s)}}}},_b=(e,a)=>(s,r,n)=>{let d={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:p=>p,version:0,merge:(p,h)=>({...h,...p}),...a},o=!1;const c=new Set,l=new Set;let i;try{i=d.getStorage()}catch{}if(!i)return e((...p)=>{console.warn(`[zustand persist middleware] Unable to update item '${d.name}', the given storage is currently unavailable.`),s(...p)},r,n);const u=xa(d.serialize),m=()=>{const p=d.partialize({...r()});let h;const j=u({state:p,version:d.version}).then(L=>i.setItem(d.name,L)).catch(L=>{h=L});if(h)throw h;return j},N=n.setState;n.setState=(p,h)=>{N(p,h),m()};const x=e((...p)=>{s(...p),m()},r,n);let w;const y=()=>{var p;if(!i)return;o=!1,c.forEach(j=>j(r()));const h=((p=d.onRehydrateStorage)==null?void 0:p.call(d,r()))||void 0;return xa(i.getItem.bind(i))(d.name).then(j=>{if(j)return d.deserialize(j)}).then(j=>{if(j)if(typeof j.version=="number"&&j.version!==d.version){if(d.migrate)return d.migrate(j.state,j.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return j.state}).then(j=>{var L;return w=d.merge(j,(L=r())!=null?L:x),s(w,!0),m()}).then(()=>{h?.(w,void 0),o=!0,l.forEach(j=>j(w))}).catch(j=>{h?.(void 0,j)})};return n.persist={setOptions:p=>{d={...d,...p},p.getStorage&&(i=p.getStorage())},clearStorage:()=>{i?.removeItem(d.name)},getOptions:()=>d,rehydrate:()=>y(),hasHydrated:()=>o,onHydrate:p=>(c.add(p),()=>{c.delete(p)}),onFinishHydration:p=>(l.add(p),()=>{l.delete(p)})},y(),w||x},Ob=(e,a)=>(s,r,n)=>{let d={storage:Sb(()=>localStorage),partialize:y=>y,version:0,merge:(y,p)=>({...p,...y}),...a},o=!1;const c=new Set,l=new Set;let i=d.storage;if(!i)return e((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${d.name}', the given storage is currently unavailable.`),s(...y)},r,n);const u=()=>{const y=d.partialize({...r()});return i.setItem(d.name,{state:y,version:d.version})},m=n.setState;n.setState=(y,p)=>{m(y,p),u()};const N=e((...y)=>{s(...y),u()},r,n);n.getInitialState=()=>N;let x;const w=()=>{var y,p;if(!i)return;o=!1,c.forEach(j=>{var L;return j((L=r())!=null?L:N)});const h=((p=d.onRehydrateStorage)==null?void 0:p.call(d,(y=r())!=null?y:N))||void 0;return xa(i.getItem.bind(i))(d.name).then(j=>{if(j)if(typeof j.version=="number"&&j.version!==d.version){if(d.migrate)return[!0,d.migrate(j.state,j.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,j.state];return[!1,void 0]}).then(j=>{var L;const[f,T]=j;if(x=d.merge(T,(L=r())!=null?L:N),s(x,!0),f)return u()}).then(()=>{h?.(x,void 0),x=r(),o=!0,l.forEach(j=>j(x))}).catch(j=>{h?.(void 0,j)})};return n.persist={setOptions:y=>{d={...d,...y},y.storage&&(i=y.storage)},clearStorage:()=>{i?.removeItem(d.name)},getOptions:()=>d,rehydrate:()=>w(),hasHydrated:()=>o,onHydrate:y=>(c.add(y),()=>{c.delete(y)}),onFinishHydration:y=>(l.add(y),()=>{l.delete(y)})},d.skipHydration||w(),x||N},Qb=(e,a)=>"getStorage"in a||"serialize"in a||"deserialize"in a?((Zb?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),_b(e,a)):Ob(e,a),Ib=Qb,Gb="eventManager_auth",Vs=async(e,a)=>Me(e,a),En=(e="admin")=>({id:`offline-${Date.now()}`,username:e,role:"admin",firstName:"Offline",lastName:"Access",phone:"313-938-6666",email:"support@stuntec.com",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),isDefaultAdmin:!0}),Hn="offline-bypass-token",Mt=qs()(Ib((e,a)=>({user:null,token:null,expiresAt:null,isLoading:!1,error:null,async login({username:s,password:r}){const n=d=>{const o=En(d||s||"admin"),c=Date.now()+2*60*60*1e3;return e({user:o,token:Hn,expiresAt:c,isLoading:!1,error:null}),o};e({isLoading:!0,error:null});try{const d=await Vs(je.authLogin,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:s,password:r})});if(!d.ok){const u=await d.json().catch(()=>({error:"Login failed"}));throw new Error(u.error||"Login failed")}const o=await d.json(),{token:c,expiresAt:l,user:i}=o;e({user:i,token:c,expiresAt:l,isLoading:!1,error:null})}catch(d){const o=d instanceof TypeError||d instanceof Error&&/fetch/i.test(d.message),c=d instanceof Error?d:new Error("Login failed");if(o||c.message.includes("Failed to fetch")){const l=n(s);console.warn("Login fell back to offline mode for user:",l.username);return}if(s==="admin"&&r==="admin"){n("admin");return}throw e({isLoading:!1,error:c.message}),c}},forceLogin(s){const r=En(s?.username),n=Date.now()+2*60*60*1e3;e({user:r,token:Hn,expiresAt:n,isLoading:!1,error:null})},async logout(){try{await Vs(je.authLogout,{method:"POST"})}catch(s){console.warn("Failed to logout from backend:",s)}e({user:null,token:null,expiresAt:null,error:null})},clearError(){e({error:null})},async refreshProfile(){if(a().token)try{const r=await Vs(je.authMe);if(!r.ok)throw new Error("Failed to fetch profile");const n=await r.json();e({user:n.user,error:null})}catch(r){console.warn("Failed to refresh profile:",r),await a().logout()}}}),{name:Gb,partialize:e=>({user:e.user,token:e.token,expiresAt:e.expiresAt}),onRehydrateStorage:()=>e=>{e&&(e.token&&e.expiresAt&&e.expiresAt>Date.now()?Mt.getState().refreshProfile().catch(()=>{Mt.getState().logout()}):Mt.getState().logout())}}));Tc(()=>Mt.getState().token);const Ub=qs((e,a)=>({licenses:[],isLoading:!1,error:null,checkResult:null,autoSerialAvailable:!0,clearError:()=>e({error:null}),clearCheckResult:()=>e({checkResult:null}),async fetchLicenses(){e({isLoading:!0,error:null});try{const s=await Me(je.licenses);if(!s.ok){const n=await s.json().catch(()=>({error:"Failed to load licenses"}));throw new Error(n.error||"Failed to load licenses")}const r=await s.json();e({licenses:r.licenses??[],isLoading:!1})}catch(s){e({isLoading:!1,error:s instanceof Error?s.message:"Failed to load licenses"})}},async createLicense(s){e({error:null});try{const r=await Me(je.licenses,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...s,autoGenerate:s.autoGenerate??!s.serialNumber})}),n=await r.json().catch(()=>({error:"Failed to create license"}));if(!r.ok)throw r.status===404&&(s.autoGenerate??!s.serialNumber)&&e({autoSerialAvailable:!1,error:"Auto serial generation is not supported by this backend. Enter a serial number manually."}),new Error(n.error||"Failed to create license");if(n.license)return e(d=>({licenses:[n.license,...d.licenses]})),n.license;throw new Error("License creation response missing license data")}catch(r){throw e({error:r instanceof Error?r.message:"Failed to create license"}),r}},async updateLicense(s,r){e({error:null});try{const n=await Me(je.licensesById(s),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),d=await n.json();if(!n.ok)throw new Error(d.error||"Failed to update license");d.license&&e(o=>({licenses:o.licenses.map(c=>c.id===s?d.license:c)}))}catch(n){throw e({error:n instanceof Error?n.message:"Failed to update license"}),n}},async deleteLicense(s){e({error:null});try{const r=await Me(je.licensesById(s),{method:"DELETE"});if(!r.ok){const n=await r.json().catch(()=>({error:"Failed to delete license"}));throw new Error(n.error||"Failed to delete license")}e(n=>({licenses:n.licenses.filter(d=>d.id!==s)}))}catch(r){throw e({error:r instanceof Error?r.message:"Failed to delete license"}),r}},async verifyLicense(s,r){e({error:null,checkResult:null});try{const n=await Me(je.licensesCheck,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({serial:s,projectKey:r})}),d=await n.json(),o={valid:!!d.valid,reason:d.reason,user:d.user,expiry:d.expiry,plan:d.plan,status:d.status};return n.ok?(e({checkResult:o}),o):(e({checkResult:o}),o)}catch(n){const d={valid:!1,reason:n instanceof Error?n.message:"License verification failed"};return e({checkResult:d,error:d.reason??"License verification failed"}),d}},async generateLicense(s){e({error:null});try{const r=await Me(je.licensesGenerate,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({planType:s.planType,userName:s.userName,startDate:s.startDate,expiryDate:s.expiryDate,prefix:s.prefix,randomLength:s.randomLength,notes:s.notes})}),n=await r.json().catch(()=>({error:"Failed to generate license"}));if(!r.ok)throw r.status===404&&e({autoSerialAvailable:!1,error:"Auto serial generation is not supported by this backend. Enter a serial number manually."}),new Error(n.error||"Failed to generate license");if(n.license)return e(d=>({licenses:[n.license,...d.licenses]})),n.license;throw new Error("License generation response missing license data")}catch(r){throw e({error:r instanceof Error?r.message:"Failed to generate license"}),r}},async previewSerial(s){e({error:null});const{autoSerialAvailable:r}=a();if(!r)throw new Error("Auto serial generation is not supported by this backend.");try{const n=new URL(je.licensesPreviewSerial,window.location.origin);n.searchParams.set("planType",s.planType),s.userName&&n.searchParams.set("userName",s.userName),s.startDate&&n.searchParams.set("startDate",s.startDate),s.expiryDate&&n.searchParams.set("expiryDate",s.expiryDate),s.prefix&&n.searchParams.set("prefix",s.prefix),typeof s.randomLength=="number"&&n.searchParams.set("randomLength",String(s.randomLength)),s.issuedAt&&n.searchParams.set("issuedAt",s.issuedAt);const d=await Me(n.toString(),{method:"GET"}),o=await d.json().catch(()=>({}));if(d.status===404)throw e({autoSerialAvailable:!1,error:"Auto serial generation is not supported by this backend. Enter a serial number manually."}),new Error("Auto serial generation is not supported by this backend.");if(!d.ok)throw new Error(o.error||"Failed to preview serial");return{serialNumber:o.serialNumber,planType:o.planType,startDate:o.startDate,expiryDate:o.expiryDate}}catch(n){const d=n instanceof Error?n.message:"Failed to preview serial";throw e({error:d}),n}}})),Cb=({isOpen:e,onClose:a})=>{const{settings:s,venues:r,colorPresets:n,updateSettings:d,uploadLogo:o,addVenue:c,updateVenue:l,deleteVenue:i,resetToDefaults:u}=Je(),{user:m}=Mt(),[N,x]=X.useState("general"),[w,y]=X.useState([]),[p,h]=X.useState(!1),[j,L]=X.useState(null),{licenses:f,isLoading:T,error:V,fetchLicenses:$,createLicense:k,updateLicense:W,deleteLicense:U,verifyLicense:P,generateLicense:S,previewSerial:C,autoSerialAvailable:g,clearError:F,checkResult:ne,clearCheckResult:ve}=Ub(),[ae,b]=X.useState(!1),[M,B]=X.useState(""),[q,de]=X.useState(null),[J,O]=X.useState(null),[Z,Y]=X.useState({serialNumber:"",userName:"",planType:"monthly",startDate:new Date().toISOString().slice(0,10),expiryDate:new Date().toISOString().slice(0,10),status:"active",notes:"",prefix:"",autoGenerate:!0,randomLength:4}),[be,I]=X.useState(null),[ue,pe]=X.useState(!1),[he,ct]=X.useState(null),[ge,Re]=X.useState(!1),[Ma,ht]=X.useState(!1),[Ve,Xe]=X.useState({username:"",password:"",role:"operator",firstName:"",lastName:"",phone:"",email:""}),[Jt,Rt]=X.useState(s.storeName),[et,Ea]=X.useState(s.storeEmail||""),[Ha,Ze]=X.useState(s.storePhone||""),[Yt,wt]=X.useState(s.storeAddress||""),[Dt,tt]=X.useState(s.applicationTitle),[At,zt]=X.useState(s.applicationSubtitle),[lt,$t]=X.useState(s.selectedVenue||""),[Ee,ut]=X.useState(s.themeColor),[Ce,Bt]=X.useState(s.backgroundColor),[Ye,Wt]=X.useState(s.textColor),[at,Le]=X.useState(s.highlightTextColor),[Se,fr]=X.useState(s.dbHost||""),[Pt,Mr]=X.useState(s.dbUser||""),[us,Er]=X.useState(s.dbPassword||""),[qt,Hr]=X.useState(s.dbName||""),[De,Kt]=X.useState({name:"",type:"",color:"#6b7280",icon:"ðŸ“…"}),[Wo,ms]=X.useState(null),Vr=X.useRef(null),Xr=X.useRef(null),ea=m?.role==="admin"||m?.role==="manager",Va=async()=>{if(ea){h(!0),L(null);try{const v=await Me(je.users);if(!v.ok){const Ae=await v.json().catch(()=>({error:"Failed to fetch users"}));throw new Error(Ae.error||"Failed to fetch users")}const A=await v.json();y(A.users??[])}catch(v){L(v instanceof Error?v.message:"Failed to fetch users")}finally{h(!1)}}},To=async()=>{I(null),F();try{const v=await C({planType:"monthly",randomLength:4});Y({serialNumber:v.serialNumber,userName:"",planType:v.planType,startDate:v.startDate,expiryDate:v.expiryDate,status:"active",notes:"",prefix:"",autoGenerate:!0,randomLength:4})}catch(v){console.error("Failed to preview serial",v),Y({serialNumber:"",userName:"",planType:"monthly",startDate:new Date().toISOString().slice(0,10),expiryDate:new Date().toISOString().slice(0,10),status:"active",notes:"",prefix:"",autoGenerate:!0,randomLength:4})}pe(!0)},ko=v=>{I(v),Y({serialNumber:v.serialNumber,userName:v.userName,planType:v.planType,startDate:v.startDate,expiryDate:v.expiryDate,status:v.status,notes:v.notes??"",prefix:"",autoGenerate:!1,randomLength:4}),F(),pe(!0)},Fo=async v=>{v.preventDefault(),F();try{if(be)await W(be.id,{...Z,autoGenerate:!1});else{const A=await k({...Z,autoGenerate:Z.autoGenerate});Y(Ae=>({...Ae,serialNumber:A.serialNumber}))}await $(),pe(!1),I(null)}catch(A){console.error("License save failed",A)}},Zo=async v=>{if(window.confirm(`Delete license ${v.serialNumber}?`))try{await U(v.id),await $()}catch(A){console.error("Failed to delete license",A)}},vs=async()=>{if(!M.trim()){O("error"),de("Enter a serial number to validate.");return}b(!0),de(null),O(null),ve();try{const v=await P(M.trim());v.valid?(O("success"),de(`âœ… License valid for ${v.user??"unknown user"} until ${v.expiry??"N/A"} (${v.plan??"N/A"})`)):(O("error"),de(v.reason??"License invalid"))}catch{O("error"),de("License verification failed.")}finally{b(!1)}},Lr=async()=>{if(!Se||!Pt||!qt)return alert("Please provide DB_HOST, DB_USER, and DB_NAME before connecting."),!1;try{const v=await fetch(`${yt.base}/api/database/connect`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({host:Se,user:Pt,password:us,database:qt})});if(!v.ok){const A=await v.json().catch(()=>({}));throw new Error(A.details||A.error||"Failed to connect to database")}return alert("Database connected successfully."),!0}catch(v){return console.error("Database connection error:",v),alert(`Database connection failed: ${v instanceof Error?v.message:"Unknown error"}`),!1}},So=async v=>{if(v)try{const A=await v.text();if(!A.trim()){alert("Selected file is empty.");return}const Ae=await fetch(`${yt.base}/api/database/import`,{method:"POST",headers:{"Content-Type":"text/plain"},body:A});if(!Ae.ok){const mt=await Ae.json().catch(()=>({}));throw new Error(mt.details||mt.error||"Failed to import SQL file")}alert("SQL file imported successfully.")}catch(A){console.error("SQL import error:",A),alert(`Import failed: ${A instanceof Error?A.message:"Unknown error"}`)}},_o=async()=>{try{const v=await fetch(`${yt.base}/api/database/export`);if(!v.ok){const Jr=await v.json().catch(()=>({}));throw new Error(Jr.details||Jr.error||"Failed to export database")}const A=await v.blob(),Ae=window.URL.createObjectURL(A),mt=document.createElement("a");mt.href=Ae,mt.download="event_manager.sql",document.body.appendChild(mt),mt.click(),document.body.removeChild(mt),window.URL.revokeObjectURL(Ae),alert("Database export started. Check your downloads.")}catch(v){console.error("Database export error:",v),alert(`Export failed: ${v instanceof Error?v.message:"Unknown error"}`)}},Oo=async()=>{d({storeName:Jt,storeEmail:et,storePhone:Ha,storeAddress:Yt,applicationTitle:Dt,applicationSubtitle:At,selectedVenue:lt||void 0,themeColor:Ee,backgroundColor:Ce,textColor:Ye,highlightTextColor:at,dbHost:Se,dbUser:Pt,dbPassword:us,dbName:qt}),Se&&Pt&&qt&&await Lr(),a()};X.useEffect(()=>{ea&&N==="users"&&Va(),N==="licenses"&&$()},[N,ea,$]);const Qo=()=>{window.confirm("Are you sure you want to reset all settings to default values?")&&(u(),Rt("My Restaurant"),Ea(""),Ze(""),wt(""),tt("Event Manager"),zt("Professional Hospitality Event Management"),$t(""),ut("#f59e0b"),Bt("#0f172a"),Wt("#ffffff"),Le("#f59e0b"),fr(""),Mr(""),Er(""),Hr(""))},Io=v=>{const A=v.target.files?.[0];A&&o(A)},Go=()=>{d({logo:"/assets/default-logo.png"}),alert("Logo reset to default successfully!")},Uo=()=>{De.name&&De.type&&De.color&&(c({name:De.name,type:De.type,color:De.color,icon:De.icon||"ðŸ“…"}),Kt({name:"",type:"",color:"#6b7280",icon:"ðŸ“…"}))},Xa=(v,A)=>{l(v,A),ms(null)},Co=v=>{window.confirm("Are you sure you want to delete this venue?")&&i(v)},La=()=>{Xe({username:"",password:"",role:"operator",firstName:"",lastName:"",phone:"",email:""}),ct(null),Re(!1),ht(!1),L(null)},Yo=v=>{ct(v),Re(!0),ht(!1),Xe({username:v.username,password:"",role:v.role,firstName:v.firstName,lastName:v.lastName,phone:v.phone,email:v.email})},zo=async v=>{v.preventDefault(),L(null);try{if(ge&&he){const A=await Me(je.usersById(he.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...Ve,password:Ve.password?Ve.password:void 0})});if(!A.ok){const Ae=await A.json().catch(()=>({error:"Failed to update user"}));throw new Error(Ae.error||"Failed to update user")}}else{const A=await Me(je.users,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ve)});if(!A.ok){const Ae=await A.json().catch(()=>({error:"Failed to create user"}));throw new Error(Ae.error||"Failed to create user")}}await Va(),La()}catch(A){L(A instanceof Error?A.message:"User action failed")}},$o=async v=>{if(window.confirm("Are you sure you want to delete this user?")){L(null);try{const A=await Me(je.usersById(v),{method:"DELETE"});if(!A.ok){const Ae=await A.json().catch(()=>({error:"Failed to delete user"}));throw new Error(Ae.error||"Failed to delete user")}await Va()}catch(A){L(A instanceof Error?A.message:"Failed to delete user")}}};return e?t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDUxNjo0","data-yw-s":!0,children:t.jsxs("div",{className:"bg-white rounded-lg shadow-2xl max-w-5xl w-full max-h-[90vh] overflow-hidden","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDUxNzo2","data-yw-s":!0,children:[t.jsxs("div",{className:"flex items-center justify-between p-6 border-b bg-gradient-to-r from-slate-50 to-slate-100 border-slate-200","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDUxOTo4","data-yw-s":!0,children:[t.jsx("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDUyMDoxMA","data-yw-s":!0,children:t.jsx("h2",{className:"text-xl font-semibold text-slate-800","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDUyMToxMg","data-yw-t":!0,"data-yw-s":!0,children:"Settings"})}),t.jsx("button",{onClick:a,className:"text-slate-400 hover:text-slate-600 transition-colors","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDUyMzoxMA","data-yw-s":!0,children:t.jsx(Ot,{className:"h-6 w-6","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDUyNzoxMg","data-yw-s":!0})})]}),t.jsxs("div",{className:"flex h-[calc(90vh-140px)]","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDUzMTo4","data-yw-s":!0,children:[t.jsx("div",{className:"w-48 bg-slate-50 border-r border-slate-200 flex-shrink-0","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDUzMzoxMA","data-yw-s":!0,children:t.jsxs("div",{className:"p-4 space-y-3","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDUzNDoxMg","data-yw-s":!0,children:[t.jsxs("button",{onClick:()=>x("general"),className:`w-full text-left px-3 py-2 rounded-md text-sm transition-colors flex items-center gap-2 ${N==="general"?"bg-amber-100 text-amber-700 font-medium":"text-slate-600 hover:bg-slate-100"}`,"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDUzNToxNA","data-yw-s":!0,children:[t.jsx(Tr,{className:"h-4 w-4","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDU0MzoxNg","data-yw-s":!0}),t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDU0Mzo0OA","data-yw-t":!0,"data-yw-auto":!0,children:"General"})]}),t.jsxs("button",{onClick:()=>x("venues"),className:`w-full text-left px-3 py-2 rounded-md text-sm transition-colors flex items-center gap-2 ${N==="venues"?"bg-amber-100 text-amber-700 font-medium":"text-slate-600 hover:bg-slate-100"}`,"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDU0NjoxNA","data-yw-s":!0,children:[t.jsx(sa,{className:"h-4 w-4","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDU1NDoxNg","data-yw-s":!0}),t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDU1NDo0NA","data-yw-t":!0,"data-yw-auto":!0,children:"Venues"})]}),t.jsxs("button",{onClick:()=>x("colors"),className:`w-full text-left px-3 py-2 rounded-md text-sm transition-colors flex items-center gap-2 ${N==="colors"?"bg-amber-100 text-amber-700 font-medium":"text-slate-600 hover:bg-slate-100"}`,"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDU1NzoxNA","data-yw-s":!0,children:[t.jsx(An,{className:"h-4 w-4","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDU2NToxNg","data-yw-s":!0}),t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDU2NTo0Nw","data-yw-t":!0,"data-yw-auto":!0,children:"Theme"})]}),ea&&t.jsxs("button",{onClick:()=>x("users"),className:`w-full text-left px-3 py-2 rounded-md text-sm transition-colors flex items-center gap-2 ${N==="users"?"bg-amber-100 text-amber-700 font-medium":"text-slate-600 hover:bg-slate-100"}`,"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDU2OToxNg","data-yw-s":!0,children:[t.jsx(da,{className:"h-4 w-4","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDU3NzoxOA","data-yw-s":!0}),t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDU3Nzo0Nw","data-yw-t":!0,"data-yw-auto":!0,children:"Users"})]}),t.jsxs("button",{onClick:()=>x("licenses"),className:`w-full text-left px-3 py-2 rounded-md text-sm transition-colors flex items-center gap-2 ${N==="licenses"?"bg-amber-100 text-amber-700 font-medium":"text-slate-600 hover:bg-slate-100"}`,"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDU4MToxNA","data-yw-s":!0,children:[t.jsx(kr,{className:"h-4 w-4","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDU4OToxNg","data-yw-s":!0}),t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDU4OTo0OA","data-yw-t":!0,"data-yw-auto":!0,children:"Licenses"})]}),t.jsxs("button",{onClick:()=>x("database"),className:`w-full text-left px-3 py-2 rounded-md text-sm transition-colors flex items-center gap-2 ${N==="database"?"bg-amber-100 text-amber-700 font-medium":"text-slate-600 hover:bg-slate-100"}`,"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDU5MjoxNA","data-yw-s":!0,children:[t.jsx(Tr,{className:"h-4 w-4","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDYwMDoxNg","data-yw-s":!0}),t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDYwMDo0OA","data-yw-t":!0,"data-yw-auto":!0,children:"Database"})]})]})}),t.jsxs("div",{className:"flex-1 overflow-y-auto","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDYwNzoxMA","data-yw-s":!0,children:[N==="general"&&t.jsxs("div",{className:"p-6 space-y-6","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDYxMDoxNA","data-yw-s":!0,children:[t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDYxMjoxNg","data-yw-s":!0,children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDYxMzoxOA","data-yw-t":!0,"data-yw-s":!0,children:"Store Name"}),t.jsx("input",{type:"text",value:Jt,onChange:v=>Rt(v.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"My Restaurant","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDYxNjoxOA","data-yw-s":!0})]}),t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDYyNjoxNg","data-yw-s":!0,children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDYyNzoxOA","data-yw-t":!0,"data-yw-s":!0,children:"Store Email"}),t.jsx("input",{type:"email",value:et,onChange:v=>Ea(v.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"info@myrestaurant.com","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDYzMDoxOA","data-yw-s":!0}),t.jsx("p",{className:"text-sm text-slate-500 mt-1","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDYzNzoxOA","data-yw-t":!0,"data-yw-s":!0,children:"This email will appear on invoices"})]}),t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDY0MzoxNg","data-yw-s":!0,children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDY0NDoxOA","data-yw-t":!0,"data-yw-s":!0,children:"Store Phone"}),t.jsx("input",{type:"tel",value:Ha,onChange:v=>Ze(v.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"(555) 123-4567","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDY0NzoxOA","data-yw-s":!0}),t.jsx("p",{className:"text-sm text-slate-500 mt-1","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDY1NDoxOA","data-yw-t":!0,"data-yw-s":!0,children:"This phone number will appear on invoices"})]}),t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDY2MDoxNg","data-yw-s":!0,children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDY2MToxOA","data-yw-t":!0,"data-yw-s":!0,children:"Store Address"}),t.jsx("textarea",{value:Yt,onChange:v=>wt(v.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"123 Main Street, City, State 12345",rows:3,"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDY2NDoxOA","data-yw-s":!0}),t.jsx("p",{className:"text-sm text-slate-500 mt-1","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDY3MToxOA","data-yw-t":!0,"data-yw-s":!0,children:"This address will appear on invoices"})]}),t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDY3NzoxNg","data-yw-s":!0,children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDY3ODoxOA","data-yw-t":!0,"data-yw-s":!0,children:"Application Title"}),t.jsx("input",{type:"text",value:Dt,onChange:v=>tt(v.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Event Manager","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDY4MToxOA","data-yw-s":!0}),t.jsx("p",{className:"text-sm text-slate-500 mt-1","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDY4ODoxOA","data-yw-t":!0,"data-yw-s":!0,children:"This appears as the main title in the header"})]}),t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDY5NDoxNg","data-yw-s":!0,children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDY5NToxOA","data-yw-t":!0,"data-yw-s":!0,children:"Application Subtitle"}),t.jsx("input",{type:"text",value:At,onChange:v=>zt(v.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Professional Hospitality Event Management","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDY5ODoxOA","data-yw-s":!0}),t.jsx("p",{className:"text-sm text-slate-500 mt-1","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDcwNToxOA","data-yw-t":!0,"data-yw-s":!0,children:"This appears as the subtitle in the header"})]}),t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDcxMToxNg","data-yw-s":!0,children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDcxMjoxOA","data-yw-t":!0,"data-yw-s":!0,children:"Logo"}),t.jsxs("div",{className:"flex items-center gap-4","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDcxNToxOA","data-yw-s":!0,children:[s.logo&&t.jsx("img",{src:s.logo,alt:"Logo",className:"w-16 h-16 object-contain rounded-md border border-slate-200","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDcxNzoyMg","data-yw-s":!0}),t.jsxs("button",{onClick:()=>Vr.current?.click(),className:"px-4 py-2 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-md font-medium transition-colors flex items-center gap-2","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDcyMzoyMA","data-yw-s":!0,children:[t.jsx(tr,{className:"h-4 w-4","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDcyNzoyMg","data-yw-s":!0}),t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDcyNzo1Mg","data-yw-t":!0,"data-yw-auto":!0,children:"Upload Logo"})]}),s.logo&&t.jsxs("button",{onClick:Go,className:"px-4 py-2 bg-red-100 hover:bg-red-200 text-red-700 rounded-md font-medium transition-colors flex items-center gap-2","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDczMToyMg","data-yw-s":!0,children:[t.jsx(ac,{className:"h-4 w-4","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDczNToyNA","data-yw-s":!0}),t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDczNTo1Nw","data-yw-t":!0,"data-yw-auto":!0,children:"Reset to Default"})]}),t.jsx("input",{ref:Vr,type:"file",accept:"image/*",onChange:Io,className:"hidden","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDczOToyMA","data-yw-s":!0})]}),t.jsx("p",{className:"text-sm text-slate-500 mt-1","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDc0NzoxOA","data-yw-t":!0,"data-yw-s":!0,children:"Recommended size: 200x200px, PNG or JPG"})]}),t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDc1MzoxNg","data-yw-s":!0,children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDc1NDoxOA","data-yw-t":!0,"data-yw-s":!0,children:"Default Active Venue"}),t.jsxs("select",{value:lt,onChange:v=>$t(v.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:ring-2 focus:ring-amber-500 focus:border-transparent","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDc1NzoxOA","data-yw-s":!0,children:[t.jsx("option",{value:"","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDc2MjoyMA","data-yw-t":!0,"data-yw-s":!0,children:"All Venues"}),r.map(v=>t.jsxs("option",{value:v.id,"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDc2NDoyMg","data-yw-s":!0,children:[v.icon," ",v.name]},v.id))]}),t.jsx("p",{className:"text-sm text-slate-500 mt-1","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDc2OToxOA","data-yw-t":!0,"data-yw-s":!0,children:"When selected, this venue will be highlighted in the header"})]})]}),N==="venues"&&t.jsxs("div",{className:"p-6 space-y-6","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDc3ODoxNA","data-yw-s":!0,children:[t.jsxs("div",{className:"bg-slate-50 rounded-lg p-4","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDc4MDoxNg","data-yw-s":!0,children:[t.jsx("h3",{className:"font-medium text-slate-800 mb-3","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDc4MToxOA","data-yw-t":!0,"data-yw-s":!0,children:"Add New Venue"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDc4MjoxOA","data-yw-s":!0,children:[t.jsx("input",{type:"text",placeholder:"Venue Name",value:De.name||"",onChange:v=>Kt({...De,name:v.target.value}),className:"px-3 py-2 border border-slate-300 rounded-md focus:ring-2 focus:ring-amber-500 focus:border-transparent","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDc4MzoyMA","data-yw-s":!0}),t.jsx("input",{type:"text",placeholder:"Type (e.g., private_dining)",value:De.type||"",onChange:v=>Kt({...De,type:v.target.value}),className:"px-3 py-2 border border-slate-300 rounded-md focus:ring-2 focus:ring-amber-500 focus:border-transparent","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDc5MDoyMA","data-yw-s":!0}),t.jsxs("div",{className:"flex gap-2","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDc5NzoyMA","data-yw-s":!0,children:[t.jsx("input",{type:"color",value:De.color||"#6b7280",onChange:v=>Kt({...De,color:v.target.value}),className:"w-12 h-10 rounded border border-slate-300","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDc5ODoyMg","data-yw-s":!0}),t.jsx("input",{type:"text",placeholder:"ðŸ•",value:De.icon||"",onChange:v=>Kt({...De,icon:v.target.value}),className:"flex-1 px-3 py-2 border border-slate-300 rounded-md focus:ring-2 focus:ring-amber-500 focus:border-transparent text-center","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDgwNDoyMg","data-yw-s":!0})]}),t.jsxs("button",{onClick:Uo,className:"px-4 py-2 bg-amber-500 hover:bg-amber-600 text-white rounded-md font-medium transition-colors flex items-center justify-center gap-2","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDgxMjoyMA","data-yw-s":!0,children:[t.jsx(Ue,{className:"h-4 w-4","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDgxNjoyMg","data-yw-s":!0}),t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDgxNjo1MA","data-yw-t":!0,"data-yw-auto":!0,children:"Add"})]})]})]}),t.jsxs("div",{className:"space-y-3","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDgyMzoxNg","data-yw-s":!0,children:[t.jsx("h3",{className:"font-medium text-slate-800","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDgyNDoxOA","data-yw-t":!0,"data-yw-s":!0,children:"Manage Venues"}),r.map(v=>t.jsx("div",{className:"bg-white border border-slate-200 rounded-lg p-4","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDgyNjoyMA","data-yw-s":!0,children:Wo===v.id?t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-3 items-center","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDgyODoyNA","data-yw-s":!0,children:[t.jsx("input",{type:"text",defaultValue:v.name,onBlur:A=>Xa(v.id,{name:A.target.value}),className:"px-3 py-2 border border-slate-300 rounded-md focus:ring-2 focus:ring-amber-500 focus:border-transparent","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDgyOToyNg","data-yw-s":!0}),t.jsx("input",{type:"text",defaultValue:v.type,onBlur:A=>Xa(v.id,{type:A.target.value}),className:"px-3 py-2 border border-slate-300 rounded-md focus:ring-2 focus:ring-amber-500 focus:border-transparent","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDgzNToyNg","data-yw-s":!0}),t.jsx("input",{type:"color",defaultValue:v.color,onChange:A=>Xa(v.id,{color:A.target.value}),className:"w-full h-10 rounded border border-slate-300","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDg0MToyNg","data-yw-s":!0}),t.jsx("input",{type:"text",defaultValue:v.icon,onBlur:A=>Xa(v.id,{icon:A.target.value}),className:"px-3 py-2 border border-slate-300 rounded-md focus:ring-2 focus:ring-amber-500 focus:border-transparent text-center","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDg0NzoyNg","data-yw-s":!0}),t.jsx("button",{onClick:()=>ms(null),className:"px-3 py-2 bg-green-500 hover:bg-green-600 text-white rounded-md text-sm","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDg1MzoyNg","data-yw-t":!0,"data-yw-s":!0,children:"Done"})]}):t.jsxs("div",{className:"flex items-center justify-between","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDg2MToyNA","data-yw-s":!0,children:[t.jsxs("div",{className:"flex items-center gap-3","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDg2MjoyNg","data-yw-s":!0,children:[t.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:v.color},"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDg2MzoyOA"}),t.jsx("span",{className:"text-lg","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDg2NzoyOA","data-yw-s":!0,children:v.icon}),t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDg2ODoyOA","data-yw-s":!0,children:[t.jsx("div",{className:"font-medium text-slate-800","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDg2OTozMA","data-yw-s":!0,children:v.name}),t.jsx("div",{className:"text-sm text-slate-500","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDg3MDozMA","data-yw-s":!0,children:v.type})]})]}),t.jsxs("div",{className:"flex items-center gap-2","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDg3MzoyNg","data-yw-s":!0,children:[t.jsx("button",{onClick:()=>ms(v.id),className:"p-2 text-slate-600 hover:text-amber-600 hover:bg-amber-50 rounded-lg transition-colors","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDg3NDoyOA","data-yw-s":!0,children:t.jsx(sa,{className:"h-4 w-4","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDg3ODozMA","data-yw-s":!0})}),!["restaurant","bar","banquet"].includes(v.id)&&t.jsx("button",{onClick:()=>Co(v.id),className:"p-2 text-slate-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDg4MTozMA","data-yw-s":!0,children:t.jsx(ft,{className:"h-4 w-4","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDg4NTozMg","data-yw-s":!0})})]})]})},v.id))]})]}),N==="licenses"&&t.jsxs("div",{className:"p-6 space-y-6","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDg5OToxNA","data-yw-s":!0,children:[t.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4 shadow-sm text-sm text-amber-800","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDkwMDoxNg","data-yw-s":!0,children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2 font-semibold text-amber-900","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDkwMToxOA","data-yw-s":!0,children:[t.jsx(kr,{className:"h-4 w-4 text-amber-500","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDkwMjoyMA","data-yw-s":!0}),t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDkwMjo2Nw","data-yw-t":!0,"data-yw-auto":!0,children:"License Management"})]}),t.jsxs("ul",{className:"space-y-1 leading-relaxed","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDkwNToxOA","data-yw-s":!0,children:[t.jsx("li",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDkwNjoyMA","data-yw-t":!0,"data-yw-s":!0,children:"â€¢ Generate and manage activation serials for Python/CUDA apps"}),t.jsx("li",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDkwNzoyMA","data-yw-t":!0,"data-yw-s":!0,children:"â€¢ Verify license validity before running GPU workloads"}),t.jsx("li",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDkwODoyMA","data-yw-t":!0,"data-yw-s":!0,children:"â€¢ Support monthly or yearly billing with remote deactivation"})]})]}),t.jsxs("div",{className:"flex flex-col md:flex-row gap-4","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDkxMjoxNg","data-yw-s":!0,children:[t.jsxs("div",{className:"flex-1 bg-white border border-slate-200 rounded-lg p-4 space-y-4","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDkxMzoxOA","data-yw-s":!0,children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDkxNDoyMA","data-yw-s":!0,children:[t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDkxNToyMg","data-yw-s":!0,children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-800","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDkxNjoyNA","data-yw-t":!0,"data-yw-s":!0,children:"Serial Health Check"}),t.jsx("p",{className:"text-sm text-slate-500","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDkxNzoyNA","data-yw-t":!0,"data-yw-s":!0,children:"Confirm entitlement before your Python launcher boots GPU workloads."})]}),t.jsx("p",{className:"text-xs text-slate-500 max-w-sm","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDkxOToyMg","data-yw-t":!0,"data-yw-s":!0,children:"The Worker endpoint answers in real time so remote disable or plan downgrades take effect instantlyâ€”even on headless rigs."})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDkyMzoyMA","data-yw-s":!0,children:[t.jsx("input",{type:"text",value:M,onChange:v=>B(v.target.value),placeholder:"e.g. ABC123-XYZ789",className:"flex-1 px-3 py-2 border border-slate-300 rounded-md focus:ring-2 focus:ring-amber-500 focus:border-transparent font-mono","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDkyNDoyMg","data-yw-s":!0}),t.jsx("button",{onClick:vs,disabled:ae,className:"px-4 py-2 bg-amber-500 hover:bg-amber-600 text-white rounded-md font-medium transition-colors flex items-center gap-2","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDkzMToyMg","data-yw-s":!0,children:ae?t.jsxs(t.Fragment,{children:[t.jsx(bs,{className:"h-4 w-4 animate-spin","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDkzODoyOA","data-yw-s":!0}),"Checkingâ€¦"]}):t.jsxs(t.Fragment,{children:[t.jsx(Sr,{className:"h-4 w-4","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDk0MzoyOA","data-yw-s":!0}),"Verify Serial"]})})]}),q&&t.jsxs("div",{className:`mt-3 px-3 py-2 rounded-lg text-sm font-medium flex items-center gap-2 ${J==="success"?"bg-emerald-50 border border-emerald-200 text-emerald-700":"bg-red-50 border border-red-200 text-red-700"}`,"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDk1MDoyMg","data-yw-s":!0,children:[J==="success"?t.jsx(Bi,{className:"h-4 w-4","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDk1ODoyNg","data-yw-s":!0}):t.jsx(Dn,{className:"h-4 w-4","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDk2MDoyNg","data-yw-s":!0}),q]})]}),t.jsxs("div",{className:"w-full md:w-64 bg-white border border-slate-200 rounded-lg p-4 space-y-3","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDk2NjoxOA","data-yw-s":!0,children:[t.jsx("h4",{className:"text-sm font-semibold text-slate-700 uppercase tracking-wide","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDk2NzoyMA","data-yw-t":!0,"data-yw-s":!0,children:"Developer Shortcuts"}),t.jsxs("button",{onClick:()=>{B("ABC123-XYZ789"),vs()},className:"w-full px-3 py-2 border border-slate-300 rounded-md hover:bg-slate-50 text-sm flex items-center justify-between","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDk2ODoyMA","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDk3NDoyMQ","data-yw-t":!0,"data-yw-auto":!0,children:"Sample Yearly Serial"}),t.jsx(Ds,{className:"h-4 w-4 text-slate-400","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDk3NjoyMg","data-yw-s":!0})]}),t.jsxs("button",{onClick:()=>{B("DEF456-UVW000"),vs()},className:"w-full px-3 py-2 border border-slate-300 rounded-md hover:bg-slate-50 text-sm flex items-center justify-between","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDk3ODoyMA","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDk4NDoyMQ","data-yw-t":!0,"data-yw-auto":!0,children:"Sample Monthly Serial"}),t.jsx(Ds,{className:"h-4 w-4 text-slate-400","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDk4NjoyMg","data-yw-s":!0})]}),t.jsxs("div",{className:"text-xs text-slate-500","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDk4ODoyMA","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDk4ODo2MA","data-yw-t":!0,"data-yw-auto":!0,children:"Python launcher snippet:"}),t.jsx("pre",{className:"mt-2 bg-slate-900 text-slate-100 rounded-md p-2 text-[11px] overflow-x-auto","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDk5MDoyMg","data-yw-s":!0,children:`if not verify_license("SERIAL-HERE"):
    raise SystemExit("license check failed")`})]})]})]}),V&&t.jsx("div",{className:"px-3 py-2 bg-red-50 border border-red-200 text-sm text-red-700 rounded-lg","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDk5OToxOA","data-yw-s":!0,children:V}),t.jsxs("div",{className:"flex justify-between items-center","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEwMDQ6MTY","data-yw-s":!0,children:[t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEwMDU6MTg","data-yw-s":!0,children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-800","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEwMDY6MjA","data-yw-t":!0,"data-yw-s":!0,children:"Issued Licenses"}),t.jsx("p",{className:"text-sm text-slate-500","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEwMDc6MjA","data-yw-t":!0,"data-yw-s":!0,children:"Track active, expired, or disabled keys mapped to each customer contract."})]}),t.jsxs("div",{className:"flex gap-3","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEwMTE6MTg","data-yw-s":!0,children:[t.jsxs("button",{onClick:To,className:"px-4 py-2 bg-amber-500 hover:bg-amber-600 text-white rounded-md font-medium transition-colors flex items-center gap-2","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEwMTI6MjA","data-yw-s":!0,children:[t.jsx(Ue,{className:"h-4 w-4","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEwMTY6MjI","data-yw-s":!0}),t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEwMTY6NTA","data-yw-t":!0,"data-yw-auto":!0,children:"New License"})]}),t.jsx("button",{onClick:$,className:"px-4 py-2 border border-slate-300 rounded-md hover:bg-slate-100 transition-colors","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEwMTk6MjA","data-yw-t":!0,"data-yw-s":!0,children:"Refresh"})]})]}),ue&&t.jsxs("form",{onSubmit:Fo,className:"bg-white border border-slate-200 rounded-lg p-4 space-y-4","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEwMjk6MTg","data-yw-s":!0,children:[t.jsxs("div",{className:"flex items-center justify-between","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEwMzA6MjA","data-yw-s":!0,children:[t.jsx("h4",{className:"font-semibold text-slate-700","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEwMzE6MjI","data-yw-s":!0,children:be?`Edit ${be.serialNumber}`:"Create License"}),t.jsx("button",{type:"button",onClick:()=>{pe(!1),I(null)},className:"text-sm text-slate-500 hover:text-slate-700","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEwMzQ6MjI","data-yw-t":!0,"data-yw-s":!0,children:"Cancel"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEwNDY6MjA","data-yw-s":!0,children:[t.jsxs("div",{className:"space-y-2","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEwNDc6MjI","data-yw-s":!0,children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEwNDg6MjQ","data-yw-t":!0,"data-yw-s":!0,children:"Serial Number"}),t.jsxs("div",{className:"flex gap-2","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEwNDk6MjQ","data-yw-s":!0,children:[t.jsx("input",{type:"text",value:Z.serialNumber,onChange:v=>Y(A=>({...A,serialNumber:v.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:ring-2 focus:ring-amber-500",placeholder:"ABC123-YR-20251002-ABCD",disabled:Z.autoGenerate,required:!Z.autoGenerate,"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEwNTA6MjY","data-yw-s":!0}),t.jsxs("button",{type:"button",onClick:async()=>{try{const v=await C({planType:Z.planType,userName:Z.userName,prefix:Z.prefix||void 0,randomLength:Z.randomLength,startDate:Z.startDate,expiryDate:Z.expiryDate});Y(A=>({...A,serialNumber:v.serialNumber,startDate:v.startDate,expiryDate:v.expiryDate}))}catch(v){console.error("Failed to refresh serial preview",v)}},className:"px-3 py-2 border border-slate-300 rounded-md hover:bg-slate-100 transition-colors text-sm flex items-center gap-2",disabled:!g,"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEwNTk6MjY","data-yw-s":!0,children:[t.jsx(bs,{className:"h-4 w-4","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEwODQ6Mjg","data-yw-s":!0}),t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEwODQ6NjI","data-yw-t":!0,"data-yw-auto":!0,children:"Preview"})]})]}),t.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-600","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEwODg6MjQ","data-yw-s":!0,children:[t.jsx("input",{type:"checkbox",checked:Z.autoGenerate,onChange:v=>Y(A=>({...A,autoGenerate:v.target.checked})),disabled:!g,"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEwODk6MjY","data-yw-s":!0}),g?"Auto-generate serial on save":"Manual serial entry required"]})]}),t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDExMDM6MjI","data-yw-s":!0,children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDExMDQ6MjQ","data-yw-t":!0,"data-yw-s":!0,children:"Customer"}),t.jsx("input",{type:"text",value:Z.userName,onChange:v=>Y(A=>({...A,userName:v.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:ring-2 focus:ring-amber-500",placeholder:"john@example.com","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDExMDU6MjQ","data-yw-s":!0})]}),t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDExMTM6MjI","data-yw-s":!0,children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDExMTQ6MjQ","data-yw-t":!0,"data-yw-s":!0,children:"Plan Type"}),t.jsxs("select",{value:Z.planType,onChange:v=>Y(A=>({...A,planType:v.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:ring-2 focus:ring-amber-500","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDExMTU6MjQ","data-yw-s":!0,children:[t.jsx("option",{value:"monthly","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDExMjM6MjY","data-yw-t":!0,"data-yw-s":!0,children:"Monthly"}),t.jsx("option",{value:"yearly","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDExMjQ6MjY","data-yw-t":!0,"data-yw-s":!0,children:"Yearly"})]})]}),t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDExMjc6MjI","data-yw-s":!0,children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDExMjg6MjQ","data-yw-t":!0,"data-yw-s":!0,children:"Status"}),t.jsxs("select",{value:Z.status,onChange:v=>Y(A=>({...A,status:v.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:ring-2 focus:ring-amber-500","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDExMjk6MjQ","data-yw-s":!0,children:[t.jsx("option",{value:"active","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDExMzQ6MjY","data-yw-t":!0,"data-yw-s":!0,children:"Active"}),t.jsx("option",{value:"expired","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDExMzU6MjY","data-yw-t":!0,"data-yw-s":!0,children:"Expired"}),t.jsx("option",{value:"disabled","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDExMzY6MjY","data-yw-t":!0,"data-yw-s":!0,children:"Disabled"})]})]}),t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDExMzk6MjI","data-yw-s":!0,children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDExNDA6MjQ","data-yw-t":!0,"data-yw-s":!0,children:"Start Date"}),t.jsx("input",{type:"date",value:Z.startDate,onChange:v=>Y(A=>({...A,startDate:v.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:ring-2 focus:ring-amber-500",required:!0,"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDExNDE6MjQ","data-yw-s":!0})]}),t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDExNDk6MjI","data-yw-s":!0,children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDExNTA6MjQ","data-yw-t":!0,"data-yw-s":!0,children:"Expiry Date"}),t.jsx("input",{type:"date",value:Z.expiryDate,onChange:v=>Y(A=>({...A,expiryDate:v.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:ring-2 focus:ring-amber-500",required:!0,"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDExNTE6MjQ","data-yw-s":!0})]})]}),t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDExNjE6MjA","data-yw-s":!0,children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDExNjI6MjI","data-yw-t":!0,"data-yw-s":!0,children:"Notes"}),t.jsx("textarea",{value:Z.notes,onChange:v=>Y(A=>({...A,notes:v.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:ring-2 focus:ring-amber-500",rows:3,placeholder:"Custom GPU build, allow remote disable, etc.","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDExNjM6MjI","data-yw-s":!0})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDExNzI6MjA","data-yw-s":!0,children:[t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDExNzM6MjI","data-yw-s":!0,children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDExNzQ6MjQ","data-yw-t":!0,"data-yw-s":!0,children:"Serial Prefix (Optional)"}),t.jsx("input",{type:"text",value:Z.prefix,onChange:v=>Y(A=>({...A,prefix:v.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:ring-2 focus:ring-amber-500",placeholder:"CLIENT",disabled:!g,"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDExNzU6MjQ","data-yw-s":!0}),t.jsx("p",{className:"text-xs text-slate-500 mt-1","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDExODM6MjQ","data-yw-t":!0,"data-yw-s":!0,children:"Will be uppercased and sanitized automatically."})]}),t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDExODU6MjI","data-yw-s":!0,children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDExODY6MjQ","data-yw-t":!0,"data-yw-s":!0,children:"Random Segment Length"}),t.jsx("input",{type:"number",min:2,max:8,value:Z.randomLength,onChange:v=>Y(A=>({...A,randomLength:Number.parseInt(v.target.value,10)||4})),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:ring-2 focus:ring-amber-500",disabled:!g,"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDExODc6MjQ","data-yw-s":!0}),t.jsx("p",{className:"text-xs text-slate-500 mt-1","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEyMDE6MjQ","data-yw-t":!0,"data-yw-s":!0,children:"Between 2 and 8 characters."})]}),t.jsx("div",{className:"flex items-end","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEyMDM6MjI","data-yw-s":!0,children:t.jsx("button",{type:"button",onClick:()=>{Y({serialNumber:"",userName:"",planType:"monthly",startDate:new Date().toISOString().slice(0,10),expiryDate:new Date().toISOString().slice(0,10),status:"active",notes:"",prefix:"",autoGenerate:g,randomLength:4}),I(null)},className:"w-full px-4 py-2 border border-slate-300 rounded-md hover:bg-slate-100 transition-colors text-sm","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEyMDQ6MjQ","data-yw-t":!0,"data-yw-s":!0,children:"Reset Form"})})]}),t.jsxs("div",{className:"flex justify-end gap-3","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEyMjg6MjA","data-yw-s":!0,children:[t.jsx("button",{type:"button",onClick:()=>{pe(!1),I(null)},className:"px-4 py-2 border border-slate-300 rounded-md hover:bg-slate-100 transition-colors","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEyMjk6MjI","data-yw-t":!0,"data-yw-s":!0,children:"Cancel"}),t.jsx("button",{type:"submit",className:"px-4 py-2 bg-amber-500 hover:bg-amber-600 text-white rounded-md font-medium transition-colors","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEyMzk6MjI","data-yw-s":!0,children:be?"Save Changes":"Create License"})]})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg overflow-hidden","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEyNDk6MTY","data-yw-s":!0,children:[t.jsxs("div",{className:"p-4 border-b border-slate-200 flex items-center justify-between","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEyNTA6MTg","data-yw-s":!0,children:[t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEyNTE6MjA","data-yw-s":!0,children:[t.jsx("h4",{className:"font-semibold text-slate-700","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEyNTI6MjI","data-yw-t":!0,"data-yw-s":!0,children:"License Inventory"}),t.jsx("p",{className:"text-xs text-slate-500","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEyNTM6MjI","data-yw-t":!0,"data-yw-s":!0,children:"Track active, expired, and disabled serials."})]}),t.jsxs("div",{className:"text-xs text-slate-500","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEyNTU6MjA","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEyNTU6NjA","data-yw-t":!0,"data-yw-auto":!0,children:"Total: "}),f.length]})]}),t.jsx("div",{className:"max-h-80 overflow-y-auto","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEyNTk6MTg","data-yw-s":!0,children:T?t.jsxs("div",{className:"p-4 text-center text-sm text-slate-500 flex items-center justify-center gap-2","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEyNjE6MjI","data-yw-s":!0,children:[t.jsx(bs,{className:"h-4 w-4 animate-spin","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEyNjI6MjQ","data-yw-s":!0}),t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEyNjI6NzE","data-yw-t":!0,"data-yw-auto":!0,children:"Loading licensesâ€¦"})]}):f.length===0?t.jsx("div",{className:"p-4 text-center text-sm text-slate-500","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEyNjY6MjI","data-yw-t":!0,"data-yw-s":!0,children:"No licenses issued yet."}):t.jsxs("table",{className:"min-w-full text-sm","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEyNzA6MjI","data-yw-s":!0,children:[t.jsx("thead",{className:"bg-slate-50 text-slate-500 uppercase text-xs","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEyNzE6MjQ","data-yw-s":!0,children:t.jsxs("tr",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEyNzI6MjY","data-yw-s":!0,children:[t.jsx("th",{className:"px-4 py-3 text-left","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEyNzM6Mjg","data-yw-t":!0,"data-yw-s":!0,children:"Serial"}),t.jsx("th",{className:"px-4 py-3 text-left","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEyNzQ6Mjg","data-yw-t":!0,"data-yw-s":!0,children:"User"}),t.jsx("th",{className:"px-4 py-3 text-left","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEyNzU6Mjg","data-yw-t":!0,"data-yw-s":!0,children:"Plan"}),t.jsx("th",{className:"px-4 py-3 text-left","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEyNzY6Mjg","data-yw-t":!0,"data-yw-s":!0,children:"Start"}),t.jsx("th",{className:"px-4 py-3 text-left","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEyNzc6Mjg","data-yw-t":!0,"data-yw-s":!0,children:"Expiry"}),t.jsx("th",{className:"px-4 py-3 text-left","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEyNzg6Mjg","data-yw-t":!0,"data-yw-s":!0,children:"Status"}),t.jsx("th",{className:"px-4 py-3 text-left","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEyNzk6Mjg","data-yw-t":!0,"data-yw-s":!0,children:"Notes"}),t.jsx("th",{className:"px-4 py-3 text-right","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEyODA6Mjg","data-yw-t":!0,"data-yw-s":!0,children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-100","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEyODM6MjQ","data-yw-s":!0,children:f.map(v=>t.jsxs("tr",{className:"hover:bg-slate-50","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEyODU6Mjg","data-yw-s":!0,children:[t.jsx("td",{className:"px-4 py-3 font-mono text-xs text-slate-600","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEyODY6MzA","data-yw-s":!0,children:v.serialNumber}),t.jsx("td",{className:"px-4 py-3 text-slate-700","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEyODk6MzA","data-yw-s":!0,children:v.userName}),t.jsx("td",{className:"px-4 py-3","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEyOTI6MzA","data-yw-s":!0,children:t.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-slate-100 text-slate-700 capitalize","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEyOTM6MzI","data-yw-s":!0,children:v.planType})}),t.jsx("td",{className:"px-4 py-3 text-slate-500","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEyOTc6MzA","data-yw-s":!0,children:v.startDate}),t.jsx("td",{className:"px-4 py-3 text-slate-500","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEyOTg6MzA","data-yw-s":!0,children:v.expiryDate}),t.jsx("td",{className:"px-4 py-3","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEyOTk6MzA","data-yw-s":!0,children:t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold capitalize ${v.status==="active"?"bg-emerald-100 text-emerald-700":v.status==="expired"?"bg-red-100 text-red-700":"bg-slate-200 text-slate-700"}`,"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEzMDA6MzI","data-yw-s":!0,children:v.status})}),t.jsx("td",{className:"px-4 py-3 text-slate-500 max-w-xs truncate",title:v.notes??"","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEzMTA6MzA","data-yw-s":!0,children:v.notes??"â€”"}),t.jsx("td",{className:"px-4 py-3 text-right","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEzMTM6MzA","data-yw-s":!0,children:t.jsxs("div",{className:"flex items-center justify-end gap-2","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEzMTQ6MzI","data-yw-s":!0,children:[t.jsx("button",{onClick:()=>ko(v),className:"p-2 rounded-md text-slate-500 hover:text-amber-600 hover:bg-amber-50 transition-colors","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEzMTU6MzQ","data-yw-s":!0,children:t.jsx(sa,{className:"h-4 w-4","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEzMTk6MzY","data-yw-s":!0})}),t.jsx("button",{onClick:()=>Zo(v),className:"p-2 rounded-md text-slate-500 hover:text-red-600 hover:bg-red-50 transition-colors","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEzMjE6MzQ","data-yw-s":!0,children:t.jsx(ft,{className:"h-4 w-4","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEzMjU6MzY","data-yw-s":!0})})]})})]},v.id))})]})})]})]}),N==="colors"&&t.jsxs("div",{className:"p-6 space-y-6","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEzNDE6MTQ","data-yw-s":!0,children:[t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEzNDM6MTY","data-yw-s":!0,children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-3","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEzNDQ6MTg","data-yw-t":!0,"data-yw-s":!0,children:"Application Theme Color"}),t.jsx("div",{className:"grid grid-cols-6 gap-3","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEzNDc6MTg","data-yw-s":!0,children:n.map(v=>t.jsxs("button",{onClick:()=>ut(v.color),className:`relative p-3 rounded-lg border-2 transition-all ${Ee===v.color?"border-slate-400 ring-2 ring-slate-200":"border-slate-200 hover:border-slate-300"}`,"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEzNDk6MjI","data-yw-s":!0,children:[t.jsx("div",{className:"w-full h-8 rounded",style:{backgroundColor:v.color},"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEzNTg6MjQ"}),t.jsx("div",{className:"text-xs text-slate-600 mt-1 text-center","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEzNjI6MjQ","data-yw-s":!0,children:v.name}),Ee===v.color&&t.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-slate-600 rounded-full border-2 border-white","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEzNjY6MjY","data-yw-s":!0})]},v.id))}),t.jsxs("div",{className:"mt-3","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEzNzE6MTg","data-yw-s":!0,children:[t.jsx("input",{type:"color",value:Ee,onChange:v=>ut(v.target.value),className:"w-20 h-10 rounded border border-slate-300","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEzNzI6MjA","data-yw-s":!0}),t.jsxs("span",{className:"ml-3 text-sm text-slate-600","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEzNzg6MjA","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEzNzg6NjY","data-yw-t":!0,"data-yw-auto":!0,children:"Custom Color: "}),Ee]})]})]}),t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEzODM6MTY","data-yw-s":!0,children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-3","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEzODQ6MTg","data-yw-t":!0,"data-yw-s":!0,children:"Application Background Color"}),t.jsx("div",{className:"grid grid-cols-6 gap-3","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEzODc6MTg","data-yw-s":!0,children:n.map(v=>t.jsxs("button",{onClick:()=>Bt(v.color),className:`relative p-3 rounded-lg border-2 transition-all ${Ce===v.color?"border-slate-400 ring-2 ring-slate-200":"border-slate-200 hover:border-slate-300"}`,"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEzODk6MjI","data-yw-s":!0,children:[t.jsx("div",{className:"w-full h-8 rounded",style:{backgroundColor:v.color},"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDEzOTg6MjQ"}),t.jsx("div",{className:"text-xs text-slate-600 mt-1 text-center","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE0MDI6MjQ","data-yw-s":!0,children:v.name}),Ce===v.color&&t.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-slate-600 rounded-full border-2 border-white","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE0MDY6MjY","data-yw-s":!0})]},`bg-${v.id}`))}),t.jsxs("div",{className:"mt-3","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE0MTE6MTg","data-yw-s":!0,children:[t.jsx("input",{type:"color",value:Ce,onChange:v=>Bt(v.target.value),className:"w-20 h-10 rounded border border-slate-300","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE0MTI6MjA","data-yw-s":!0}),t.jsxs("span",{className:"ml-3 text-sm text-slate-600","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE0MTg6MjA","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE0MTg6NjY","data-yw-t":!0,"data-yw-auto":!0,children:"Custom Background: "}),Ce]})]})]}),t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE0MjM6MTY","data-yw-s":!0,children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-3","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE0MjQ6MTg","data-yw-t":!0,"data-yw-s":!0,children:"Text Color"}),t.jsx("div",{className:"grid grid-cols-6 gap-3","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE0Mjc6MTg","data-yw-s":!0,children:n.map(v=>t.jsxs("button",{onClick:()=>Wt(v.color),className:`relative p-3 rounded-lg border-2 transition-all ${Ye===v.color?"border-slate-400 ring-2 ring-slate-200":"border-slate-200 hover:border-slate-300"}`,"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE0Mjk6MjI","data-yw-s":!0,children:[t.jsx("div",{className:"w-full h-8 rounded",style:{backgroundColor:v.color},"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE0Mzg6MjQ"}),t.jsx("div",{className:"text-xs text-slate-600 mt-1 text-center","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE0NDI6MjQ","data-yw-s":!0,children:v.name}),Ye===v.color&&t.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-slate-600 rounded-full border-2 border-white","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE0NDY6MjY","data-yw-s":!0})]},`text-${v.id}`))}),t.jsxs("div",{className:"mt-3","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE0NTE6MTg","data-yw-s":!0,children:[t.jsx("input",{type:"color",value:Ye,onChange:v=>Wt(v.target.value),className:"w-20 h-10 rounded border border-slate-300","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE0NTI6MjA","data-yw-s":!0}),t.jsxs("span",{className:"ml-3 text-sm text-slate-600","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE0NTg6MjA","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE0NTg6NjY","data-yw-t":!0,"data-yw-auto":!0,children:"Custom Text Color: "}),Ye]})]})]}),t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE0NjM6MTY","data-yw-s":!0,children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-3","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE0NjQ6MTg","data-yw-t":!0,"data-yw-s":!0,children:"Highlight Text Color"}),t.jsx("div",{className:"grid grid-cols-6 gap-3","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE0Njc6MTg","data-yw-s":!0,children:n.map(v=>t.jsxs("button",{onClick:()=>Le(v.color),className:`relative p-3 rounded-lg border-2 transition-all ${at===v.color?"border-slate-400 ring-2 ring-slate-200":"border-slate-200 hover:border-slate-300"}`,"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE0Njk6MjI","data-yw-s":!0,children:[t.jsx("div",{className:"w-full h-8 rounded",style:{backgroundColor:v.color},"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE0Nzg6MjQ"}),t.jsx("div",{className:"text-xs text-slate-600 mt-1 text-center","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE0ODI6MjQ","data-yw-s":!0,children:v.name}),at===v.color&&t.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-slate-600 rounded-full border-2 border-white","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE0ODY6MjY","data-yw-s":!0})]},`highlight-${v.id}`))}),t.jsxs("div",{className:"mt-3","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE0OTE6MTg","data-yw-s":!0,children:[t.jsx("input",{type:"color",value:at,onChange:v=>Le(v.target.value),className:"w-20 h-10 rounded border border-slate-300","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE0OTI6MjA","data-yw-s":!0}),t.jsxs("span",{className:"ml-3 text-sm text-slate-600","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE0OTg6MjA","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE0OTg6NjY","data-yw-t":!0,"data-yw-auto":!0,children:"Custom Highlight: "}),at]})]})]}),t.jsxs("div",{className:"bg-slate-50 rounded-lg p-4","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE1MDM6MTY","data-yw-s":!0,children:[t.jsx("h3",{className:"font-medium text-slate-800 mb-3","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE1MDQ6MTg","data-yw-t":!0,"data-yw-s":!0,children:"Theme Preview"}),t.jsxs("div",{className:"w-full h-32 rounded-lg flex items-center justify-center font-medium relative overflow-hidden",style:{backgroundColor:Ce},"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE1MDU6MTg",children:[t.jsx("div",{className:"absolute top-2 right-2 px-3 py-1 rounded text-sm",style:{backgroundColor:Ee,color:Ce},"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE1MDk6MjA","data-yw-t":!0,children:"Theme Color"}),t.jsxs("div",{className:"text-center","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE1MTU6MjA","data-yw-s":!0,children:[t.jsx("div",{className:"text-xl font-semibold",style:{color:Ye},"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE1MTY6MjI",children:Dt||"Event Manager"}),t.jsx("div",{className:"text-sm opacity-80 mt-1",style:{color:Ye},"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE1MjI6MjI",children:At||"Professional Hospitality Event Management"}),t.jsx("div",{className:"text-sm mt-2 font-medium",style:{color:at},"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE1Mjg6MjI","data-yw-t":!0,children:"Highlight Color Sample"})]})]})]})]}),N==="users"&&ea&&t.jsxs("div",{className:"p-6 space-y-6","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE1NDA6MTQ","data-yw-s":!0,children:[t.jsxs("div",{className:"bg-orange-50 border border-orange-300 rounded-xl p-4 shadow-sm text-sm text-orange-800","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE1NDE6MTY","data-yw-s":!0,children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2 font-semibold text-orange-900","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE1NDI6MTg","data-yw-s":!0,children:[t.jsx(Sr,{className:"h-4 w-4 text-orange-500","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE1NDM6MjA","data-yw-s":!0}),t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE1NDM6NjY","data-yw-t":!0,"data-yw-auto":!0,children:"Role Permissions"})]}),t.jsxs("ul",{className:"space-y-1 leading-relaxed","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE1NDY6MTg","data-yw-s":!0,children:[t.jsx("li",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE1NDc6MjA","data-yw-t":!0,"data-yw-s":!0,children:"â€¢ Admin & Manager can delete events"}),t.jsx("li",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE1NDg6MjA","data-yw-t":!0,"data-yw-s":!0,children:"â€¢ Managers manage host & operator accounts"}),t.jsx("li",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE1NDk6MjA","data-yw-t":!0,"data-yw-s":!0,children:"â€¢ Each user badge follows EVN### numbering"})]})]}),t.jsxs("div",{className:"flex justify-between items-center","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE1NTM6MTY","data-yw-s":!0,children:[t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE1NTQ6MTg","data-yw-s":!0,children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-800","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE1NTU6MjA","data-yw-t":!0,"data-yw-s":!0,children:"Users"}),t.jsx("p",{className:"text-sm text-slate-500","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE1NTY6MjA","data-yw-t":!0,"data-yw-s":!0,children:"Manage team members and their roles."})]}),t.jsxs("div",{className:"flex gap-3","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE1NjA6MTg","data-yw-s":!0,children:[t.jsxs("button",{onClick:()=>{La(),ht(!0)},className:"px-4 py-2 rounded-md font-medium transition-colors flex items-center gap-2 bg-amber-500 hover:bg-amber-600 text-white","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE1NjE6MjA","data-yw-s":!0,children:[t.jsx(Ue,{className:"h-4 w-4","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE1Njg6MjI","data-yw-s":!0}),t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE1Njg6NTA","data-yw-t":!0,"data-yw-auto":!0,children:"New User"})]}),t.jsx("button",{onClick:Va,className:"px-4 py-2 border border-slate-300 rounded-md hover:bg-slate-100 transition-colors","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE1NzE6MjA","data-yw-t":!0,"data-yw-s":!0,children:"Refresh"})]})]}),j&&t.jsx("div",{className:"px-3 py-2 rounded-lg bg-red-50 border border-red-200 text-sm text-red-700","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE1ODE6MTg","data-yw-s":!0,children:j}),(Ma||ge)&&t.jsxs("form",{onSubmit:zo,className:"bg-white border border-slate-200 rounded-lg p-4 space-y-4","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE1ODc6MTg","data-yw-s":!0,children:[t.jsxs("div",{className:"flex items-center justify-between","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE1ODg6MjA","data-yw-s":!0,children:[t.jsx("h4",{className:"font-semibold text-slate-700","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE1ODk6MjI","data-yw-s":!0,children:ge?`Edit ${he?.username}`:"Create User"}),t.jsx("button",{type:"button",onClick:La,className:"text-sm text-slate-500 hover:text-slate-700","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE1OTI6MjI","data-yw-t":!0,"data-yw-s":!0,children:"Cancel"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE2MDE6MjA","data-yw-s":!0,children:[t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE2MDI6MjI","data-yw-s":!0,children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE2MDM6MjQ","data-yw-t":!0,"data-yw-s":!0,children:"Username"}),t.jsx("input",{type:"text",value:Ve.username,onChange:v=>Xe(A=>({...A,username:v.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:ring-2 focus:ring-amber-500",required:!0,disabled:ge,"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE2MDQ6MjQ","data-yw-s":!0})]}),t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE2MTM6MjI","data-yw-s":!0,children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE2MTQ6MjQ","data-yw-t":!0,"data-yw-s":!0,children:"Password"}),t.jsx("input",{type:"password",value:Ve.password,onChange:v=>Xe(A=>({...A,password:v.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:ring-2 focus:ring-amber-500",placeholder:ge?"Leave blank to keep current password":void 0,required:!ge,"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE2MTU6MjQ","data-yw-s":!0})]}),t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE2MjQ6MjI","data-yw-s":!0,children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE2MjU6MjQ","data-yw-t":!0,"data-yw-s":!0,children:"First Name"}),t.jsx("input",{type:"text",value:Ve.firstName,onChange:v=>Xe(A=>({...A,firstName:v.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:ring-2 focus:ring-amber-500",required:!0,"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE2MjY6MjQ","data-yw-s":!0})]}),t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE2MzQ6MjI","data-yw-s":!0,children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE2MzU6MjQ","data-yw-t":!0,"data-yw-s":!0,children:"Last Name"}),t.jsx("input",{type:"text",value:Ve.lastName,onChange:v=>Xe(A=>({...A,lastName:v.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:ring-2 focus:ring-amber-500",required:!0,"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE2MzY6MjQ","data-yw-s":!0})]}),t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE2NDQ6MjI","data-yw-s":!0,children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE2NDU6MjQ","data-yw-t":!0,"data-yw-s":!0,children:"Phone"}),t.jsx("input",{type:"tel",value:Ve.phone,onChange:v=>Xe(A=>({...A,phone:v.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:ring-2 focus:ring-amber-500",required:!0,"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE2NDY6MjQ","data-yw-s":!0})]}),t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE2NTQ6MjI","data-yw-s":!0,children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE2NTU6MjQ","data-yw-t":!0,"data-yw-s":!0,children:"Email"}),t.jsx("input",{type:"email",value:Ve.email,onChange:v=>Xe(A=>({...A,email:v.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:ring-2 focus:ring-amber-500",required:!0,"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE2NTY6MjQ","data-yw-s":!0})]}),t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE2NjQ6MjI","data-yw-s":!0,children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE2NjU6MjQ","data-yw-t":!0,"data-yw-s":!0,children:"Role"}),t.jsxs("select",{value:Ve.role,onChange:v=>Xe(A=>({...A,role:v.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:ring-2 focus:ring-amber-500","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE2NjY6MjQ","data-yw-s":!0,children:[t.jsx("option",{value:"admin","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE2NzE6MjY","data-yw-t":!0,"data-yw-s":!0,children:"Admin"}),t.jsx("option",{value:"manager","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE2NzI6MjY","data-yw-t":!0,"data-yw-s":!0,children:"Manager"}),t.jsx("option",{value:"host","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE2NzM6MjY","data-yw-t":!0,"data-yw-s":!0,children:"Host"}),t.jsx("option",{value:"operator","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE2NzQ6MjY","data-yw-t":!0,"data-yw-s":!0,children:"Operator"})]})]})]}),t.jsxs("div",{className:"flex justify-end gap-3","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE2Nzk6MjA","data-yw-s":!0,children:[t.jsx("button",{type:"button",onClick:La,className:"px-4 py-2 border border-slate-300 rounded-md hover:bg-slate-100 transition-colors","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE2ODA6MjI","data-yw-t":!0,"data-yw-s":!0,children:"Cancel"}),t.jsx("button",{type:"submit",className:"px-4 py-2 bg-amber-500 hover:bg-amber-600 text-white rounded-md font-medium transition-colors","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE2ODc6MjI","data-yw-s":!0,children:ge?"Save Changes":"Create User"})]})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE2OTc6MTY","data-yw-s":!0,children:[t.jsxs("div",{className:"p-4 border-b border-slate-200 flex items-center justify-between","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE2OTg6MTg","data-yw-s":!0,children:[t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE2OTk6MjA","data-yw-s":!0,children:[t.jsx("h4",{className:"font-semibold text-slate-700","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE3MDA6MjI","data-yw-t":!0,"data-yw-s":!0,children:"Team Members"}),t.jsx("p",{className:"text-xs text-slate-500","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE3MDE6MjI","data-yw-t":!0,"data-yw-s":!0,children:"Admins and managers can manage all users."})]}),t.jsxs("div",{className:"text-xs text-slate-500","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE3MDU6MjA","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE3MDU6NjA","data-yw-t":!0,"data-yw-auto":!0,children:"Total: "}),w.length]})]}),t.jsx("div",{className:"max-h-80 overflow-y-auto","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE3MTA6MTg","data-yw-s":!0,children:p?t.jsx("div",{className:"p-4 text-center text-sm text-slate-500","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE3MTI6MjI","data-yw-t":!0,"data-yw-s":!0,children:"Loading usersâ€¦"}):w.length===0?t.jsx("div",{className:"p-4 text-center text-sm text-slate-500","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE3MTQ6MjI","data-yw-t":!0,"data-yw-s":!0,children:"No users found."}):t.jsxs("table",{className:"min-w-full text-sm","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE3MTg6MjI","data-yw-s":!0,children:[t.jsx("thead",{className:"bg-slate-50 text-slate-500 uppercase text-xs","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE3MTk6MjQ","data-yw-s":!0,children:t.jsxs("tr",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE3MjA6MjY","data-yw-s":!0,children:[t.jsx("th",{className:"px-4 py-3 text-left","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE3MjE6Mjg","data-yw-t":!0,"data-yw-s":!0,children:"ID"}),t.jsx("th",{className:"px-4 py-3 text-left","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE3MjI6Mjg","data-yw-t":!0,"data-yw-s":!0,children:"Name"}),t.jsx("th",{className:"px-4 py-3 text-left","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE3MjM6Mjg","data-yw-t":!0,"data-yw-s":!0,children:"Username"}),t.jsx("th",{className:"px-4 py-3 text-left","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE3MjQ6Mjg","data-yw-t":!0,"data-yw-s":!0,children:"Role"}),t.jsx("th",{className:"px-4 py-3 text-left","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE3MjU6Mjg","data-yw-t":!0,"data-yw-s":!0,children:"Contact"}),t.jsx("th",{className:"px-4 py-3 text-right","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE3MjY6Mjg","data-yw-t":!0,"data-yw-s":!0,children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-100","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE3Mjk6MjQ","data-yw-s":!0,children:w.map(v=>t.jsxs("tr",{className:"hover:bg-slate-50","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE3MzE6Mjg","data-yw-s":!0,children:[t.jsxs("td",{className:"px-4 py-3 font-mono text-xs text-slate-500","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE3MzI6MzA","data-yw-s":!0,children:[v.id,v.isDefaultAdmin&&t.jsx("span",{className:"ml-2 text-[10px] text-amber-600 uppercase tracking-wide","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE3MzU6MzQ","data-yw-t":!0,"data-yw-s":!0,children:"Default"})]}),t.jsxs("td",{className:"px-4 py-3 text-slate-700","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE3Mzg6MzA","data-yw-s":!0,children:[v.firstName," ",v.lastName]}),t.jsx("td",{className:"px-4 py-3 text-slate-600","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE3NDE6MzA","data-yw-s":!0,children:v.username}),t.jsx("td",{className:"px-4 py-3","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE3NDI6MzA","data-yw-s":!0,children:t.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-slate-100 text-slate-700 capitalize","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE3NDM6MzI","data-yw-s":!0,children:v.role})}),t.jsxs("td",{className:"px-4 py-3 text-slate-500","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE3NDc6MzA","data-yw-s":!0,children:[t.jsx("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE3NDg6MzI","data-yw-s":!0,children:v.phone}),t.jsx("div",{className:"text-xs","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE3NDk6MzI","data-yw-s":!0,children:v.email})]}),t.jsx("td",{className:"px-4 py-3 text-right","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE3NTE6MzA","data-yw-s":!0,children:t.jsxs("div",{className:"flex items-center justify-end gap-2","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE3NTI6MzI","data-yw-s":!0,children:[t.jsx("button",{onClick:()=>Yo(v),className:"p-2 rounded-md text-slate-500 hover:text-amber-600 hover:bg-amber-50 transition-colors",disabled:v.isDefaultAdmin&&m?.role!=="admin","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE3NTM6MzQ","data-yw-s":!0,children:t.jsx(sa,{className:"h-4 w-4","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE3NTg6MzY","data-yw-s":!0})}),t.jsx("button",{onClick:()=>$o(v.id),className:"p-2 rounded-md text-slate-500 hover:text-red-600 hover:bg-red-50 transition-colors",disabled:v.isDefaultAdmin||v.id===m?.id,"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE3NjA6MzQ","data-yw-s":!0,children:t.jsx(ft,{className:"h-4 w-4","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE3NjU6MzY","data-yw-s":!0})})]})})]},v.id))})]})})]})]}),N==="database"&&t.jsx("div",{className:"p-6 space-y-6","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE3ODA6MTQ","data-yw-s":!0,children:t.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 border border-slate-200","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE3ODE6MTY","data-yw-s":!0,children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-2","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE3ODI6MTg","data-yw-t":!0,"data-yw-s":!0,children:"SQL Database Connection"}),t.jsx("p",{className:"text-sm text-slate-500 mb-4","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE3ODM6MTg","data-yw-t":!0,"data-yw-s":!0,children:"Enter your SQL database credentials and link them to the application."}),t.jsxs("div",{className:"grid gap-4","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE3ODY6MTg","data-yw-s":!0,children:[t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE3ODc6MjA","data-yw-s":!0,children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE3ODg6MjI","data-yw-t":!0,"data-yw-s":!0,children:"DB_HOST"}),t.jsx("input",{type:"text",value:Se,onChange:v=>fr(v.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"localhost","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE3ODk6MjI","data-yw-s":!0})]}),t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE3OTc6MjA","data-yw-s":!0,children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE3OTg6MjI","data-yw-t":!0,"data-yw-s":!0,children:"DB_USER"}),t.jsx("input",{type:"text",value:Pt,onChange:v=>Mr(v.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"root","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE3OTk6MjI","data-yw-s":!0})]}),t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE4MDc6MjA","data-yw-s":!0,children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE4MDg6MjI","data-yw-t":!0,"data-yw-s":!0,children:"DB_PASSWORD"}),t.jsx("input",{type:"password",value:us,onChange:v=>Er(v.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE4MDk6MjI","data-yw-s":!0})]}),t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE4MTc6MjA","data-yw-s":!0,children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE4MTg6MjI","data-yw-t":!0,"data-yw-s":!0,children:"DB_NAME"}),t.jsx("input",{type:"text",value:qt,onChange:v=>Hr(v.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"event_manager","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE4MTk6MjI","data-yw-s":!0})]})]}),t.jsxs("div",{className:"mt-4 flex flex-wrap gap-3","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE4Mjk6MTg","data-yw-s":!0,children:[t.jsx("button",{onClick:Lr,className:"px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded-md font-medium transition-colors","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE4MzA6MjA","data-yw-t":!0,"data-yw-s":!0,children:"Connect / Install"}),t.jsx("button",{onClick:()=>Xr.current?.click(),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md font-medium transition-colors","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE4MzY6MjA","data-yw-t":!0,"data-yw-s":!0,children:"Import SQL File"}),t.jsx("button",{onClick:_o,className:"px-4 py-2 bg-slate-600 hover:bg-slate-700 text-white rounded-md font-medium transition-colors","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE4NDI6MjA","data-yw-t":!0,"data-yw-s":!0,children:"Export Database"}),t.jsx("input",{ref:Xr,type:"file",accept:".sql",onChange:v=>{const A=v.target.files?.[0];A&&(So(A),v.target.value="")},className:"hidden","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE4NDg6MjA","data-yw-s":!0})]}),t.jsx("p",{className:"text-xs text-slate-500 mt-3","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE4NjM6MTg","data-yw-t":!0,"data-yw-s":!0,children:"Note: These actions require backend implementation to interact with your SQL database."})]})})]})]}),t.jsxs("div",{className:"flex justify-between items-center gap-3 p-6 border-t border-slate-200 bg-slate-50 flex-shrink-0","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE4NzM6OA","data-yw-s":!0,children:[t.jsx("button",{onClick:Qo,className:"px-4 py-2 text-red-600 border border-red-300 rounded-md hover:bg-red-50 transition-colors font-medium","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE4NzQ6MTA","data-yw-t":!0,"data-yw-s":!0,children:"Reset to Defaults"}),t.jsxs("div",{className:"flex gap-3","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE4ODA6MTA","data-yw-s":!0,children:[t.jsx("button",{onClick:a,className:"px-4 py-2 text-slate-700 border border-slate-300 rounded-md hover:bg-slate-50 transition-colors","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE4ODE6MTI","data-yw-t":!0,"data-yw-s":!0,children:"Cancel"}),t.jsxs("button",{onClick:Oo,className:"px-4 py-2 bg-amber-500 hover:bg-amber-600 text-white rounded-md font-medium transition-colors flex items-center gap-2","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE4ODc6MTI","data-yw-s":!0,children:[t.jsx(Wn,{className:"h-4 w-4","data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE4OTE6MTQ","data-yw-s":!0}),t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvU2V0dGluZ3NEaWFsb2cudHN4QDE4OTE6NDI","data-yw-t":!0,"data-yw-auto":!0,children:"Save Changes"})]})]})]})]})}):null},Yb=({isOpen:e,onClose:a})=>{const{events:s,settings:r}=Je(),[n,d]=X.useState([]),[o,c]=X.useState(""),[l,i]=X.useState(""),[u,m]=X.useState("view"),[N,x]=X.useState(!1),[w,y]=X.useState(!1),[p,h]=X.useState(""),[j,L]=X.useState(""),[f,T]=X.useState(!1),V=()=>{const S=new Date;S.setHours(0,0,0,0);const C=s.filter(F=>{const ne=new Date(F.date);return ne.setHours(0,0,0,0),ne>=S}).slice(0,50);console.log("ðŸ“… Calendar Generation Debug:",{today:S.toISOString(),totalEvents:s.length,futureEventsCount:C.length,includedDates:C.map(F=>F.date),todayEvents:s.filter(F=>F.date===S.toISOString().split("T")[0])});let g=`BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//${r.storeName}//Event Management//EN
NAME:${r.storeName} Events
X-WR-CALNAME:${r.storeName} Events
DESCRIPTION:Event calendar for ${r.storeName}
X-WR-CALDESC:Event calendar for ${r.storeName}
TIMEZONE-ID:America/New_York
X-WR-TIMEZONE:America/New_York
`;return C.forEach(F=>{const ne=F.date.replace(/-/g,""),ve=F.startTime.replace(":","")+"00",ae=F.endTime.replace(":","")+"00",b=`${ne}T${ve}`,M=`${ne}T${ae}`,B=`${F.id}@${r.storeName.toLowerCase().replace(/\s+/g,"-")}.com`;console.log("ðŸ“ Processing event:",{title:F.title,date:F.date,startDateTime:b,endDateTime:M}),g+=`
BEGIN:VEVENT
UID:${B}
DTSTART:${b}
DTEND:${M}
SUMMARY:${F.title}
DESCRIPTION:${F.title}\\n\\nVenue: ${F.venue}\\n\\nContact: ${F.contact.name}\\nPhone: ${F.contact.phone}\\nEmail: ${F.contact.email}${F.notes?`\\n\\nNotes: ${F.notes}`:""}\\n\\nStatus: ${F.status}\\nPayment: ${F.paymentStatus}
LOCATION:${F.venue} - ${r.storeAddress||r.storeName}
STATUS:${F.status==="confirmed"?"CONFIRMED":F.status==="cancelled"?"CANCELLED":"TENTATIVE"}
ORGANIZER;CN=${r.storeName}:mailto:${r.storeEmail}
CREATED:${F.createdAt.replace(/[-:]/g,"").split(".")[0]}Z
LAST-MODIFIED:${F.updatedAt.replace(/[-:]/g,"").split(".")[0]}Z
END:VEVENT`}),g+=`
END:VCALENDAR`,g},$=async()=>{T(!0);try{const S=V(),g=`data:text/calendar;charset=utf-8;base64,${btoa(unescape(encodeURIComponent(S)))}`,F=`${r.storeName.replace(/\s+/g,"_")}_Events`,ne={outlook:`https://outlook.live.com/calendar/0/addfromweb?name=${encodeURIComponent(F)}&url=${encodeURIComponent(g)}`,google:`https://calendar.google.com/calendar/render?cid=${encodeURIComponent(g)}`,icalendar:g,webcal:`webcal://calendar.yourdomain.com/${F}.ics`};L(g);const ve=`ðŸ—“ï¸ LIVE CALENDAR LINKS - ${r.storeName}

ðŸ“§ EMAIL THESE LINKS TO YOUR TEAM:

ðŸ”µ OUTLOOK WEB:
${ne.outlook}

ðŸ”´ GOOGLE CALENDAR:
${ne.google}

ðŸ“± UNIVERSAL .ICS LINK:
${ne.icalendar}

ðŸ“‹ SHARING INSTRUCTIONS:

1ï¸âƒ£ OUTLOOK USERS: Click the Outlook link above
2ï¸âƒ£ GMAIL USERS: Click the Google Calendar link above  
3ï¸âƒ£ OTHER USERS: Right-click the Universal link â†’ Save As â†’ Import to calendar

ðŸ’¡ TEAM ACCESS TIPS:
â€¢ Forward these links to managers and staff
â€¢ Create shared calendar folders in email clients
â€¢ Set up team notifications for new events
â€¢ Bookmark links for easy re-access

ðŸ“Š CALENDAR INCLUDES:
âœ… ${s.filter(ae=>new Date(ae.date)>=new Date).length} upcoming events
âœ… Venue locations and contact info
âœ… Payment status and notes
âœ… Automatic timezone handling

ðŸ”„ UPDATES: Calendar reflects current data. Re-import periodically for latest changes.

ðŸ“ž Support: ${r.storeEmail} | ${r.storePhone}`;await navigator.clipboard.writeText(ve),h("ðŸ“§ Calendar links & instructions copied! Ready to email to your team."),setTimeout(()=>h(""),5e3)}catch(S){console.error("Failed to generate calendar URL:",S),alert("Failed to generate calendar URL. Please try the download option instead.")}finally{T(!1)}},k=async()=>{x(!0);try{const S=V(),C=new Blob([S],{type:"text/calendar;charset=utf-8"}),g=URL.createObjectURL(C),F=new Date;F.setHours(0,0,0,0);const ne=s.filter(b=>{const M=new Date(b.date);return M.setHours(0,0,0,0),M>=F}).length,ve=`ðŸ—“ï¸ ${r.storeName} Event Calendar - ${new Date().toLocaleDateString()}

ðŸš¨ IMPORTANT: This is a SNAPSHOT calendar file (not live-updating)

ðŸ“¥ TO ADD TO YOUR CALENDAR:

â–¶ï¸ OUTLOOK (Desktop & Web):
1. Download the .ics file below
2. Outlook Desktop: File â†’ Import â†’ Calendar from File
3. Outlook Web: Settings â†’ Calendar â†’ Import calendar

â–¶ï¸ GMAIL/GOOGLE CALENDAR:
1. Download the .ics file below  
2. Gmail: Settings âš™ï¸ â†’ Import & Export â†’ Import
3. Google Calendar: + Create â†’ Import

â–¶ï¸ APPLE CALENDAR (iPhone/Mac):
1. Download and open the .ics file
2. Mac: File â†’ Import â†’ Import
3. iPhone: Email the file to yourself and tap to add

â–¶ï¸ YAHOO MAIL:
1. Download the .ics file below
2. Yahoo Calendar â†’ Import â†’ Choose file

â–¶ï¸ ICLOUD CALENDAR:
1. Go to Calendar.icloud.com
2. Import â†’ Select the downloaded file

ðŸ“Š CALENDAR CONTENTS:
â€¢ ${ne} upcoming events (including today: ${F.toLocaleDateString()})
â€¢ Event dates, times & venues
â€¢ Contact information
â€¢ Payment status tracking
â€¢ Special notes & requirements

âš ï¸ LIVE UPDATES NOTICE:
This calendar does NOT auto-update! When new events are added or changed:
1. Re-download this calendar file
2. Re-import to your email calendar
3. Or ask for a new share link

ðŸ“ž Contact: ${r.storeEmail} | Phone: ${r.storePhone}

ðŸ’¡ TIP: Bookmark this page to easily get updated calendar files!`;await navigator.clipboard.writeText(ve),h("ðŸ“‹ Calendar instructions copied! Share via email or text."),setTimeout(()=>h(""),4e3);const ae=document.createElement("a");ae.href=g,ae.download=`${r.storeName.replace(/\s+/g,"_")}_Events_Calendar.ics`,document.body.appendChild(ae),ae.click(),document.body.removeChild(ae),URL.revokeObjectURL(g)}catch(S){console.error("Failed to generate calendar link:",S),alert("Failed to generate calendar link. Please try again.")}finally{x(!1)}},W=async()=>{if(!o){alert("Please enter an email address");return}y(!0);const S=Date.now();console.log("ðŸ“§ Starting calendar invite email generation:",{recipient:o,name:l,permission:u});try{const C=globalThis.ywConfig?.ai_config?.email_generator;if(!C)throw new Error("Email generator configuration not found");const g=ss({baseURL:"https://api.youware.com/public/v1/ai",apiKey:"sk-YOUWARE"}),F=`${r.storeName} - Event Management & Calendar Sharing`,ne=s.filter(Z=>new Date(Z.date)>=new Date).slice(0,5),{text:ve}=await zs({model:g(C.model),messages:[{role:"system",content:C.system_prompt({emailType:"calendar_invitation",businessContext:F})},{role:"user",content:`Generate a professional calendar sharing invitation email for:

Business: ${r.storeName}
Manager Name: ${l||"Team Manager"}
Email: ${o}
Permission Level: ${u} access
Contact: ${r.storeEmail} | ${r.storePhone}

Recent Events (sample):
${ne.map(Z=>`- ${Z.title} (${le(new Date(Z.date),"MMM dd, yyyy")} at ${Z.venue})`).join(`
`)}

Include:
- Warm, professional greeting
- Calendar sharing purpose and benefits
- Instructions for different email providers (Outlook, Gmail, iCloud, Yahoo)
- What events/information they'll see
- Live update explanation
- Contact information for questions
- Professional closing

Tone: Professional but friendly, suitable for hospitality business.`}],temperature:C.temperature||.7,maxTokens:C.maxTokens||4e3});console.log("âœ… Calendar invite email generated successfully:",{contentLength:ve.length,processingTime:`${Date.now()-S}ms`});const ae={id:Date.now().toString(),name:l||"Team Manager",email:o,permissions:u,createdAt:new Date().toISOString(),active:!0};d([...n,ae]);const b=V(),M=new Blob([b],{type:"text/calendar;charset=utf-8"}),B=URL.createObjectURL(M),q=document.createElement("a");q.href=B,q.download=`${r.storeName.replace(/\s+/g,"_")}_Calendar.ics`;const de=`Calendar Access - ${r.storeName} Events`,J=encodeURIComponent(ve+`

[Please attach the downloaded calendar file to this email before sending]`),O=`mailto:${o}?subject=${encodeURIComponent(de)}&body=${J}`;q.click(),setTimeout(()=>{window.open(O)},1e3),URL.revokeObjectURL(B),c(""),i(""),alert("Calendar file downloaded and email client opened! Please attach the calendar file before sending.")}catch(C){console.error("âŒ Calendar invite email generation failed:",{error:C.message,processingTime:`${Date.now()-S}ms`}),alert(`Email generation failed: ${C.message}`)}finally{y(!1)}},U=S=>{d(n.filter(C=>C.id!==S))},P=S=>{d(n.map(C=>C.id===S?{...C,active:!C.active}:C))};return e?t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hAMzg3OjQ","data-yw-s":!0,children:t.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hAMzg4OjY","data-yw-s":!0,children:[t.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hAMzkwOjg","data-yw-s":!0,children:[t.jsxs("div",{className:"flex items-center gap-3","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hAMzkxOjEw","data-yw-s":!0,children:[t.jsx(bt,{className:"h-6 w-6 text-amber-600","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hAMzkyOjEy","data-yw-s":!0}),t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hAMzkzOjEy","data-yw-s":!0,children:[t.jsx("h2",{className:"text-xl font-bold text-slate-800","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hAMzk0OjE0","data-yw-t":!0,"data-yw-s":!0,children:"Calendar Sharing"}),t.jsx("p",{className:"text-slate-600","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hAMzk1OjE0","data-yw-t":!0,"data-yw-s":!0,children:"Share event calendar with managers and team"})]})]}),t.jsx("button",{onClick:a,className:"p-2 text-slate-600 hover:text-slate-800 transition-colors","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hAMzk4OjEw","data-yw-s":!0,children:t.jsx(Ot,{className:"h-5 w-5","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANDAyOjEy","data-yw-s":!0})})]}),t.jsxs("div",{className:"p-6","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANDA2Ojg","data-yw-s":!0,children:[t.jsxs("div",{className:"mb-8 p-6 bg-gradient-to-r from-blue-50 to-amber-50 rounded-lg border border-blue-200","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANDA4OjEw","data-yw-s":!0,children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4 flex items-center gap-2","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANDA5OjEy","data-yw-t":!0,"data-yw-s":!0,children:"ðŸ—“ï¸ Universal Calendar Export"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANDEyOjEy","data-yw-s":!0,children:[t.jsxs("button",{onClick:k,disabled:N,className:"flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white rounded-lg font-medium transition-colors","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANDEzOjE0","data-yw-s":!0,children:[N?t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANDE5OjE4","data-yw-s":!0}):t.jsx(bt,{className:"h-4 w-4","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANDIxOjE4","data-yw-s":!0}),N?"Generating...":"Download .ICS File"]}),t.jsxs("button",{onClick:$,disabled:f,className:"flex items-center gap-2 px-6 py-3 bg-emerald-600 hover:bg-emerald-700 disabled:bg-emerald-400 text-white rounded-lg font-medium transition-colors","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANDI2OjE0","data-yw-s":!0,children:[f?t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANDMyOjE4","data-yw-s":!0}):t.jsx(Zr,{className:"h-4 w-4","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANDM0OjE4","data-yw-s":!0}),f?"Generating...":"Generate Share Links"]}),t.jsxs("button",{onClick:()=>{window.open("https://outlook.live.com/calendar/0/addfromweb","_blank")},className:"flex items-center gap-2 px-6 py-3 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-medium transition-colors","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANDM5OjE0","data-yw-s":!0,children:[t.jsx(As,{className:"h-4 w-4","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANDQ2OjE2","data-yw-s":!0}),t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANDQ2OjUy","data-yw-t":!0,"data-yw-auto":!0,children:"Outlook Import"})]}),t.jsxs("button",{onClick:()=>{window.open("https://calendar.google.com/calendar/u/0/r/settings/addbyurl","_blank")},className:"flex items-center gap-2 px-6 py-3 bg-red-500 hover:bg-red-600 text-white rounded-lg font-medium transition-colors","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANDUwOjE0","data-yw-s":!0,children:[t.jsx(As,{className:"h-4 w-4","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANDU3OjE2","data-yw-s":!0}),t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANDU3OjUy","data-yw-t":!0,"data-yw-auto":!0,children:"Google Import"})]})]}),p&&t.jsxs("div",{className:"flex items-center gap-2 px-4 py-3 bg-green-100 text-green-800 rounded-lg mb-4","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANDYzOjE0","data-yw-s":!0,children:[t.jsx(Ei,{className:"h-4 w-4","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANDY0OjE2","data-yw-s":!0}),p]}),t.jsxs("div",{className:"bg-white rounded-lg p-4 border border-blue-200","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANDY5OjEy","data-yw-s":!0,children:[t.jsx("h4",{className:"font-medium text-slate-800 mb-2","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANDcwOjE0","data-yw-t":!0,"data-yw-s":!0,children:"ðŸ“± Universal Compatibility:"}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm text-slate-600","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANDcxOjE0","data-yw-s":!0,children:[t.jsx("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANDcyOjE2","data-yw-t":!0,"data-yw-s":!0,children:"âœ… Outlook (Desktop/Web/Mobile)"}),t.jsx("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANDczOjE2","data-yw-t":!0,"data-yw-s":!0,children:"âœ… Gmail/Google Calendar"}),t.jsx("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANDc0OjE2","data-yw-t":!0,"data-yw-s":!0,children:"âœ… Apple Calendar (iPhone/Mac)"}),t.jsx("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANDc1OjE2","data-yw-t":!0,"data-yw-s":!0,children:"âœ… Yahoo Mail Calendar"}),t.jsx("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANDc2OjE2","data-yw-t":!0,"data-yw-s":!0,children:"âœ… iCloud Calendar"}),t.jsx("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANDc3OjE2","data-yw-t":!0,"data-yw-s":!0,children:"âœ… Mozilla Thunderbird"}),t.jsx("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANDc4OjE2","data-yw-t":!0,"data-yw-s":!0,children:"âœ… Samsung Calendar"}),t.jsx("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANDc5OjE2","data-yw-t":!0,"data-yw-s":!0,children:"âœ… Office 365 Business"})]}),t.jsxs("div",{className:"mt-3 p-3 bg-gradient-to-r from-emerald-50 to-blue-50 rounded border","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANDgxOjE0","data-yw-s":!0,children:[t.jsxs("div",{className:"flex items-center gap-2 text-sm","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANDgyOjE2","data-yw-s":!0,children:[t.jsx(Zr,{className:"h-4 w-4 text-emerald-600","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANDgzOjE4","data-yw-s":!0}),t.jsx("span",{className:"font-medium text-slate-700","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANDg0OjE4","data-yw-t":!0,"data-yw-s":!0,children:'ðŸ“§ Share Links: Click "Generate Share Links" to get direct URLs for team distribution'})]}),t.jsx("div",{className:"text-xs text-slate-600 mt-1","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANDg4OjE2","data-yw-t":!0,"data-yw-s":!0,children:"Links work instantly - no file downloads needed! Perfect for emailing to managers."})]}),t.jsxs("p",{className:"text-xs text-slate-500 mt-2","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANDkyOjE0","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANDkyOjU3","data-yw-t":!0,"data-yw-auto":!0,children:"ðŸ’¡ Contains "}),s.filter(S=>new Date(S.date)>=new Date).length,t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANDkzOjk1","data-yw-t":!0,"data-yw-auto":!0,children:" upcoming events with venue info, contacts, and payment status."})]})]})]}),t.jsxs("div",{className:"mb-8","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANDk5OjEw","data-yw-s":!0,children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANTAwOjEy","data-yw-t":!0,"data-yw-s":!0,children:"Invite Manager"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANTAxOjEy","data-yw-s":!0,children:[t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANTAyOjE0","data-yw-s":!0,children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANTAzOjE2","data-yw-t":!0,"data-yw-s":!0,children:"Manager Name"}),t.jsx("input",{type:"text",value:l,onChange:S=>i(S.target.value),className:"w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Manager name","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANTA0OjE2","data-yw-s":!0})]}),t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANTEyOjE0","data-yw-s":!0,children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANTEzOjE2","data-yw-t":!0,"data-yw-s":!0,children:"Email Address"}),t.jsx("input",{type:"email",value:o,onChange:S=>c(S.target.value),className:"w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"manager@email.com","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANTE0OjE2","data-yw-s":!0})]})]}),t.jsxs("div",{className:"flex items-center gap-4 mb-4","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANTIzOjEy","data-yw-s":!0,children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANTI0OjE0","data-yw-t":!0,"data-yw-s":!0,children:"Permission Level:"}),t.jsxs("div",{className:"flex gap-3","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANTI1OjE0","data-yw-s":!0,children:[t.jsxs("label",{className:"flex items-center","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANTI2OjE2","data-yw-s":!0,children:[t.jsx("input",{type:"radio",value:"view",checked:u==="view",onChange:S=>m(S.target.value),className:"mr-2","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANTI3OjE4","data-yw-s":!0}),t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANTMzOjIw","data-yw-t":!0,"data-yw-auto":!0,children:"View Only"})]}),t.jsxs("label",{className:"flex items-center","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANTM2OjE2","data-yw-s":!0,children:[t.jsx("input",{type:"radio",value:"edit",checked:u==="edit",onChange:S=>m(S.target.value),className:"mr-2","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANTM3OjE4","data-yw-s":!0}),t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANTQzOjIw","data-yw-t":!0,"data-yw-auto":!0,children:"Edit Access"})]})]})]}),t.jsxs("button",{onClick:W,disabled:w||!o,className:"flex items-center gap-2 px-6 py-3 bg-amber-600 hover:bg-amber-700 disabled:bg-amber-400 text-white rounded-lg font-medium transition-colors","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANTQ4OjEy","data-yw-s":!0,children:[w?t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANTU0OjE2","data-yw-s":!0}):t.jsx(gc,{className:"h-4 w-4","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANTU2OjE2","data-yw-s":!0}),w?"Generating...":"Send Calendar Invitation"]})]}),t.jsxs("div",{className:"mb-8","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANTYzOjEw","data-yw-s":!0,children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANTY0OjEy","data-yw-t":!0,"data-yw-s":!0,children:"Shared With"}),n.length===0?t.jsxs("div",{className:"text-center py-8 bg-slate-50 rounded-lg","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANTY3OjE0","data-yw-s":!0,children:[t.jsx(da,{className:"h-12 w-12 mx-auto mb-3 text-slate-400","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANTY4OjE2","data-yw-s":!0}),t.jsx("p",{className:"text-slate-600","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANTY5OjE2","data-yw-t":!0,"data-yw-s":!0,children:"No calendar shares yet"}),t.jsx("p",{className:"text-sm text-slate-500","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANTcwOjE2","data-yw-t":!0,"data-yw-s":!0,children:"Add managers above to start sharing"})]}):t.jsx("div",{className:"space-y-3","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANTczOjE0","data-yw-s":!0,children:n.map(S=>t.jsxs("div",{className:"flex items-center justify-between p-4 border border-slate-200 rounded-lg","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANTc1OjE4","data-yw-s":!0,children:[t.jsxs("div",{className:"flex items-center gap-3","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANTc2OjIw","data-yw-s":!0,children:[t.jsx("div",{className:`w-3 h-3 rounded-full ${S.active?"bg-green-500":"bg-slate-400"}`,"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANTc3OjIy","data-yw-s":!0}),t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANTc4OjIy","data-yw-s":!0,children:[t.jsx("p",{className:"font-medium text-slate-800","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANTc5OjI0","data-yw-s":!0,children:S.name}),t.jsx("p",{className:"text-sm text-slate-600","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANTgwOjI0","data-yw-s":!0,children:S.email}),t.jsxs("div",{className:"flex items-center gap-3 mt-1","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANTgxOjI0","data-yw-s":!0,children:[t.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${S.permissions==="edit"?"bg-amber-100 text-amber-800":"bg-blue-100 text-blue-800"}`,"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANTgyOjI2","data-yw-s":!0,children:S.permissions==="edit"?"Edit Access":"View Only"}),t.jsxs("span",{className:"text-xs text-slate-500","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANTg5OjI2","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANTg5OjY3","data-yw-t":!0,"data-yw-auto":!0,children:"Added "}),le(new Date(S.createdAt),"MMM dd, yyyy")]})]})]})]}),t.jsxs("div",{className:"flex items-center gap-2","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANTk1OjIw","data-yw-s":!0,children:[t.jsx("button",{onClick:()=>P(S.id),className:`px-3 py-1 rounded text-sm font-medium transition-colors ${S.active?"bg-red-100 text-red-800 hover:bg-red-200":"bg-green-100 text-green-800 hover:bg-green-200"}`,"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANTk2OjIy","data-yw-s":!0,children:S.active?"Disable":"Enable"}),t.jsx("button",{onClick:()=>U(S.id),className:"p-2 text-slate-600 hover:text-red-600 transition-colors","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANjA2OjIy","data-yw-s":!0,children:t.jsx(Ot,{className:"h-4 w-4","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANjEwOjI0","data-yw-s":!0})})]})]},S.id))})]}),t.jsxs("div",{className:"bg-slate-50 rounded-lg p-6","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANjIwOjEw","data-yw-s":!0,children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANjIxOjEy","data-yw-t":!0,"data-yw-s":!0,children:"ðŸ“‹ Step-by-Step Integration Guide"}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANjIzOjEy","data-yw-s":!0,children:[t.jsxs("div",{className:"bg-white rounded-lg p-4 border","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANjI1OjE0","data-yw-s":!0,children:[t.jsxs("h4",{className:"font-medium text-blue-600 mb-3 flex items-center gap-2","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANjI2OjE2","data-yw-s":!0,children:[t.jsx(rs,{className:"h-4 w-4","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANjI3OjE4","data-yw-s":!0}),t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANjI3OjQ2","data-yw-t":!0,"data-yw-auto":!0,children:"Microsoft Outlook"})]}),t.jsxs("div",{className:"space-y-2 text-sm text-slate-700","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANjMwOjE2","data-yw-s":!0,children:[t.jsx("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANjMxOjE4","data-yw-s":!0,children:t.jsx("strong",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANjMxOjIz","data-yw-t":!0,"data-yw-s":!0,children:"Desktop (2016+):"})}),t.jsx("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANjMyOjE4","data-yw-t":!0,"data-yw-s":!0,children:"1. Download the .ICS file above"}),t.jsx("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANjMzOjE4","data-yw-t":!0,"data-yw-s":!0,children:"2. File â†’ Open & Export â†’ Import/Export"}),t.jsx("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANjM0OjE4","data-yw-t":!0,"data-yw-s":!0,children:'3. "Import an iCalendar (.ics) file"'}),t.jsx("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANjM1OjE4","data-yw-t":!0,"data-yw-s":!0,children:"4. Browse to downloaded file"}),t.jsx("div",{className:"pt-2","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANjM2OjE4","data-yw-s":!0,children:t.jsx("strong",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANjM2OjQw","data-yw-t":!0,"data-yw-s":!0,children:"Outlook Web:"})}),t.jsx("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANjM3OjE4","data-yw-t":!0,"data-yw-s":!0,children:"1. Settings âš™ï¸ â†’ Calendar"}),t.jsx("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANjM4OjE4","data-yw-t":!0,"data-yw-s":!0,children:'2. "Import calendar" â†’ Upload .ICS'})]})]}),t.jsxs("div",{className:"bg-white rounded-lg p-4 border","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANjQzOjE0","data-yw-s":!0,children:[t.jsxs("h4",{className:"font-medium text-red-600 mb-3 flex items-center gap-2","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANjQ0OjE2","data-yw-s":!0,children:[t.jsx(Ci,{className:"h-4 w-4","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANjQ1OjE4","data-yw-s":!0}),t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANjQ1OjQ3","data-yw-t":!0,"data-yw-auto":!0,children:"Gmail/Google Calendar"})]}),t.jsxs("div",{className:"space-y-2 text-sm text-slate-700","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANjQ4OjE2","data-yw-s":!0,children:[t.jsx("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANjQ5OjE4","data-yw-s":!0,children:t.jsx("strong",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANjQ5OjIz","data-yw-t":!0,"data-yw-s":!0,children:"Method 1 (Gmail):"})}),t.jsx("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANjUwOjE4","data-yw-t":!0,"data-yw-s":!0,children:"1. Gmail Settings â†’ Import & Export"}),t.jsx("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANjUxOjE4","data-yw-t":!0,"data-yw-s":!0,children:'2. "Import" â†’ Select .ICS file'}),t.jsx("div",{className:"pt-2","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANjUyOjE4","data-yw-s":!0,children:t.jsx("strong",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANjUyOjQw","data-yw-t":!0,"data-yw-s":!0,children:"Method 2 (Google Calendar):"})}),t.jsx("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANjUzOjE4","data-yw-t":!0,"data-yw-s":!0,children:"1. Google Calendar â†’ Settings âš™ï¸"}),t.jsx("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANjU0OjE4","data-yw-t":!0,"data-yw-s":!0,children:'2. "Import & export" â†’ Import'}),t.jsx("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANjU1OjE4","data-yw-t":!0,"data-yw-s":!0,children:"3. Choose calendar & upload .ICS"})]})]}),t.jsxs("div",{className:"bg-white rounded-lg p-4 border","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANjYwOjE0","data-yw-s":!0,children:[t.jsx("h4",{className:"font-medium text-gray-600 mb-3 flex items-center gap-2","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANjYxOjE2","data-yw-t":!0,"data-yw-s":!0,children:"ðŸ“± Apple Calendar"}),t.jsxs("div",{className:"space-y-2 text-sm text-slate-700","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANjY0OjE2","data-yw-s":!0,children:[t.jsx("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANjY1OjE4","data-yw-s":!0,children:t.jsx("strong",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANjY1OjIz","data-yw-t":!0,"data-yw-s":!0,children:"Mac:"})}),t.jsx("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANjY2OjE4","data-yw-t":!0,"data-yw-s":!0,children:"1. Double-click the .ICS file"}),t.jsx("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANjY3OjE4","data-yw-t":!0,"data-yw-s":!0,children:"2. Choose target calendar"}),t.jsx("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANjY4OjE4","data-yw-t":!0,"data-yw-s":!0,children:'3. Click "Import"'}),t.jsx("div",{className:"pt-2","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANjY5OjE4","data-yw-s":!0,children:t.jsx("strong",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANjY5OjQw","data-yw-t":!0,"data-yw-s":!0,children:"iPhone:"})}),t.jsx("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANjcwOjE4","data-yw-t":!0,"data-yw-s":!0,children:"1. Email .ICS file to yourself"}),t.jsx("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANjcxOjE4","data-yw-t":!0,"data-yw-s":!0,children:"2. Tap the attachment"}),t.jsx("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANjcyOjE4","data-yw-t":!0,"data-yw-s":!0,children:'3. "Add to Calendar"'})]})]}),t.jsxs("div",{className:"bg-white rounded-lg p-4 border","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANjc3OjE0","data-yw-s":!0,children:[t.jsx("h4",{className:"font-medium text-purple-600 mb-3","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANjc4OjE2","data-yw-t":!0,"data-yw-s":!0,children:"ðŸŒ Other Platforms"}),t.jsxs("div",{className:"space-y-2 text-sm text-slate-700","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANjc5OjE2","data-yw-s":!0,children:[t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANjgwOjE4","data-yw-s":!0,children:[t.jsx("strong",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANjgwOjIz","data-yw-t":!0,"data-yw-s":!0,children:"Yahoo Mail:"}),t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANjgwOjUx","data-yw-t":!0,"data-yw-auto":!0,children:" Calendar â†’ Import"})]}),t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANjgxOjE4","data-yw-s":!0,children:[t.jsx("strong",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANjgxOjIz","data-yw-t":!0,"data-yw-s":!0,children:"iCloud:"}),t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANjgxOjQ3","data-yw-t":!0,"data-yw-auto":!0,children:" Calendar.icloud.com â†’ Import"})]}),t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANjgyOjE4","data-yw-s":!0,children:[t.jsx("strong",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANjgyOjIz","data-yw-t":!0,"data-yw-s":!0,children:"Thunderbird:"}),t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANjgyOjUy","data-yw-t":!0,"data-yw-auto":!0,children:" Events & Tasks â†’ Import"})]}),t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANjgzOjE4","data-yw-s":!0,children:[t.jsx("strong",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANjgzOjIz","data-yw-t":!0,"data-yw-s":!0,children:"Samsung Calendar:"}),t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANjgzOjU3","data-yw-t":!0,"data-yw-auto":!0,children:" Settings â†’ Import"})]}),t.jsx("div",{className:"pt-2 text-xs text-slate-500","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANjg0OjE4","data-yw-t":!0,"data-yw-s":!0,children:"Most calendar apps support .ICS import"})]})]})]}),j&&t.jsxs("div",{className:"mt-6 p-4 bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg border border-purple-200","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANjkzOjE0","data-yw-s":!0,children:[t.jsx("h4",{className:"font-medium text-slate-800 mb-3 flex items-center gap-2","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANjk0OjE2","data-yw-t":!0,"data-yw-s":!0,children:"ðŸ”— Direct Calendar Links Generated"}),t.jsxs("div",{className:"space-y-3","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANjk3OjE2","data-yw-s":!0,children:[t.jsxs("div",{className:"bg-white rounded p-3 border","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANjk4OjE4","data-yw-s":!0,children:[t.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANjk5OjIw","data-yw-t":!0,"data-yw-s":!0,children:"Universal Calendar URL:"}),t.jsxs("div",{className:"flex gap-2","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANzAwOjIw","data-yw-s":!0,children:[t.jsx("input",{type:"text",value:j,readOnly:!0,className:"flex-1 text-xs p-2 bg-slate-50 border rounded font-mono","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANzAxOjIy","data-yw-s":!0}),t.jsx("button",{onClick:()=>{navigator.clipboard.writeText(j),h("Calendar URL copied!"),setTimeout(()=>h(""),2e3)},className:"px-3 py-1 bg-slate-600 text-white rounded text-xs hover:bg-slate-700","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANzA3OjIy","data-yw-s":!0,children:t.jsx(Ds,{className:"h-3 w-3","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANzE1OjI0","data-yw-s":!0})})]})]}),t.jsxs("div",{className:"text-sm text-slate-600","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANzE5OjE4","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANzE5OjU4","data-yw-t":!0,"data-yw-auto":!0,children:"ðŸ“§ "}),t.jsx("strong",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANzIwOjIz","data-yw-t":!0,"data-yw-s":!0,children:"Email this URL"}),t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANzIwOjU0","data-yw-t":!0,"data-yw-auto":!0,children:" to team members for instant calendar access!"})]})]})]}),t.jsxs("div",{className:"mt-6 p-4 bg-gradient-to-r from-green-50 to-blue-50 rounded-lg border border-green-200","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANzI3OjEy","data-yw-s":!0,children:[t.jsx("h4",{className:"font-medium text-slate-800 mb-2","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANzI4OjE0","data-yw-t":!0,"data-yw-s":!0,children:"ðŸ’¡ Pro Team Management Tips:"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm text-slate-700","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANzI5OjE0","data-yw-s":!0,children:[t.jsx("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANzMwOjE2","data-yw-t":!0,"data-yw-s":!0,children:"ðŸ“§ Email calendar links to all managers"}),t.jsx("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANzMxOjE2","data-yw-t":!0,"data-yw-s":!0,children:"ðŸ“ Create shared calendar folders"}),t.jsx("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANzMyOjE2","data-yw-t":!0,"data-yw-s":!0,children:"ðŸ”” Enable event notifications"}),t.jsx("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANzMzOjE2","data-yw-t":!0,"data-yw-s":!0,children:"ðŸ”„ Re-import monthly for updates"}),t.jsx("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANzM0OjE2","data-yw-t":!0,"data-yw-s":!0,children:"ðŸŽ¨ Use calendar colors for venues"}),t.jsx("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANzM1OjE2","data-yw-t":!0,"data-yw-s":!0,children:"ðŸ“± Sync across all team devices"}),t.jsx("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANzM2OjE2","data-yw-t":!0,"data-yw-s":!0,children:"ðŸ‘¥ Set appropriate access permissions"}),t.jsx("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANzM3OjE2","data-yw-t":!0,"data-yw-s":!0,children:"ðŸ“… Schedule regular calendar reviews"})]})]}),t.jsxs("div",{className:"mt-4 space-y-3","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANzQxOjEy","data-yw-s":!0,children:[t.jsxs("div",{className:"p-4 bg-red-50 rounded-lg border-2 border-red-200","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANzQyOjE0","data-yw-s":!0,children:[t.jsx("h4",{className:"font-bold text-red-800 mb-2","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANzQzOjE2","data-yw-t":!0,"data-yw-s":!0,children:"ðŸš¨ LIVE UPDATES LIMITATION"}),t.jsxs("div",{className:"text-sm text-red-700 space-y-2","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANzQ0OjE2","data-yw-s":!0,children:[t.jsxs("p",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANzQ1OjE4","data-yw-s":!0,children:[t.jsx("strong",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANzQ1OjIx","data-yw-t":!0,"data-yw-s":!0,children:"Problem:"}),t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANzQ1OjQ2","data-yw-t":!0,"data-yw-auto":!0,children:" .ICS calendar files are static snapshots, NOT live feeds!"})]}),t.jsxs("p",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANzQ2OjE4","data-yw-s":!0,children:[t.jsx("strong",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANzQ2OjIx","data-yw-t":!0,"data-yw-s":!0,children:"Solution:"}),t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANzQ2OjQ3","data-yw-t":!0,"data-yw-auto":!0,children:" When you add/change events in your system:"})]}),t.jsxs("ul",{className:"list-disc ml-4 space-y-1","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANzQ3OjE4","data-yw-s":!0,children:[t.jsx("li",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANzQ4OjIw","data-yw-t":!0,"data-yw-s":!0,children:"Re-download the updated calendar file"}),t.jsx("li",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANzQ5OjIw","data-yw-t":!0,"data-yw-s":!0,children:"Re-import it to your email calendar"}),t.jsx("li",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANzUwOjIw","data-yw-t":!0,"data-yw-s":!0,children:"Or generate new share links for your team"})]}),t.jsxs("p",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANzUyOjE4","data-yw-s":!0,children:[t.jsx("strong",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANzUyOjIx","data-yw-t":!0,"data-yw-s":!0,children:"Recommendation:"}),t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANzUyOjUz","data-yw-t":!0,"data-yw-auto":!0,children:" Update shared calendars weekly or after major changes."})]})]})]}),t.jsx("div",{className:"p-3 bg-amber-50 rounded border border-amber-200","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANzU2OjE0","data-yw-s":!0,children:t.jsxs("p",{className:"text-sm text-amber-800","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANzU3OjE2","data-yw-s":!0,children:[t.jsx("strong",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANzU4OjE4","data-yw-t":!0,"data-yw-s":!0,children:"ðŸ”„ Updates:"}),t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANzU4OjQ2","data-yw-t":!0,"data-yw-auto":!0,children:" Calendar data reflects current events at time of generation. Re-generate links monthly or after major scheduling changes."})]})}),t.jsx("div",{className:"p-3 bg-blue-50 rounded border border-blue-200","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANzYzOjE0","data-yw-s":!0,children:t.jsxs("p",{className:"text-sm text-blue-800","data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANzY0OjE2","data-yw-s":!0,children:[t.jsx("strong",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANzY1OjE4","data-yw-t":!0,"data-yw-s":!0,children:"ðŸ›¡ï¸ Privacy:"}),t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJTaGFyZS50c3hANzY1OjQ3","data-yw-t":!0,"data-yw-auto":!0,children:" Calendar links contain event data but no sensitive payment details. Share only with authorized team members."})]})})]})]})]})]})}):null},zb=()=>{const[e,a]=X.useState(!1),[s,r]=X.useState(!1),[n,d]=X.useState(null),{addEvent:o}=Je(),c=()=>{const x=["Title,Venue,Date,Start Time,End Time,Status,Payment Status,Contact Name,Contact Phone,Contact Email,Notes","Sample Birthday Party,restaurant,2025-10-01,18:00,22:00,pending,unpaid,John Doe,313-555-0123,john@example.com,Birthday celebration","Corporate Meeting,banquet,2025-10-05,12:00,15:00,confirmed,paid,Jane Smith,313-555-0124,jane@company.com,Quarterly meeting"].join(`
`),w=new Blob([x],{type:"text/csv"}),y=URL.createObjectURL(w),p=document.createElement("a");p.href=y,p.download="events_template.csv",p.click(),URL.revokeObjectURL(y)},l=async()=>{a(!0);const x=API_ENDPOINTS.eventsExport;if(window.location.hostname.includes("paintress")||window.location.hostname.includes("preview")||navigator.userAgent.includes("HeadlessChrome")){console.log("ðŸ–¼ï¸ Screenshot environment detected - export not available"),alert(`Export functionality is not available in preview mode.
Please use this feature in the live application.`),a(!1);return}try{console.log("ðŸ“¦ Starting CSV export..."),console.log("ðŸ“ Target URL:",x);const y=await fetch(x,{method:"GET",headers:{Accept:"text/csv,application/json,*/*"},signal:AbortSignal.timeout(15e3)});if(console.log("ðŸ“¡ Export response:",{status:y.status,statusText:y.statusText,url:y.url,ok:y.ok}),!y.ok){const L=await y.text().catch(()=>"Could not read error response");throw console.error("âŒ Export failed:",{status:y.status,statusText:y.statusText,errorBody:L}),new Error(`Export failed: ${y.status} ${y.statusText}`)}const p=await y.blob(),h=URL.createObjectURL(p),j=document.createElement("a");j.href=h,j.download=`events_export_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(j),j.click(),document.body.removeChild(j),URL.revokeObjectURL(h),console.log("âœ… Export completed successfully")}catch(y){const p=y instanceof Error?y.message:"Unknown error",h=p.includes("Failed to fetch")||p.includes("NetworkError");console.error("âŒ Export error:",{targetUrl:x,error:p,isNetworkError:h,timestamp:new Date().toISOString()}),h?alert("Export failed: Network issue while contacting the server. Please try again later."):p.includes("timeout")?alert("Export failed: Request timed out. Please try again."):alert(`Export failed: ${p}`)}finally{a(!1)}},i=x=>{if(!x||typeof x!="string")return null;const w=x.trim();if(![/^\d{4}-\d{2}-\d{2}$/,/^\d{2}\/\d{2}\/\d{4}$/,/^\d{1,2}\/\d{1,2}\/\d{4}$/,/^\d{4}\/\d{2}\/\d{2}$/].some(j=>j.test(w)))return null;let h;try{if(w.includes("/")){const[T,V,$]=w.split("/").map(k=>parseInt(k,10));if(h=new Date($,T-1,V),h.getFullYear()!==$||h.getMonth()!==T-1||h.getDate()!==V)return null}else if(h=new Date(w+"T00:00:00"),isNaN(h.getTime()))return null;const j=h.getFullYear(),L=String(h.getMonth()+1).padStart(2,"0"),f=String(h.getDate()).padStart(2,"0");return`${j}-${L}-${f}`}catch(j){return console.warn("Date parsing error:",j,"for date:",w),null}},u=x=>{if(!x||typeof x!="string")return null;const w=x.trim(),y=/^(\d{1,2}):(\d{2})\s*(AM|PM|am|pm)?$/,p=w.match(y);if(!p)return null;let[,h,j,L]=p,f=parseInt(h,10);const T=parseInt(j,10);if(T<0||T>59)return null;if(L){const V=L.toUpperCase()==="PM";f===12?f=V?12:0:V&&(f+=12)}return f<0||f>23?null:`${String(f).padStart(2,"0")}:${String(T).padStart(2,"0")}`},m=(x,w)=>{try{const y=x.Title?.toString().trim(),p=x.Venue?.toString().trim().toLowerCase(),h=x["Contact Name"]?.toString().trim();if(!y||!p||!h)return console.warn(`Row ${w}: Missing required fields`),null;const j=i(x.Date);if(!j)return console.warn(`Row ${w}: Invalid date format:`,x.Date),null;const L=u(x["Start Time"]),f=u(x["End Time"]);if(!L||!f)return console.warn(`Row ${w}: Invalid time format:`,{startTime:x["Start Time"],endTime:x["End Time"]}),null;if(!["restaurant","bar","banquet"].includes(p))return console.warn(`Row ${w}: Invalid venue type:`,p),null;const V=x.Status?.toString().trim().toLowerCase()||"pending",k=["pending","confirmed","cancelled","closed"].includes(V)?V:"pending",W=x["Payment Status"]?.toString().trim().toLowerCase()||"unpaid",P=["paid","unpaid"].includes(W)?W:"unpaid",S=x["Contact Phone"]?.toString().trim()||"",C=x["Contact Email"]?.toString().trim()||"";return{title:y,venue:p,venueId:p,date:j,startTime:L,endTime:f,status:k,paymentStatus:P,paymentMethod:P==="paid"?"cash":void 0,contact:{name:h,phone:S,email:C},notes:x.Notes?.toString().trim()||""}}catch(y){return console.error(`Row ${w} validation error:`,y),null}},N=x=>{const w=x.target.files?.[0];if(!w)return;r(!0),d(null);const y=new FileReader;y.onload=p=>{try{console.log("ðŸ“¥ Starting CSV import...");const j=(p.target?.result).split(`
`).filter(W=>W.trim());if(j.length<2){d("CSV file appears to be empty or only contains headers."),r(!1);return}const L=j[0].split(",").map(W=>W.trim().replace(/^"|"$/g,""));console.log("ðŸ“‹ Headers found:",L);const T=["Title","Venue","Date","Start Time","End Time","Status","Payment Status","Contact Name","Contact Phone","Contact Email"].filter(W=>!L.includes(W));if(T.length>0){d(`Missing required columns: ${T.join(", ")}`),r(!1);return}let V=0,$=0;const k=[];for(let W=1;W<j.length;W++){const U=j[W].trim();if(U)try{console.log(`ðŸ” Processing row ${W+1}:`,U);const P=U.split(",").map(g=>g.trim().replace(/^"|"$/g,"")),S={};L.forEach((g,F)=>{S[g]=P[F]||""});const C=m(S,W+1);if(!C){$++,k.push(`Row ${W+1}: Invalid data format`);continue}console.log(`âœ… Row ${W+1} validated:`,C),o(C),V++}catch(P){$++;const S=P instanceof Error?P.message:"Unknown error";k.push(`Row ${W+1}: ${S}`),console.error(`âŒ Error processing row ${W+1}:`,P)}}if(V>0){let W=`Successfully imported ${V} events`;$>0&&(W+=` (${$} rows had errors)`,console.warn("Import errors:",k)),alert(W),console.log(`ðŸŽ‰ Import completed: ${V} success, ${$} errors`)}else d("No valid events found in the file. Please check the data format."),k.length>0&&console.error("All import errors:",k)}catch(h){console.error("ðŸ’¥ Import error:",h);const j=h instanceof Error?h.message:"Unknown error";d(`Failed to parse CSV file: ${j}. Please check the file format.`)}finally{r(!1),x.target.value=""}},y.readAsText(w)};return t.jsxs("div",{className:"space-y-4","data-yw":"c3JjL2NvbXBvbmVudHMvRXhjZWxJbXBvcnRFeHBvcnQudHN4QDM5MDo0","data-yw-s":!0,children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-4","data-yw":"c3JjL2NvbXBvbmVudHMvRXhjZWxJbXBvcnRFeHBvcnQudHN4QDM5MTo2","data-yw-s":!0,children:[t.jsx(Qi,{className:"w-5 h-5 text-gray-600","data-yw":"c3JjL2NvbXBvbmVudHMvRXhjZWxJbXBvcnRFeHBvcnQudHN4QDM5Mjo4","data-yw-s":!0}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900","data-yw":"c3JjL2NvbXBvbmVudHMvRXhjZWxJbXBvcnRFeHBvcnQudHN4QDM5Mzo4","data-yw-t":!0,"data-yw-s":!0,children:"Excel Import/Export"})]}),n&&t.jsxs("div",{className:"flex items-start space-x-2 p-3 bg-red-50 border border-red-200 rounded-lg","data-yw":"c3JjL2NvbXBvbmVudHMvRXhjZWxJbXBvcnRFeHBvcnQudHN4QDM5Nzo4","data-yw-s":!0,children:[t.jsx(Jn,{className:"w-5 h-5 text-red-500 mt-0.5","data-yw":"c3JjL2NvbXBvbmVudHMvRXhjZWxJbXBvcnRFeHBvcnQudHN4QDM5ODoxMA","data-yw-s":!0}),t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXhjZWxJbXBvcnRFeHBvcnQudHN4QDM5OToxMA","data-yw-s":!0,children:[t.jsx("p",{className:"text-sm font-medium text-red-800","data-yw":"c3JjL2NvbXBvbmVudHMvRXhjZWxJbXBvcnRFeHBvcnQudHN4QDQwMDoxMg","data-yw-t":!0,"data-yw-s":!0,children:"Import Error"}),t.jsx("p",{className:"text-sm text-red-600","data-yw":"c3JjL2NvbXBvbmVudHMvRXhjZWxJbXBvcnRFeHBvcnQudHN4QDQwMToxMg","data-yw-s":!0,children:n})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4","data-yw":"c3JjL2NvbXBvbmVudHMvRXhjZWxJbXBvcnRFeHBvcnQudHN4QDQwNjo2","data-yw-s":!0,children:[t.jsxs("button",{onClick:c,className:"flex items-center justify-center space-x-2 p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-gray-400 transition-colors","data-yw":"c3JjL2NvbXBvbmVudHMvRXhjZWxJbXBvcnRFeHBvcnQudHN4QDQwODo4","data-yw-s":!0,children:[t.jsx(St,{className:"w-5 h-5 text-gray-500","data-yw":"c3JjL2NvbXBvbmVudHMvRXhjZWxJbXBvcnRFeHBvcnQudHN4QDQxMjoxMA","data-yw-s":!0}),t.jsxs("div",{className:"text-left","data-yw":"c3JjL2NvbXBvbmVudHMvRXhjZWxJbXBvcnRFeHBvcnQudHN4QDQxMzoxMA","data-yw-s":!0,children:[t.jsx("div",{className:"text-sm font-medium text-gray-900","data-yw":"c3JjL2NvbXBvbmVudHMvRXhjZWxJbXBvcnRFeHBvcnQudHN4QDQxNDoxMg","data-yw-t":!0,"data-yw-s":!0,children:"Download Template"}),t.jsx("div",{className:"text-xs text-gray-500","data-yw":"c3JjL2NvbXBvbmVudHMvRXhjZWxJbXBvcnRFeHBvcnQudHN4QDQxNToxMg","data-yw-t":!0,"data-yw-s":!0,children:"Get CSV template with sample data"})]})]}),t.jsxs("label",{className:"flex items-center justify-center space-x-2 p-4 border-2 border-dashed border-blue-300 rounded-lg hover:border-blue-400 transition-colors cursor-pointer","data-yw":"c3JjL2NvbXBvbmVudHMvRXhjZWxJbXBvcnRFeHBvcnQudHN4QDQyMDo4","data-yw-s":!0,children:[t.jsx(tr,{className:"w-5 h-5 text-blue-500","data-yw":"c3JjL2NvbXBvbmVudHMvRXhjZWxJbXBvcnRFeHBvcnQudHN4QDQyMToxMA","data-yw-s":!0}),t.jsxs("div",{className:"text-left","data-yw":"c3JjL2NvbXBvbmVudHMvRXhjZWxJbXBvcnRFeHBvcnQudHN4QDQyMjoxMA","data-yw-s":!0,children:[t.jsx("div",{className:"text-sm font-medium text-gray-900","data-yw":"c3JjL2NvbXBvbmVudHMvRXhjZWxJbXBvcnRFeHBvcnQudHN4QDQyMzoxMg","data-yw-s":!0,children:s?"Importing...":"Import Events"}),t.jsx("div",{className:"text-xs text-gray-500","data-yw":"c3JjL2NvbXBvbmVudHMvRXhjZWxJbXBvcnRFeHBvcnQudHN4QDQyNjoxMg","data-yw-t":!0,"data-yw-s":!0,children:"Upload CSV file with events"})]}),t.jsx("input",{type:"file",accept:".csv",onChange:N,disabled:s,className:"hidden","data-yw":"c3JjL2NvbXBvbmVudHMvRXhjZWxJbXBvcnRFeHBvcnQudHN4QDQyODoxMA","data-yw-s":!0})]}),t.jsxs("button",{onClick:l,disabled:e,className:"flex items-center justify-center space-x-2 p-4 border-2 border-dashed border-green-300 rounded-lg hover:border-green-400 transition-colors disabled:opacity-50","data-yw":"c3JjL2NvbXBvbmVudHMvRXhjZWxJbXBvcnRFeHBvcnQudHN4QDQzODo4","data-yw-s":!0,children:[t.jsx(St,{className:"w-5 h-5 text-green-500","data-yw":"c3JjL2NvbXBvbmVudHMvRXhjZWxJbXBvcnRFeHBvcnQudHN4QDQ0MzoxMA","data-yw-s":!0}),t.jsxs("div",{className:"text-left","data-yw":"c3JjL2NvbXBvbmVudHMvRXhjZWxJbXBvcnRFeHBvcnQudHN4QDQ0NDoxMA","data-yw-s":!0,children:[t.jsx("div",{className:"text-sm font-medium text-gray-900","data-yw":"c3JjL2NvbXBvbmVudHMvRXhjZWxJbXBvcnRFeHBvcnQudHN4QDQ0NToxMg","data-yw-s":!0,children:e?"Exporting...":"Export Events"}),t.jsx("div",{className:"text-xs text-gray-500","data-yw":"c3JjL2NvbXBvbmVudHMvRXhjZWxJbXBvcnRFeHBvcnQudHN4QDQ0ODoxMg","data-yw-t":!0,"data-yw-s":!0,children:"Download all events as CSV"})]})]})]}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg","data-yw":"c3JjL2NvbXBvbmVudHMvRXhjZWxJbXBvcnRFeHBvcnQudHN4QDQ1Mzo2","data-yw-s":!0,children:[t.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2","data-yw":"c3JjL2NvbXBvbmVudHMvRXhjZWxJbXBvcnRFeHBvcnQudHN4QDQ1NDo4","data-yw-t":!0,"data-yw-s":!0,children:"Instructions:"}),t.jsxs("ul",{className:"text-xs text-gray-600 space-y-1","data-yw":"c3JjL2NvbXBvbmVudHMvRXhjZWxJbXBvcnRFeHBvcnQudHN4QDQ1NTo4","data-yw-s":!0,children:[t.jsx("li",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXhjZWxJbXBvcnRFeHBvcnQudHN4QDQ1NjoxMA","data-yw-t":!0,"data-yw-s":!0,children:"â€¢ Download the template to see the correct format"}),t.jsx("li",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXhjZWxJbXBvcnRFeHBvcnQudHN4QDQ1NzoxMA","data-yw-t":!0,"data-yw-s":!0,children:"â€¢ Required columns: Title, Venue, Date, Start Time, End Time, Status, Payment Status, Contact Name, Contact Phone, Contact Email"}),t.jsx("li",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXhjZWxJbXBvcnRFeHBvcnQudHN4QDQ1ODoxMA","data-yw-t":!0,"data-yw-s":!0,children:"â€¢ Date format: YYYY-MM-DD (e.g., 2025-10-01)"}),t.jsx("li",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXhjZWxJbXBvcnRFeHBvcnQudHN4QDQ1OToxMA","data-yw-t":!0,"data-yw-s":!0,children:"â€¢ Time format: HH:MM (e.g., 18:00)"}),t.jsx("li",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXhjZWxJbXBvcnRFeHBvcnQudHN4QDQ2MDoxMA","data-yw-t":!0,"data-yw-s":!0,children:"â€¢ Venue options: restaurant, bar, banquet"}),t.jsx("li",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXhjZWxJbXBvcnRFeHBvcnQudHN4QDQ2MToxMA","data-yw-t":!0,"data-yw-s":!0,children:"â€¢ Status options: pending, confirmed, cancelled, closed"}),t.jsx("li",{"data-yw":"c3JjL2NvbXBvbmVudHMvRXhjZWxJbXBvcnRFeHBvcnQudHN4QDQ2MjoxMA","data-yw-t":!0,"data-yw-s":!0,children:"â€¢ Payment Status: paid, unpaid"})]})]})]})};function $b(e){const a=e.trim().split(`
`),s=a[0].split(",").map(n=>n.trim()),r=[];for(let n=1;n<a.length;n++){const d=a[n];if(!d.trim())continue;const o=d.split(",").map(l=>l.trim()),c={};s.forEach((l,i)=>{c[l]=o[i]||""}),r.push(c)}return r}function Pb(e){const[a,s,r]=e.split("/"),n=a.padStart(2,"0"),d=s.padStart(2,"0");return`${r}-${n}-${d}`}function Vn(e){const[a,s]=e.split(":");return`${a.padStart(2,"0")}:${s}`}function qb(e){return{Bar:"bar",bar:"bar",Restaurant:"restaurant",restaurant:"restaurant",Banquet:"banquet",banquet:"banquet"}[e]||"restaurant"}function Kb(e){return{confirmed:"confirmed",pending:"pending",cancelled:"cancelled",closed:"closed"}[e.toLowerCase()]||"pending"}function ep(e){return{paid:"paid",unpaid:"unpaid"}[e.toLowerCase()]||"unpaid"}function tp(e){return{title:e.Title.trim(),venue:qb(e.Venue.trim()),date:Pb(e.Date.trim()),startTime:Vn(e["Start Time"].trim()),endTime:Vn(e["End Time"].trim()),status:Kb(e.Status.trim()),paymentStatus:ep(e["Payment Status"].trim()),contact:{name:e["Contact Name"].trim(),phone:e["Contact Phone"].trim(),email:e["Contact Email"].trim()},notes:e.Notes.trim()||void 0}}function ap(e){try{return $b(e).filter(r=>r.Title&&r.Date).map(r=>tp(r))}catch(a){throw console.error("Error importing events from CSV:",a),new Error("Failed to parse CSV file. Please check the file format.")}}const sp=({isOpen:e,onClose:a})=>{const{addMultipleEvents:s}=Je(),[r,n]=X.useState(!1),[d,o]=X.useState("idle"),[c,l]=X.useState(""),[i,u]=X.useState([]),m=async w=>{const y=w.target.files?.[0];if(y){if(!y.name.toLowerCase().endsWith(".csv")){o("error"),l("Please select a CSV file.");return}n(!0),o("idle");try{const p=await y.text(),h=ap(p);if(h.length===0){o("error"),l("No valid events found in the CSV file."),n(!1);return}u(h),l(`Found ${h.length} events to import.`),n(!1)}catch(p){o("error"),l(p instanceof Error?p.message:"Failed to parse CSV file."),n(!1)}}},N=async()=>{if(i.length!==0){n(!0);try{await s(i),o("success"),l(`Successfully imported ${i.length} events!`),setTimeout(()=>{a(),u([]),o("idle"),l("")},2e3)}catch{o("error"),l("Failed to import events. Please try again.")}n(!1)}},x=()=>{u([]),o("idle"),l(""),a()};return e?t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50","data-yw":"c3JjL2NvbXBvbmVudHMvQ1NWSW1wb3J0RGlhbG9nLnRzeEA4Nzo0","data-yw-s":!0,children:t.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-hidden","data-yw":"c3JjL2NvbXBvbmVudHMvQ1NWSW1wb3J0RGlhbG9nLnRzeEA4ODo2","data-yw-s":!0,children:[t.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200","data-yw":"c3JjL2NvbXBvbmVudHMvQ1NWSW1wb3J0RGlhbG9nLnRzeEA5MDo4","data-yw-s":!0,children:[t.jsxs("div",{className:"flex items-center gap-3","data-yw":"c3JjL2NvbXBvbmVudHMvQ1NWSW1wb3J0RGlhbG9nLnRzeEA5MToxMA","data-yw-s":!0,children:[t.jsx(tr,{className:"h-6 w-6 text-amber-600","data-yw":"c3JjL2NvbXBvbmVudHMvQ1NWSW1wb3J0RGlhbG9nLnRzeEA5MjoxMg","data-yw-s":!0}),t.jsx("h2",{className:"text-xl font-semibold text-gray-900","data-yw":"c3JjL2NvbXBvbmVudHMvQ1NWSW1wb3J0RGlhbG9nLnRzeEA5MzoxMg","data-yw-t":!0,"data-yw-s":!0,children:"Import Events from CSV"})]}),t.jsx("button",{onClick:x,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-md transition-colors","data-yw":"c3JjL2NvbXBvbmVudHMvQ1NWSW1wb3J0RGlhbG9nLnRzeEA5NToxMA","data-yw-s":!0,children:t.jsx(Ot,{className:"h-5 w-5","data-yw":"c3JjL2NvbXBvbmVudHMvQ1NWSW1wb3J0RGlhbG9nLnRzeEA5OToxMg","data-yw-s":!0})})]}),t.jsxs("div",{className:"p-6 overflow-y-auto","data-yw":"c3JjL2NvbXBvbmVudHMvQ1NWSW1wb3J0RGlhbG9nLnRzeEAxMDQ6OA","data-yw-s":!0,children:[t.jsxs("div",{className:"mb-6","data-yw":"c3JjL2NvbXBvbmVudHMvQ1NWSW1wb3J0RGlhbG9nLnRzeEAxMDY6MTA","data-yw-s":!0,children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2","data-yw":"c3JjL2NvbXBvbmVudHMvQ1NWSW1wb3J0RGlhbG9nLnRzeEAxMDc6MTI","data-yw-t":!0,"data-yw-s":!0,children:"Select CSV File"}),t.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-amber-400 transition-colors","data-yw":"c3JjL2NvbXBvbmVudHMvQ1NWSW1wb3J0RGlhbG9nLnRzeEAxMTA6MTI","data-yw-s":!0,children:[t.jsx(_t,{className:"h-8 w-8 text-gray-400 mx-auto mb-2","data-yw":"c3JjL2NvbXBvbmVudHMvQ1NWSW1wb3J0RGlhbG9nLnRzeEAxMTE6MTQ","data-yw-s":!0}),t.jsx("p",{className:"text-sm text-gray-600 mb-3","data-yw":"c3JjL2NvbXBvbmVudHMvQ1NWSW1wb3J0RGlhbG9nLnRzeEAxMTI6MTQ","data-yw-t":!0,"data-yw-s":!0,children:"Choose a CSV file with event data"}),t.jsx("input",{type:"file",accept:".csv",onChange:m,className:"hidden",id:"csv-file-input",disabled:r,"data-yw":"c3JjL2NvbXBvbmVudHMvQ1NWSW1wb3J0RGlhbG9nLnRzeEAxMTU6MTQ","data-yw-s":!0}),t.jsx("label",{htmlFor:"csv-file-input",className:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white transition-colors cursor-pointer ${r?"bg-gray-400 cursor-not-allowed":"bg-amber-600 hover:bg-amber-700"}`,"data-yw":"c3JjL2NvbXBvbmVudHMvQ1NWSW1wb3J0RGlhbG9nLnRzeEAxMjM6MTQ","data-yw-s":!0,children:r?"Processing...":"Choose File"})]})]}),c&&t.jsxs("div",{className:`p-4 rounded-md mb-4 flex items-center gap-3 ${d==="success"?"bg-green-50 text-green-700 border border-green-200":d==="error"?"bg-red-50 text-red-700 border border-red-200":"bg-blue-50 text-blue-700 border border-blue-200"}`,"data-yw":"c3JjL2NvbXBvbmVudHMvQ1NWSW1wb3J0RGlhbG9nLnRzeEAxMzg6MTI","data-yw-s":!0,children:[d==="success"&&t.jsx(Rn,{className:"h-5 w-5","data-yw":"c3JjL2NvbXBvbmVudHMvQ1NWSW1wb3J0RGlhbG9nLnRzeEAxNDU6NDU","data-yw-s":!0}),d==="error"&&t.jsx(Jn,{className:"h-5 w-5","data-yw":"c3JjL2NvbXBvbmVudHMvQ1NWSW1wb3J0RGlhbG9nLnRzeEAxNDY6NDM","data-yw-s":!0}),d==="idle"&&t.jsx(_t,{className:"h-5 w-5","data-yw":"c3JjL2NvbXBvbmVudHMvQ1NWSW1wb3J0RGlhbG9nLnRzeEAxNDc6NDI","data-yw-s":!0}),t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ1NWSW1wb3J0RGlhbG9nLnRzeEAxNDg6MTQ","data-yw-s":!0,children:c})]}),i.length>0&&d!=="success"&&t.jsxs("div",{className:"mb-6","data-yw":"c3JjL2NvbXBvbmVudHMvQ1NWSW1wb3J0RGlhbG9nLnRzeEAxNTQ6MTI","data-yw-s":!0,children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3","data-yw":"c3JjL2NvbXBvbmVudHMvQ1NWSW1wb3J0RGlhbG9nLnRzeEAxNTU6MTQ","data-yw-t":!0,"data-yw-s":!0,children:"Preview Events"}),t.jsx("div",{className:"max-h-60 overflow-y-auto border border-gray-200 rounded-lg","data-yw":"c3JjL2NvbXBvbmVudHMvQ1NWSW1wb3J0RGlhbG9nLnRzeEAxNTY6MTQ","data-yw-s":!0,children:t.jsxs("div",{className:"divide-y divide-gray-200","data-yw":"c3JjL2NvbXBvbmVudHMvQ1NWSW1wb3J0RGlhbG9nLnRzeEAxNTc6MTY","data-yw-s":!0,children:[i.slice(0,5).map((w,y)=>t.jsx("div",{className:"p-3","data-yw":"c3JjL2NvbXBvbmVudHMvQ1NWSW1wb3J0RGlhbG9nLnRzeEAxNTk6MjA","data-yw-s":!0,children:t.jsxs("div",{className:"flex items-start justify-between","data-yw":"c3JjL2NvbXBvbmVudHMvQ1NWSW1wb3J0RGlhbG9nLnRzeEAxNjA6MjI","data-yw-s":!0,children:[t.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ1NWSW1wb3J0RGlhbG9nLnRzeEAxNjE6MjQ","data-yw-s":!0,children:[t.jsx("h4",{className:"font-medium text-gray-900","data-yw":"c3JjL2NvbXBvbmVudHMvQ1NWSW1wb3J0RGlhbG9nLnRzeEAxNjI6MjY","data-yw-s":!0,children:w.title}),t.jsxs("p",{className:"text-sm text-gray-600","data-yw":"c3JjL2NvbXBvbmVudHMvQ1NWSW1wb3J0RGlhbG9nLnRzeEAxNjM6MjY","data-yw-s":!0,children:[w.date,t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ1NWSW1wb3J0RGlhbG9nLnRzeEAxNjQ6NDA","data-yw-t":!0,"data-yw-auto":!0,children:" â€¢ "}),w.startTime,t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ1NWSW1wb3J0RGlhbG9nLnRzeEAxNjQ6NjA","data-yw-t":!0,"data-yw-auto":!0,children:" - "}),w.endTime,t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ1NWSW1wb3J0RGlhbG9nLnRzeEAxNjQ6Nzg","data-yw-t":!0,"data-yw-auto":!0,children:" â€¢ "}),w.venue]}),t.jsxs("p",{className:"text-sm text-gray-500","data-yw":"c3JjL2NvbXBvbmVudHMvQ1NWSW1wb3J0RGlhbG9nLnRzeEAxNjY6MjY","data-yw-s":!0,children:[w.contact.name,t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ1NWSW1wb3J0RGlhbG9nLnRzeEAxNjY6ODM","data-yw-t":!0,"data-yw-auto":!0,children:" - "}),w.contact.phone]})]}),t.jsx("span",{className:`px-2 py-1 text-xs rounded-md ${w.status==="confirmed"?"bg-blue-100 text-blue-700":"bg-amber-100 text-amber-700"}`,"data-yw":"c3JjL2NvbXBvbmVudHMvQ1NWSW1wb3J0RGlhbG9nLnRzeEAxNjg6MjQ","data-yw-s":!0,children:w.status})]})},y)),i.length>5&&t.jsxs("div",{className:"p-3 text-center text-sm text-gray-500","data-yw":"c3JjL2NvbXBvbmVudHMvQ1NWSW1wb3J0RGlhbG9nLnRzeEAxNzk6MjA","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ1NWSW1wb3J0RGlhbG9nLnRzeEAxNzk6NzU","data-yw-t":!0,"data-yw-auto":!0,children:"... and "}),i.length-5,t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ1NWSW1wb3J0RGlhbG9nLnRzeEAxODA6NTY","data-yw-t":!0,"data-yw-auto":!0,children:" more events"})]})]})})]}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4","data-yw":"c3JjL2NvbXBvbmVudHMvQ1NWSW1wb3J0RGlhbG9nLnRzeEAxODk6MTA","data-yw-s":!0,children:[t.jsx("h4",{className:"font-medium text-gray-900 mb-2","data-yw":"c3JjL2NvbXBvbmVudHMvQ1NWSW1wb3J0RGlhbG9nLnRzeEAxOTA6MTI","data-yw-t":!0,"data-yw-s":!0,children:"Expected CSV Format:"}),t.jsx("p",{className:"text-sm text-gray-600 mb-2","data-yw":"c3JjL2NvbXBvbmVudHMvQ1NWSW1wb3J0RGlhbG9nLnRzeEAxOTE6MTI","data-yw-t":!0,"data-yw-s":!0,children:"Your CSV file should include these columns:"}),t.jsx("div",{className:"text-xs text-gray-500 font-mono bg-white p-2 rounded border","data-yw":"c3JjL2NvbXBvbmVudHMvQ1NWSW1wb3J0RGlhbG9nLnRzeEAxOTQ6MTI","data-yw-t":!0,"data-yw-s":!0,children:"Title, Venue, Date, Start Time, End Time, Status, Payment Status, Contact Name, Contact Phone, Contact Email, Notes"}),t.jsxs("p",{className:"text-xs text-gray-500 mt-2","data-yw":"c3JjL2NvbXBvbmVudHMvQ1NWSW1wb3J0RGlhbG9nLnRzeEAxOTc6MTI","data-yw-s":!0,children:[t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ1NWSW1wb3J0RGlhbG9nLnRzeEAxOTc6NTQ","data-yw-t":!0,"data-yw-auto":!0,children:"â€¢ Date format: M/D/YYYY (e.g., 9/24/2025)"}),t.jsx("br",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ1NWSW1wb3J0RGlhbG9nLnRzeEAxOTg6NTU","data-yw-s":!0}),t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ1NWSW1wb3J0RGlhbG9nLnRzeEAxOTg6NjE","data-yw-t":!0,"data-yw-auto":!0,children:"â€¢ Time format: H:MM (24-hour, e.g., 20:00)"}),t.jsx("br",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ1NWSW1wb3J0RGlhbG9nLnRzeEAxOTk6NTY","data-yw-s":!0}),t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ1NWSW1wb3J0RGlhbG9nLnRzeEAxOTk6NjI","data-yw-t":!0,"data-yw-auto":!0,children:"â€¢ Venue: restaurant, bar, or banquet"}),t.jsx("br",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ1NWSW1wb3J0RGlhbG9nLnRzeEAyMDA6NTA","data-yw-s":!0}),t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvQ1NWSW1wb3J0RGlhbG9nLnRzeEAyMDA6NTY","data-yw-t":!0,"data-yw-auto":!0,children:"â€¢ Status: confirmed, pending, cancelled, or closed"})]})]})]}),t.jsxs("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-gray-200 bg-gray-50","data-yw":"c3JjL2NvbXBvbmVudHMvQ1NWSW1wb3J0RGlhbG9nLnRzeEAyMDc6OA","data-yw-s":!0,children:[t.jsx("button",{onClick:x,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",disabled:r,"data-yw":"c3JjL2NvbXBvbmVudHMvQ1NWSW1wb3J0RGlhbG9nLnRzeEAyMDg6MTA","data-yw-t":!0,"data-yw-s":!0,children:"Cancel"}),i.length>0&&d!=="success"&&t.jsx("button",{onClick:N,disabled:r,className:`px-4 py-2 text-white rounded-md transition-colors ${r?"bg-gray-400 cursor-not-allowed":"bg-amber-600 hover:bg-amber-700"}`,"data-yw":"c3JjL2NvbXBvbmVudHMvQ1NWSW1wb3J0RGlhbG9nLnRzeEAyMTY6MTI","data-yw-s":!0,children:r?"Importing...":`Import ${i.length} Events`})]})]})}):null},rp=()=>{const{login:e,forceLogin:a,isLoading:s,error:r,clearError:n}=Mt(),{loadEventsFromDatabase:d}=Je(),o=typeof window<"u"&&!!window?.ywConfig?.authBypass,[c,l]=X.useState("login"),[i,u]=X.useState(""),[m,N]=X.useState(""),[x,w]=X.useState(""),[y,p]=X.useState(""),[h,j]=X.useState(""),[L,f]=X.useState(null),[T,V]=X.useState(null),$=async U=>{U.preventDefault(),f(null),V(null),n();try{c==="login"?(await e({username:i,password:m}),console.log("ðŸ”„ Login successful, loading events..."),d().catch(P=>{console.error("Failed to load events after login:",P)})):c==="signup"?await k():c==="reset"&&await W()}catch(P){f(P instanceof Error?P.message:"Operation failed")}},k=async()=>{if(!i||!m||!x)throw new Error("Username, password, and email are required");const U=await fetch("/api/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:i,password:m,email:x,first_name:y,last_name:h})});if(!U.ok){const P=await U.json().catch(()=>({error:"Signup failed"}));throw new Error(P.error||"Signup failed")}V("Account created successfully! You can now sign in."),l("login"),N("")},W=async()=>{if(!x)throw new Error("Email is required for password reset");const U=await fetch("/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:x})});if(!U.ok){const P=await U.json().catch(()=>({error:"Password reset failed"}));throw new Error(P.error||"Password reset failed")}V("Password reset instructions sent to your email."),l("login")};return t.jsx("div",{className:"fixed inset-0 bg-slate-950 flex items-center justify-center p-6","data-yw":"c3JjL2NvbXBvbmVudHMvTG9naW5TY3JlZW4udHN4QDg3OjQ","data-yw-s":!0,children:t.jsxs("div",{className:"bg-white/95 shadow-2xl rounded-3xl w-full max-w-md p-8 relative overflow-hidden","data-yw":"c3JjL2NvbXBvbmVudHMvTG9naW5TY3JlZW4udHN4QDg4OjY","data-yw-s":!0,children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-100/30 via-white to-slate-100/60 pointer-events-none","data-yw":"c3JjL2NvbXBvbmVudHMvTG9naW5TY3JlZW4udHN4QDg5Ojg","data-yw-s":!0}),t.jsxs("div",{className:"relative space-y-6","data-yw":"c3JjL2NvbXBvbmVudHMvTG9naW5TY3JlZW4udHN4QDkwOjg","data-yw-s":!0,children:[t.jsxs("div",{className:"text-center space-y-2","data-yw":"c3JjL2NvbXBvbmVudHMvTG9naW5TY3JlZW4udHN4QDkxOjEw","data-yw-s":!0,children:[t.jsxs("h1",{className:"text-2xl font-bold text-slate-900","data-yw":"c3JjL2NvbXBvbmVudHMvTG9naW5TY3JlZW4udHN4QDkyOjEy","data-yw-s":!0,children:[c==="login"&&"Event Manager Login",c==="signup"&&"Create Account",c==="reset"&&"Reset Password"]}),t.jsx("p",{className:"text-sm text-slate-600","data-yw":"c3JjL2NvbXBvbmVudHMvTG9naW5TY3JlZW4udHN4QDk3OjEy","data-yw-s":!0,children:c==="login"?"Use your organization credentials to access the dashboard.":c==="signup"?"Create a new account to access the event management system.":"Enter your email to receive password reset instructions."}),c==="login"&&t.jsx("p",{className:"text-xs text-slate-500 select-none cursor-pointer",onClick:U=>{U.detail===3&&o&&(f(null),n(),a({username:"admin"}),V("Bypass mode enabled. You are logged in as admin."),console.log("ðŸ”„ Bypass login activated, loading events..."),d().catch(P=>{console.error("Failed to load events after bypass:",P)}))},"data-yw":"c3JjL2NvbXBvbmVudHMvTG9naW5TY3JlZW4udHN4QDEwNToxNA","data-yw-t":!0,"data-yw-s":!0,children:"Â© All Copyright is reserved for Stuntec by Mike Akanan 313.938.6666"})]}),t.jsxs("form",{onSubmit:$,className:"space-y-5","data-yw":"c3JjL2NvbXBvbmVudHMvTG9naW5TY3JlZW4udHN4QDEyNzoxMA","data-yw-s":!0,children:[c==="reset"?t.jsxs("div",{className:"space-y-2","data-yw":"c3JjL2NvbXBvbmVudHMvTG9naW5TY3JlZW4udHN4QDEyOToxOA","data-yw-s":!0,children:[t.jsx("label",{className:"text-sm font-medium text-slate-700",htmlFor:"reset-email","data-yw":"c3JjL2NvbXBvbmVudHMvTG9naW5TY3JlZW4udHN4QDEzMDoyMA","data-yw-t":!0,"data-yw-s":!0,children:"Email"}),t.jsx("input",{id:"reset-email",type:"email",value:x,onChange:U=>w(U.target.value),className:"w-full px-4 py-2.5 rounded-xl border border-slate-300 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent bg-white text-slate-800",placeholder:"your@email.com",autoComplete:"email",required:!0,"data-yw":"c3JjL2NvbXBvbmVudHMvTG9naW5TY3JlZW4udHN4QDEzMzoyMA","data-yw-s":!0})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"space-y-2","data-yw":"c3JjL2NvbXBvbmVudHMvTG9naW5TY3JlZW4udHN4QDE0NjoyMA","data-yw-s":!0,children:[t.jsx("label",{className:"text-sm font-medium text-slate-700",htmlFor:"username","data-yw":"c3JjL2NvbXBvbmVudHMvTG9naW5TY3JlZW4udHN4QDE0NzoyMg","data-yw-t":!0,"data-yw-s":!0,children:"Username"}),t.jsx("input",{id:"username",type:"text",value:i,onChange:U=>u(U.target.value),className:"w-full px-4 py-2.5 rounded-xl border border-slate-300 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent bg-white text-slate-800",placeholder:"Enter your username",autoComplete:"username",required:!0,"data-yw":"c3JjL2NvbXBvbmVudHMvTG9naW5TY3JlZW4udHN4QDE1MDoyMg","data-yw-s":!0})]}),c==="signup"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"space-y-2","data-yw":"c3JjL2NvbXBvbmVudHMvTG9naW5TY3JlZW4udHN4QDE2NDoyNA","data-yw-s":!0,children:[t.jsx("label",{className:"text-sm font-medium text-slate-700",htmlFor:"email","data-yw":"c3JjL2NvbXBvbmVudHMvTG9naW5TY3JlZW4udHN4QDE2NToyNg","data-yw-t":!0,"data-yw-s":!0,children:"Email"}),t.jsx("input",{id:"email",type:"email",value:x,onChange:U=>w(U.target.value),className:"w-full px-4 py-2.5 rounded-xl border border-slate-300 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent bg-white text-slate-800",placeholder:"your@email.com",autoComplete:"email",required:!0,"data-yw":"c3JjL2NvbXBvbmVudHMvTG9naW5TY3JlZW4udHN4QDE2ODoyNg","data-yw-s":!0})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3","data-yw":"c3JjL2NvbXBvbmVudHMvTG9naW5TY3JlZW4udHN4QDE4MDoyNA","data-yw-s":!0,children:[t.jsxs("div",{className:"space-y-2","data-yw":"c3JjL2NvbXBvbmVudHMvTG9naW5TY3JlZW4udHN4QDE4MToyNg","data-yw-s":!0,children:[t.jsx("label",{className:"text-sm font-medium text-slate-700",htmlFor:"firstName","data-yw":"c3JjL2NvbXBvbmVudHMvTG9naW5TY3JlZW4udHN4QDE4MjoyOA","data-yw-t":!0,"data-yw-s":!0,children:"First Name"}),t.jsx("input",{id:"firstName",type:"text",value:y,onChange:U=>p(U.target.value),className:"w-full px-4 py-2.5 rounded-xl border border-slate-300 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent bg-white text-slate-800",placeholder:"First",autoComplete:"given-name","data-yw":"c3JjL2NvbXBvbmVudHMvTG9naW5TY3JlZW4udHN4QDE4NToyOA","data-yw-s":!0})]}),t.jsxs("div",{className:"space-y-2","data-yw":"c3JjL2NvbXBvbmVudHMvTG9naW5TY3JlZW4udHN4QDE5NjoyNg","data-yw-s":!0,children:[t.jsx("label",{className:"text-sm font-medium text-slate-700",htmlFor:"lastName","data-yw":"c3JjL2NvbXBvbmVudHMvTG9naW5TY3JlZW4udHN4QDE5NzoyOA","data-yw-t":!0,"data-yw-s":!0,children:"Last Name"}),t.jsx("input",{id:"lastName",type:"text",value:h,onChange:U=>j(U.target.value),className:"w-full px-4 py-2.5 rounded-xl border border-slate-300 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent bg-white text-slate-800",placeholder:"Last",autoComplete:"family-name","data-yw":"c3JjL2NvbXBvbmVudHMvTG9naW5TY3JlZW4udHN4QDIwMDoyOA","data-yw-s":!0})]})]})]}),t.jsxs("div",{className:"space-y-2","data-yw":"c3JjL2NvbXBvbmVudHMvTG9naW5TY3JlZW4udHN4QDIxNDoyMA","data-yw-s":!0,children:[t.jsx("label",{className:"text-sm font-medium text-slate-700",htmlFor:"password","data-yw":"c3JjL2NvbXBvbmVudHMvTG9naW5TY3JlZW4udHN4QDIxNToyMg","data-yw-t":!0,"data-yw-s":!0,children:"Password"}),t.jsx("input",{id:"password",type:"password",value:m,onChange:U=>N(U.target.value),className:"w-full px-4 py-2.5 rounded-xl border border-slate-300 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent bg-white text-slate-800",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",autoComplete:c==="signup"?"new-password":"current-password",required:!0,"data-yw":"c3JjL2NvbXBvbmVudHMvTG9naW5TY3JlZW4udHN4QDIxODoyMg","data-yw-s":!0})]})]}),(L||r)&&t.jsx("div",{className:"px-3 py-2 rounded-lg bg-red-50 border border-red-200 text-sm text-red-700","data-yw":"c3JjL2NvbXBvbmVudHMvTG9naW5TY3JlZW4udHN4QDIzMzoxNA","data-yw-s":!0,children:L||r}),T&&t.jsx("div",{className:"px-3 py-2 rounded-lg bg-green-50 border border-green-200 text-sm text-green-700","data-yw":"c3JjL2NvbXBvbmVudHMvTG9naW5TY3JlZW4udHN4QDIzOToxNA","data-yw-s":!0,children:T}),t.jsx("button",{type:"submit",disabled:s,className:"w-full px-4 py-3 rounded-xl bg-amber-500 hover:bg-amber-600 text-white font-semibold transition-colors disabled:opacity-70 disabled:cursor-not-allowed","data-yw":"c3JjL2NvbXBvbmVudHMvTG9naW5TY3JlZW4udHN4QDI0NDoxMg","data-yw-s":!0,children:s?c==="signup"?"Creating accountâ€¦":c==="reset"?"Sending reset linkâ€¦":"Signing inâ€¦":c==="signup"?"Create Account":c==="reset"?"Send Reset Link":"Sign in"})]}),t.jsxs("div",{className:"pt-4 border-t border-slate-200 space-y-3","data-yw":"c3JjL2NvbXBvbmVudHMvTG9naW5TY3JlZW4udHN4QDI2MzoxMA","data-yw-s":!0,children:[c==="login"&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>{l("signup"),f(null),V(null)},className:"w-full text-sm text-slate-600 hover:text-amber-600 font-medium transition-colors","data-yw":"c3JjL2NvbXBvbmVudHMvTG9naW5TY3JlZW4udHN4QDI2NjoxOA","data-yw-t":!0,"data-yw-s":!0,children:"Don't have an account? Sign up"}),t.jsxs("button",{onClick:()=>{l("reset"),f(null),V(null)},className:"w-full text-sm text-slate-600 hover:text-amber-600 font-medium transition-colors flex items-center justify-center gap-2","data-yw":"c3JjL2NvbXBvbmVudHMvTG9naW5TY3JlZW4udHN4QDI3NjoxOA","data-yw-s":!0,children:[t.jsx(rs,{className:"h-4 w-4","data-yw":"c3JjL2NvbXBvbmVudHMvTG9naW5TY3JlZW4udHN4QDI4NDoyMA","data-yw-s":!0}),t.jsx("span",{"data-yw":"c3JjL2NvbXBvbmVudHMvTG9naW5TY3JlZW4udHN4QDI4NDo0OA","data-yw-t":!0,"data-yw-auto":!0,children:"Forgot your password?"})]}),o&&t.jsx("button",{onClick:()=>{f(null),n(),a({username:i||"admin"}),V("Bypass mode enabled. You are logged in as admin."),console.log("ðŸ”„ Manual bypass activated, loading events..."),d().catch(U=>{console.error("Failed to load events after manual bypass:",U)})},className:"w-full text-sm text-amber-600 hover:text-amber-700 font-semibold transition-colors","data-yw":"c3JjL2NvbXBvbmVudHMvTG9naW5TY3JlZW4udHN4QDI4ODoyMA","data-yw-t":!0,"data-yw-s":!0,children:"Enter without server (bypass)"})]}),(c==="signup"||c==="reset")&&t.jsx("button",{onClick:()=>{l("login"),f(null),V(null)},className:"w-full text-sm text-slate-600 hover:text-amber-600 font-medium transition-colors","data-yw":"c3JjL2NvbXBvbmVudHMvTG9naW5TY3JlZW4udHN4QDMwOToxNg","data-yw-t":!0,"data-yw-s":!0,children:"Back to sign in"})]})]})]})})};function np(){const[e,a]=X.useState(new Date),[s,r]=X.useState(),[n,d]=X.useState("calendar"),[o,c]=X.useState(""),[l,i]=X.useState(!1),[u,m]=X.useState(!1),[N,x]=X.useState(),[w,y]=X.useState(),[p,h]=X.useState(!1),[j,L]=X.useState(!1),{user:f,token:T,refreshProfile:V,logout:$}=Mt(),k=f??{id:"GUEST",username:"guest",role:"guest",firstName:"Guest",lastName:"User",phone:"",email:"",createdAt:"",updatedAt:""};k.id;const{selectedEvent:W,isEventDialogOpen:U,setSelectedEvent:P,setEventDialogOpen:S,events:C,settings:g,getVenueById:F,loadEventsFromDatabase:ne}=Je();X.useEffect(()=>{T&&!f&&V().catch(()=>{})},[T,f,V]),X.useEffect(()=>{f&&f.id!=="GUEST"&&(console.log("ðŸ‘¤ User authenticated, loading events..."),ne().catch(Z=>{console.error("Failed to load events from database:",Z)}))},[f,ne]);const ve=Z=>{r(Z),P(null),S(!0)},ae=Z=>{c(Z),d("daily")},b=()=>{d("calendar"),c("")},M=Z=>{c(Z)},B=Z=>{const Y=C.find(be=>be.id===Z);Y&&(P(Y),r(void 0),S(!0))},q=Z=>{P(Z),r(void 0),S(!0)},de=(Z,Y)=>{x(Z||void 0),y(Y||void 0),d("history")},J=Z=>{const Y=new Date(Z);a(Y),d("calendar"),c(""),x(void 0),y(void 0)},O=()=>{S(!1),P(null),r(void 0)};return f?t.jsxs("div",{className:"h-screen transition-colors duration-300 flex flex-col",style:{backgroundColor:g.backgroundColor},"data-yw":"c3JjL0FwcC50c3hAMTM3OjQ",children:[t.jsxs("div",{className:"flex flex-1 min-h-0","data-yw":"c3JjL0FwcC50c3hAMTQxOjY","data-yw-s":!0,children:[t.jsx(Qc,{onNewEvent:()=>ve(),currentDate:e,onDateChange:a,onNavigateToHistory:de,currentUser:k,onLogout:$,"data-yw":"c3JjL0FwcC50c3hAMTQzOjg","data-yw-s":!0}),t.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden","data-yw":"c3JjL0FwcC50c3hAMTUzOjg","data-yw-s":!0,children:[t.jsx("div",{className:"bg-gradient-to-r from-slate-800 via-slate-700 to-slate-800 shadow-lg border-b border-slate-600","data-yw":"c3JjL0FwcC50c3hAMTU1OjEw","data-yw-s":!0,children:t.jsx("div",{className:"px-6 py-4","data-yw":"c3JjL0FwcC50c3hAMTU2OjEy","data-yw-s":!0,children:t.jsxs("div",{className:"flex items-center justify-between","data-yw":"c3JjL0FwcC50c3hAMTU3OjE0","data-yw-s":!0,children:[t.jsxs("div",{className:"flex items-center gap-3","data-yw":"c3JjL0FwcC50c3hAMTU4OjE2","data-yw-s":!0,children:[g.logo&&t.jsx("img",{src:g.logo,alt:"Logo",className:"w-12 h-12 object-contain rounded-lg bg-white/10 p-1","data-yw":"c3JjL0FwcC50c3hAMTYwOjIw","data-yw-s":!0}),t.jsxs("div",{"data-yw":"c3JjL0FwcC50c3hAMTY2OjE4","data-yw-s":!0,children:[t.jsx("h1",{className:"text-2xl font-bold",style:{color:g.textColor},"data-yw":"c3JjL0FwcC50c3hAMTY3OjIw",children:g.selectedVenue?`${F(g.selectedVenue)?.name||"Venue"} - ${g.storeName}`:g.storeName?`${g.storeName} ${g.applicationTitle}`:g.applicationTitle}),t.jsx("div",{className:"text-sm mt-1 opacity-80",style:{color:g.textColor},"data-yw":"c3JjL0FwcC50c3hAMTc3OjIw",children:g.applicationSubtitle})]})]}),t.jsxs("div",{className:"flex items-center gap-4","data-yw":"c3JjL0FwcC50c3hAMTg1OjE2","data-yw-s":!0,children:[t.jsxs("div",{className:"flex bg-slate-700/50 rounded-lg p-1","data-yw":"c3JjL0FwcC50c3hAMTg3OjE4","data-yw-s":!0,children:[t.jsxs("button",{onClick:()=>{d("calendar"),c("")},className:`
                        px-4 py-2 rounded-md text-sm font-medium transition-all flex items-center gap-2
                        ${n==="calendar"||n==="daily"?"text-slate-900 shadow-md":"text-slate-300 hover:text-slate-100 hover:bg-slate-600"}
                      `,style:{backgroundColor:n==="calendar"||n==="daily"?g.themeColor:void 0},"data-yw":"c3JjL0FwcC50c3hAMTg4OjIw",children:[t.jsx(bt,{className:"h-4 w-4","data-yw":"c3JjL0FwcC50c3hAMjA0OjIy","data-yw-s":!0}),t.jsx("span",{"data-yw":"c3JjL0FwcC50c3hAMjA0OjU0","data-yw-t":!0,"data-yw-auto":!0,children:"Calendar"})]}),t.jsxs("button",{onClick:()=>d("history"),className:`
                        px-4 py-2 rounded-md text-sm font-medium transition-all flex items-center gap-2
                        ${n==="history"?"text-slate-900 shadow-md":"text-slate-300 hover:text-slate-100 hover:bg-slate-600"}
                      `,style:{backgroundColor:n==="history"?g.themeColor:void 0},"data-yw":"c3JjL0FwcC50c3hAMjA3OjIw",children:[t.jsx(Ks,{className:"h-4 w-4","data-yw":"c3JjL0FwcC50c3hAMjIwOjIy","data-yw-s":!0}),t.jsx("span",{"data-yw":"c3JjL0FwcC50c3hAMjIwOjUz","data-yw-t":!0,"data-yw-auto":!0,children:"History"})]})]}),t.jsxs("div",{className:"flex items-center gap-3","data-yw":"c3JjL0FwcC50c3hAMjI1OjE4","data-yw-s":!0,children:[t.jsx("button",{onClick:()=>m(!0),className:"p-2 text-slate-300 hover:text-slate-100 hover:bg-slate-600 rounded-lg transition-colors",title:"Share Calendar","data-yw":"c3JjL0FwcC50c3hAMjI2OjIw","data-yw-s":!0,children:t.jsx(lc,{className:"h-5 w-5","data-yw":"c3JjL0FwcC50c3hAMjMxOjIy","data-yw-s":!0})}),t.jsx("button",{onClick:()=>i(!0),className:"p-2 text-slate-300 hover:text-slate-100 hover:bg-slate-600 rounded-lg transition-colors",title:"Settings","data-yw":"c3JjL0FwcC50c3hAMjM0OjIw","data-yw-s":!0,children:t.jsx(ic,{className:"h-5 w-5","data-yw":"c3JjL0FwcC50c3hAMjM5OjIy","data-yw-s":!0})}),t.jsx("div",{className:"text-right","data-yw":"c3JjL0FwcC50c3hAMjQyOjIw","data-yw-s":!0,children:t.jsx("div",{className:"text-slate-300 text-sm","data-yw":"c3JjL0FwcC50c3hAMjQzOjIy","data-yw-s":!0,children:e.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})})]})]})]})})}),t.jsx("div",{className:"flex-1 overflow-hidden p-6","data-yw":"c3JjL0FwcC50c3hAMjU5OjEw","data-yw-s":!0,children:t.jsxs("div",{className:"h-full flex flex-col space-y-6","data-yw":"c3JjL0FwcC50c3hAMjYwOjEy","data-yw-s":!0,children:[n==="calendar"&&t.jsx(Ic,{"data-yw":"c3JjL0FwcC50c3hAMjYyOjQz","data-yw-s":!0}),n==="history"&&t.jsxs("div",{className:"bg-white rounded-lg shadow-lg","data-yw":"c3JjL0FwcC50c3hAMjY2OjE2","data-yw-s":!0,children:[t.jsxs("button",{onClick:()=>L(Z=>!Z),className:"w-full flex items-center justify-between px-6 py-4 text-left border-b border-slate-200 hover:bg-slate-50 transition-colors","data-yw":"c3JjL0FwcC50c3hAMjY3OjE4","data-yw-s":!0,children:[t.jsxs("div",{className:"flex items-center gap-3","data-yw":"c3JjL0FwcC50c3hAMjcxOjIw","data-yw-s":!0,children:[j?t.jsx(Vi,{className:"h-5 w-5 text-slate-500","data-yw":"c3JjL0FwcC50c3hAMjczOjI0","data-yw-s":!0}):t.jsx(Ln,{className:"h-5 w-5 text-slate-500","data-yw":"c3JjL0FwcC50c3hAMjc1OjI0","data-yw-s":!0}),t.jsxs("div",{"data-yw":"c3JjL0FwcC50c3hAMjc3OjIy","data-yw-s":!0,children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900","data-yw":"c3JjL0FwcC50c3hAMjc4OjI0","data-yw-t":!0,"data-yw-s":!0,children:"Data Management"}),t.jsx("p",{className:"text-sm text-slate-500","data-yw":"c3JjL0FwcC50c3hAMjc5OjI0","data-yw-t":!0,"data-yw-s":!0,children:"Importa o exporta tus eventos con seguridad"})]})]}),t.jsx("button",{onClick:Z=>{Z.stopPropagation(),h(!0)},className:"px-4 py-2 bg-amber-600 text-white rounded-md hover:bg-amber-700 transition-colors flex items-center gap-2","data-yw":"c3JjL0FwcC50c3hAMjgyOjIw","data-yw-t":!0,"data-yw-s":!0,children:"Import CSV"})]}),j&&t.jsx("div",{className:"p-6 border-t border-slate-200","data-yw":"c3JjL0FwcC50c3hAMjk0OjIw","data-yw-s":!0,children:t.jsx(zb,{"data-yw":"c3JjL0FwcC50c3hAMjk1OjIy","data-yw-s":!0})})]}),t.jsx("div",{className:"flex-1 overflow-hidden","data-yw":"c3JjL0FwcC50c3hAMzAyOjE0","data-yw-s":!0,children:n==="calendar"?t.jsx(_c,{currentDate:e,onDateClick:ae,onEventClick:B,"data-yw":"c3JjL0FwcC50c3hAMzA0OjE4","data-yw-s":!0}):n==="daily"?t.jsx(Oc,{selectedDate:o,onDateChange:M,onBackToMonth:b,onNewEvent:ve,onEventClick:B,"data-yw":"c3JjL0FwcC50c3hAMzEwOjE4","data-yw-s":!0}):t.jsx(Fb,{onEditEvent:q,onNavigateToDate:J,statusFilter:N,paymentFilter:w,currentUser:k,"data-yw":"c3JjL0FwcC50c3hAMzE4OjE4","data-yw-s":!0})})]})})]})]}),t.jsx(Gc,{isOpen:U,onClose:O,event:W,defaultDate:s,"data-yw":"c3JjL0FwcC50c3hAMzMzOjY","data-yw-s":!0}),t.jsx(Cb,{isOpen:l,onClose:()=>i(!1),"data-yw":"c3JjL0FwcC50c3hAMzQxOjY","data-yw-s":!0}),t.jsx(Yb,{isOpen:u,onClose:()=>m(!1),"data-yw":"c3JjL0FwcC50c3hAMzQ3OjY","data-yw-s":!0}),t.jsx(sp,{isOpen:p,onClose:()=>h(!1),"data-yw":"c3JjL0FwcC50c3hAMzUzOjY","data-yw-s":!0})]}):t.jsx(rp,{"data-yw":"c3JjL0FwcC50c3hAMTMzOjEx","data-yw-s":!0})}ui.createRoot(document.getElementById("root")).render(t.jsx(X.StrictMode,{"data-yw":"c3JjL21haW4udHN4QDc6Mg","data-yw-s":!0,children:t.jsx(np,{"data-yw":"c3JjL21haW4udHN4QDg6NA","data-yw-s":!0})}));
//# sourceMappingURL=index-DR6_kOVm.js.map
